(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function Fw(){if(x_)return zl;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var R_;function Gw(){return R_||(R_=1,mm.exports=Fw()),mm.exports}var T=Gw(),pm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function Kw(){if(I_)return Re;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,G={};function F(D,re,le){this.props=D,this.context=re,this.refs=G,this.updater=le||O}F.prototype.isReactComponent={},F.prototype.setState=function(D,re){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,re,"setState")},F.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=F.prototype;function ne(D,re,le){this.props=D,this.context=re,this.refs=G,this.updater=le||O}var ae=ne.prototype=new $;ae.constructor=ne,N(ae,F.prototype),ae.isPureReactComponent=!0;var pe=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function P(D,re,le,ie,ye,Ne){return le=Ne.ref,{$$typeof:r,type:D,key:re,ref:le!==void 0?le:null,props:Ne}}function x(D,re){return P(D.type,re,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var re={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return re[le]})}var V=/\/+/g;function z(D,re){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):re.toString(36)}function k(){}function Pt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(k,k):(D.status="pending",D.then(function(re){D.status==="pending"&&(D.status="fulfilled",D.value=re)},function(re){D.status==="pending"&&(D.status="rejected",D.reason=re)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function lt(D,re,le,ie,ye){var Ne=typeof D;(Ne==="undefined"||Ne==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case r:case e:we=!0;break;case E:return we=D._init,lt(we(D._payload),re,le,ie,ye)}}if(we)return ye=ye(D),we=ie===""?"."+z(D,0):ie,pe(ye)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),lt(ye,re,le,"",function(Zn){return Zn})):ye!=null&&(I(ye)&&(ye=x(ye,le+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+we)),re.push(ye)),1;we=0;var Ct=ie===""?".":ie+":";if(pe(D))for(var Je=0;Je<D.length;Je++)ie=D[Je],Ne=Ct+z(ie,Je),we+=lt(ie,re,le,Ne,ye);else if(Je=S(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(ie=D.next()).done;)ie=ie.value,Ne=Ct+z(ie,Je++),we+=lt(ie,re,le,Ne,ye);else if(Ne==="object"){if(typeof D.then=="function")return lt(Pt(D),re,le,ie,ye);throw re=String(D),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(D,re,le){if(D==null)return D;var ie=[],ye=0;return lt(D,ie,"","",function(Ne){return re.call(le,Ne,ye++)}),ie}function oe(D){if(D._status===-1){var re=D._result;re=re(),re.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=re)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return Re.Children={map:W,forEach:function(D,re,le){W(D,function(){re.apply(this,arguments)},le)},count:function(D){var re=0;return W(D,function(){re++}),re},toArray:function(D){return W(D,function(re){return re})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=F,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ne,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return fe.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,re,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ie=N({},D.props),ye=D.key,Ne=void 0;if(re!=null)for(we in re.ref!==void 0&&(Ne=void 0),re.key!==void 0&&(ye=""+re.key),re)!xe.call(re,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&re.ref===void 0||(ie[we]=re[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var Ct=Array(we),Je=0;Je<we;Je++)Ct[Je]=arguments[Je+2];ie.children=Ct}return P(D.type,ye,void 0,void 0,Ne,ie)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,re,le){var ie,ye={},Ne=null;if(re!=null)for(ie in re.key!==void 0&&(Ne=""+re.key),re)xe.call(re,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=re[ie]);var we=arguments.length-2;if(we===1)ye.children=le;else if(1<we){for(var Ct=Array(we),Je=0;Je<we;Je++)Ct[Je]=arguments[Je+2];ye.children=Ct}if(D&&D.defaultProps)for(ie in we=D.defaultProps,we)ye[ie]===void 0&&(ye[ie]=we[ie]);return P(D,Ne,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:oe}},Re.memo=function(D,re){return{$$typeof:g,type:D,compare:re===void 0?null:re}},Re.startTransition=function(D){var re=fe.T,le={};fe.T=le;try{var ie=D(),ye=fe.S;ye!==null&&ye(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,me)}catch(Ne){me(Ne)}finally{fe.T=re}},Re.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Re.use=function(D){return fe.H.use(D)},Re.useActionState=function(D,re,le){return fe.H.useActionState(D,re,le)},Re.useCallback=function(D,re){return fe.H.useCallback(D,re)},Re.useContext=function(D){return fe.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,re){return fe.H.useDeferredValue(D,re)},Re.useEffect=function(D,re,le){var ie=fe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(D,re)},Re.useId=function(){return fe.H.useId()},Re.useImperativeHandle=function(D,re,le){return fe.H.useImperativeHandle(D,re,le)},Re.useInsertionEffect=function(D,re){return fe.H.useInsertionEffect(D,re)},Re.useLayoutEffect=function(D,re){return fe.H.useLayoutEffect(D,re)},Re.useMemo=function(D,re){return fe.H.useMemo(D,re)},Re.useOptimistic=function(D,re){return fe.H.useOptimistic(D,re)},Re.useReducer=function(D,re,le){return fe.H.useReducer(D,re,le)},Re.useRef=function(D){return fe.H.useRef(D)},Re.useState=function(D){return fe.H.useState(D)},Re.useSyncExternalStore=function(D,re,le){return fe.H.useSyncExternalStore(D,re,le)},Re.useTransition=function(){return fe.H.useTransition()},Re.version="19.1.0",Re}var C_;function lp(){return C_||(C_=1,pm.exports=Kw()),pm.exports}var U=lp();const R=vE(U);var Bl={},N_;function Qw(){if(N_)return Bl;N_=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=f,Bl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,O){const N=new u,G=S.length;if(G<2)return N;const F=(O==null?void 0:O.decode)||E;let $=0;do{const ne=S.indexOf("=",$);if(ne===-1)break;const ae=S.indexOf(";",$),pe=ae===-1?G:ae;if(ne>pe){$=S.lastIndexOf(";",ne-1)+1;continue}const fe=m(S,$,ne),xe=p(S,ne,fe),P=S.slice(fe,xe);if(N[P]===void 0){let x=m(S,ne+1,pe),I=p(S,pe,x);const M=F(S.slice(x,I));N[P]=M}$=pe+1}while($<G);return N}function m(S,O,N){do{const G=S.charCodeAt(O);if(G!==32&&G!==9)return O}while(++O<N);return N}function p(S,O,N){for(;O>N;){const G=S.charCodeAt(--O);if(G!==32&&G!==9)return O+1}return N}function g(S,O,N){const G=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const F=G(O);if(!e.test(F))throw new TypeError(`argument val is invalid: ${O}`);let $=S+"="+F;if(!N)return $;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);$+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);$+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);$+="; Path="+N.path}if(N.expires){if(!b(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);$+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&($+="; HttpOnly"),N.secure&&($+="; Secure"),N.partitioned&&($+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return Bl}Qw();var k_="popstate";function Yw(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=Zs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Mm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:tu(u))}function s(o,u){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Ww(e,n,s,r)}function it(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $w(){return Math.random().toString(36).substring(2,10)}function D_(r,e){return{usr:r.state,key:r.key,idx:e}}function Mm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Zs(e):e,state:n,key:e&&e.key||s||$w()}}function tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Zs(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Ww(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=E(),$=F==null?null:F-g;g=F,p&&p({action:m,location:G.location,delta:$})}function S(F,$){m="PUSH";let ne=Mm(G.location,F,$);n&&n(ne,F),g=E()+1;let ae=D_(ne,g),pe=G.createHref(ne);try{f.pushState(ae,"",pe)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(pe)}u&&p&&p({action:m,location:G.location,delta:1})}function O(F,$){m="REPLACE";let ne=Mm(G.location,F,$);n&&n(ne,F),g=E();let ae=D_(ne,g),pe=G.createHref(ne);f.replaceState(ae,"",pe),u&&p&&p({action:m,location:G.location,delta:0})}function N(F){return Xw(F)}let G={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(k_,b),p=F,()=>{o.removeEventListener(k_,b),p=null}},createHref(F){return e(o,F)},createURL:N,encodeLocation(F){let $=N(F);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:O,go(F){return f.go(F)}};return G}function Xw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:tu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function _E(r,e,n="/"){return Zw(r,e,n,!1)}function Zw(r,e,n,s){let o=typeof e=="string"?Zs(e):e,u=ti(o.pathname||"/",n);if(u==null)return null;let f=EE(r);Jw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=cA(u);m=lA(f[p],g,s)}return m}function EE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),EE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:aA(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of TE(u.path))o(u,f,p)}),e}function TE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=TE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Jw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:oA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var eA=/^:[\w-]+$/,tA=3,nA=2,rA=1,iA=10,sA=-2,O_=r=>r==="*";function aA(r,e){let n=r.split("/"),s=n.length;return n.some(O_)&&(s+=sA),e&&(s+=nA),n.filter(o=>!O_(o)).reduce((o,u)=>o+(eA.test(u)?tA:u===""?rA:iA),s)}function oA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function lA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Zr([u,b.pathname]),pathnameBase:mA(Zr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Zr([u,b.pathnameBase]))}return f}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=uA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},S)=>{if(E==="*"){let N=m[S]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const O=m[S];return b&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function uA(r,e=!1,n=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function cA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ti(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function hA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Zs(r):r;return{pathname:n?n.startsWith("/")?n:fA(n,e):e,search:pA(s),hash:gA(o)}}function fA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(r){let e=dA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cp(r,e,n,s=!1){let o;typeof r=="string"?o=Zs(r):(o={...r},it(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=hA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Zr=r=>r.join("/").replace(/\/\/+/g,"/"),mA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),pA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,gA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function yA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var bE=["POST","PUT","PATCH","DELETE"];new Set(bE);var vA=["GET",...bE];new Set(vA);var So=U.createContext(null);So.displayName="DataRouter";var zh=U.createContext(null);zh.displayName="DataRouterState";var wE=U.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var _A=U.createContext(new Map);_A.displayName="Fetchers";var EA=U.createContext(null);EA.displayName="Await";var $n=U.createContext(null);$n.displayName="Navigation";var fu=U.createContext(null);fu.displayName="Location";var Wn=U.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var hp=U.createContext(null);hp.displayName="RouteError";function TA(r,{relative:e}={}){it(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext($n),{hash:o,pathname:u,search:f}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function xo(){return U.useContext(fu)!=null}function br(){return it(xo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(fu).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SE(r){U.useContext($n).static||U.useLayoutEffect(r)}function Js(){let{isDataRoute:r}=U.useContext(Wn);return r?PA():bA()}function bA(){it(xo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(So),{basename:e,navigator:n}=U.useContext($n),{matches:s}=U.useContext(Wn),{pathname:o}=br(),u=JSON.stringify(up(s)),f=U.useRef(!1);return SE(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Un(f.current,AE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=cp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}var wA=U.createContext(null);function AA(r){let e=U.useContext(Wn).outlet;return e&&U.createElement(wA.Provider,{value:r},e)}function du(r,{relative:e}={}){let{matches:n}=U.useContext(Wn),{pathname:s}=br(),o=JSON.stringify(up(n));return U.useMemo(()=>cp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function SA(r,e){return xE(r,e)}function xE(r,e,n,s){var $;it(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext($n),{matches:u}=U.useContext(Wn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let ne=E&&E.path||"";RE(p,!E||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let b=br(),S;if(e){let ne=typeof e=="string"?Zs(e):e;it(g==="/"||(($=ne.pathname)==null?void 0:$.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),S=ne}else S=b;let O=S.pathname||"/",N=O;if(g!=="/"){let ne=g.replace(/^\//,"").split("/");N="/"+O.replace(/^\//,"").split("/").slice(ne.length).join("/")}let G=_E(r,{pathname:N});Un(E||G!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Un(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=NA(G&&G.map(ne=>Object.assign({},ne,{params:Object.assign({},m,ne.params),pathname:Zr([g,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?g:Zr([g,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),u,n,s);return e&&F?U.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function xA(){let r=LA(),e=yA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var RA=U.createElement(xA,null),IA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(Wn.Provider,{value:this.props.routeContext},U.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CA({routeContext:r,match:e,children:n}){let s=U.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Wn.Provider,{value:r},n)}function NA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,S=!1,O=null,N=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||RA,f&&(m<0&&E===0?(RE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):m===E&&(S=!0,N=g.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),F=()=>{let $;return b?$=O:S?$=N:g.route.Component?$=U.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,U.createElement(CA,{match:g,routeContext:{outlet:p,matches:G,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?U.createElement(IA,{location:n.location,revalidation:n.revalidation,component:O,error:b,children:F(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):F()},null)}function fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(r){let e=U.useContext(So);return it(e,fp(r)),e}function DA(r){let e=U.useContext(zh);return it(e,fp(r)),e}function OA(r){let e=U.useContext(Wn);return it(e,fp(r)),e}function dp(r){let e=OA(r),n=e.matches[e.matches.length-1];return it(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function MA(){return dp("useRouteId")}function LA(){var s;let r=U.useContext(hp),e=DA("useRouteError"),n=dp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function PA(){let{router:r}=kA("useNavigate"),e=dp("useNavigate"),n=U.useRef(!1);return SE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Un(n.current,AE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var M_={};function RE(r,e,n){!e&&!M_[r]&&(M_[r]=!0,Un(!1,n))}U.memo(VA);function VA({routes:r,future:e,state:n}){return xE(r,void 0,n,e)}function UA({to:r,replace:e,state:n,relative:s}){it(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext($n);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Wn),{pathname:f}=br(),m=Js(),p=cp(r,up(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function IE(r){return AA(r.context)}function ln(r){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Zs(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:S="default"}=n,O=U.useMemo(()=>{let N=ti(p,f);return N==null?null:{location:{pathname:N,search:g,hash:E,state:b,key:S},navigationType:s}},[f,p,g,E,b,S,s]);return Un(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:U.createElement($n.Provider,{value:m},U.createElement(fu.Provider,{children:e,value:O}))}function zA({children:r,location:e}){return SA(Lm(r),e)}function Lm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Lm(s.props.children,u));return}it(s.type===ln,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Lm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Bh(r){return r!=null&&typeof r.tagName=="string"}function BA(r){return Bh(r)&&r.tagName.toLowerCase()==="button"}function qA(r){return Bh(r)&&r.tagName.toLowerCase()==="form"}function HA(r){return Bh(r)&&r.tagName.toLowerCase()==="input"}function FA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function GA(r,e){return r.button===0&&(!e||e==="_self")&&!FA(r)}var Xc=null;function KA(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var QA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ym(r){return r!=null&&!QA.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function YA(r,e){let n,s,o,u,f;if(qA(r)){let m=r.getAttribute("action");s=m?ti(m,e):null,n=r.getAttribute("method")||sh,o=ym(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(BA(r)||HA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ti(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=ym(r.getAttribute("formenctype"))||ym(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!KA()){let{name:g,type:E,value:b}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(Bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function mp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function $A(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function WA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await $A(u,n);return f.links?f.links():[]}return[]}));return tS(s.flat(1).filter(WA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function L_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function ZA(r,e,{includeHydrateFallback:n}={}){return JA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JA(r){return[...new Set(r)]}function eS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function tS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(eS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nS=new Set([100,101,204,205]);function rS(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ti(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function CE(){let r=U.useContext(So);return mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function iS(){let r=U.useContext(zh);return mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pp=U.createContext(void 0);pp.displayName="FrameworkContext";function NE(){let r=U.useContext(pp);return mp(r,"You must render this element inside a <HydratedRouter> element"),r}function sS(r,e){let n=U.useContext(pp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,S=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let G=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},F=new IntersectionObserver(G,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),U.useEffect(()=>{if(s){let G=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(G)}}},[s]);let O=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:ql(m,O),onBlur:ql(p,N),onMouseEnter:ql(g,O),onMouseLeave:ql(E,N),onTouchStart:ql(b,O)}]:[!1,S,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function aS({page:r,...e}){let{router:n}=CE(),s=U.useMemo(()=>_E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(lS,{page:r,matches:s,...e}):null}function oS(r){let{manifest:e,routeModules:n}=NE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return XA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function lS({page:r,matches:e,...n}){let s=br(),{manifest:o,routeModules:u}=NE(),{basename:f}=CE(),{loaderData:m,matches:p}=iS(),g=U.useMemo(()=>L_(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>L_(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,G=!1;if(e.forEach($=>{var ae;let ne=o.routes[$.route.id];!ne||!ne.hasLoader||(!g.some(pe=>pe.route.id===$.route.id)&&$.route.id in m&&((ae=u[$.route.id])!=null&&ae.shouldRevalidate)||ne.hasClientLoader?G=!0:N.add($.route.id))}),N.size===0)return[];let F=rS(r,f);return G&&N.size>0&&F.searchParams.set("_routes",e.filter($=>N.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),S=U.useMemo(()=>ZA(E,o),[E,o]),O=oS(E);return U.createElement(U.Fragment,null,b.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),S.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),O.map(({key:N,link:G})=>U.createElement("link",{key:N,...G})))}function uS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kE&&(window.__reactRouterVersion="7.6.1")}catch{}function cS({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=Yw({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(jA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var DE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cn=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...S},O){let{basename:N}=U.useContext($n),G=typeof g=="string"&&DE.test(g),F,$=!1;if(typeof g=="string"&&G&&(F=g,kE))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=ti(M.pathname,N);M.origin===I.origin&&V!=null?g=V+M.search+M.hash:$=!0}catch{Un(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=TA(g,{relative:o}),[ae,pe,fe]=sS(s,S),xe=mS(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function P(I){e&&e(I),I.defaultPrevented||xe(I)}let x=U.createElement("a",{...S,...fe,href:F||ne,onClick:$||u?e:P,ref:uS(O,pe),target:p,"data-discover":!G&&n==="render"?"true":void 0});return ae&&!G?U.createElement(U.Fragment,null,x,U.createElement(aS,{page:ne})):x});cn.displayName="Link";var hS=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=du(f,{relative:g.relative}),S=br(),O=U.useContext(zh),{navigator:N,basename:G}=U.useContext($n),F=O!=null&&_S(b)&&m===!0,$=N.encodeLocation?N.encodeLocation(b).pathname:b.pathname,ne=S.pathname,ae=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ae=ae?ae.toLowerCase():null,$=$.toLowerCase()),ae&&G&&(ae=ti(ae,G)||ae);const pe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let fe=ne===$||!o&&ne.startsWith($)&&ne.charAt(pe)==="/",xe=ae!=null&&(ae===$||!o&&ae.startsWith($)&&ae.charAt($.length)==="/"),P={isActive:fe,isPending:xe,isTransitioning:F},x=fe?e:void 0,I;typeof s=="function"?I=s(P):I=[s,fe?"active":null,xe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(P):u;return U.createElement(cn,{...g,"aria-current":x,className:I,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(P):p)});hS.displayName="NavLink";var fS=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...S},O)=>{let N=yS(),G=vS(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&DE.test(m),ne=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let pe=ae.nativeEvent.submitter,fe=(pe==null?void 0:pe.getAttribute("formmethod"))||f;N(pe||ae.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return U.createElement("form",{ref:O,method:F,action:G,onSubmit:s?p:ne,...S,"data-discover":!$&&r==="render"?"true":void 0})});fS.displayName="Form";function dS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(r){let e=U.useContext(So);return it(e,dS(r)),e}function mS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Js(),p=br(),g=du(r,{relative:u});return U.useCallback(E=>{if(GA(E,e)){E.preventDefault();let b=n!==void 0?n:tu(p)===tu(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var pS=0,gS=()=>`__${String(++pS)}__`;function yS(){let{router:r}=OE("useSubmit"),{basename:e}=U.useContext($n),n=MA();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=YA(s,e);if(o.navigate===!1){let E=o.fetcherKey||gS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function vS(r,{relative:e}={}){let{basename:n}=U.useContext($n),s=U.useContext(Wn);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},f=br();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zr([n,u.pathname])),tu(u)}function _S(r,e={}){let n=U.useContext(wE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=OE("useViewTransitionState"),o=du(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ti(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ti(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}[...nS];var vm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function ES(){if(P_)return Qt;P_=1;var r=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var V_;function TS(){if(V_)return vm.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=ES(),vm.exports}const ME=U.createContext({user:null,loading:!0}),bS=()=>{};var U_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(S=64)),s.push(n[E],n[b],n[S],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new AS;const S=u<<2|m>>4;if(s.push(S),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const N=g<<6&192|b;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SS=function(r){const e=LE(r);return PE.encodeByteArray(e,!0)},vh=function(r){return SS(r).replace(/\./g,"")},VE=function(r){try{return PE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=()=>xS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof U_>"u")return;const r=U_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VE(r[1]);return e&&JSON.parse(e)},qh=()=>{try{return bS()||RS()||IS()||CS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UE=r=>{var e,n;return(n=(e=qh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},NS=r=>{const e=UE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>{var r;return(r=qh())===null||r===void 0?void 0:r.config},zE=r=>{var e;return(e=qh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function MS(){var r;const e=(r=qh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function VS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function US(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zS(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="FirebaseError";class jn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qS,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?HS(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new jn(o,m,s)}}function HS(r,e){return r.replace(FS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FS=/\{\$([^}]+)}/g;function GS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(j_(u)&&j_(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function j_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function KS(r,e){const n=new QS(r,e);return n.subscribe.bind(n)}class QS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XS(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(r){return r===Hs?void 0:r}function XS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $S(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const JS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},ex=Me.INFO,tx={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},nx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=tx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=ex,this._logHandler=nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const rx=(r,e)=>e.some(n=>r instanceof n);let z_,B_;function ix(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sx(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,Pm=new WeakMap,qE=new WeakMap,Em=new WeakMap,yp=new WeakMap;function ax(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Fi(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,r)}).catch(()=>{}),yp.set(e,r),e}function ox(r){if(Pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Pm.set(r,e)}let Vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function lx(r){Vm=r(Vm)}function ux(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return qE.set(s,e.sort?e.sort():[e]),Fi(s)}:sx().includes(r)?function(...e){return r.apply(Tm(this),e),Fi(BE.get(this))}:function(...e){return Fi(r.apply(Tm(this),e))}}function cx(r){return typeof r=="function"?ux(r):(r instanceof IDBTransaction&&ox(r),rx(r,ix())?new Proxy(r,Vm):r)}function Fi(r){if(r instanceof IDBRequest)return ax(r);if(Em.has(r))return Em.get(r);const e=cx(r);return e!==r&&(Em.set(r,e),yp.set(e,r)),e}const Tm=r=>yp.get(r);function hx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Fi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fi(f.result),p.oldVersion,p.newVersion,Fi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const fx=["get","getKey","getAll","getAllKeys","count"],dx=["put","add","delete","clear"],bm=new Map;function q_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=dx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}lx(r=>({...r,get:(e,n,s)=>q_(e,n)||r.get(e,n,s),has:(e,n)=>!!q_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(px(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function px(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",H_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new gp("@firebase/app"),gx="@firebase/app-compat",yx="@firebase/analytics-compat",vx="@firebase/analytics",_x="@firebase/app-check-compat",Ex="@firebase/app-check",Tx="@firebase/auth",bx="@firebase/auth-compat",wx="@firebase/database",Ax="@firebase/data-connect",Sx="@firebase/database-compat",xx="@firebase/functions",Rx="@firebase/functions-compat",Ix="@firebase/installations",Cx="@firebase/installations-compat",Nx="@firebase/messaging",kx="@firebase/messaging-compat",Dx="@firebase/performance",Ox="@firebase/performance-compat",Mx="@firebase/remote-config",Lx="@firebase/remote-config-compat",Px="@firebase/storage",Vx="@firebase/storage-compat",Ux="@firebase/firestore",jx="@firebase/vertexai",zx="@firebase/firestore-compat",Bx="firebase",qx="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",Hx={[Um]:"fire-core",[gx]:"fire-core-compat",[vx]:"fire-analytics",[yx]:"fire-analytics-compat",[Ex]:"fire-app-check",[_x]:"fire-app-check-compat",[Tx]:"fire-auth",[bx]:"fire-auth-compat",[wx]:"fire-rtdb",[Ax]:"fire-data-connect",[Sx]:"fire-rtdb-compat",[xx]:"fire-fn",[Rx]:"fire-fn-compat",[Ix]:"fire-iid",[Cx]:"fire-iid-compat",[Nx]:"fire-fcm",[kx]:"fire-fcm-compat",[Dx]:"fire-perf",[Ox]:"fire-perf-compat",[Mx]:"fire-rc",[Lx]:"fire-rc-compat",[Px]:"fire-gcs",[Vx]:"fire-gcs-compat",[Ux]:"fire-fst",[zx]:"fire-fst-compat",[jx]:"fire-vertex","fire-js":"fire-js",[Bx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,Fx=new Map,zm=new Map;function F_(r,e){try{r.container.addComponent(e)}catch(n){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const e=r.name;if(zm.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of _h.values())F_(n,r);for(const n of Fx.values())F_(n,r);return!0}function vp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new mu("app","Firebase",Gx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=qx;function HE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw Gi.create("no-options");const u=_h.get(o);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw Gi.create("duplicate-app",{appName:o})}const f=new ZS(o);for(const p of zm.values())f.addComponent(p);const m=new Kx(n,s,f);return _h.set(o,m),m}function FE(r=jm){const e=_h.get(r);if(!e&&r===jm&&jE())return HE();if(!e)throw Gi.create("no-app",{appName:r});return e}function Ki(r,e,n){var s;let o=(s=Hx[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(m.join(" "));return}po(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="firebase-heartbeat-database",Yx=1,nu="firebase-heartbeat-store";let wm=null;function GE(){return wm||(wm=hx(Qx,Yx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gi.create("idb-open",{originalErrorMessage:r.message})})),wm}async function $x(r){try{const n=(await GE()).transaction(nu),s=await n.objectStore(nu).get(KE(r));return await n.done,s}catch(e){if(e instanceof jn)ni.warn(e.message);else{const n=Gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ni.warn(n.message)}}}async function G_(r,e){try{const s=(await GE()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,KE(r)),await s.done}catch(n){if(n instanceof jn)ni.warn(n.message);else{const s=Gi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ni.warn(s.message)}}}function KE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=1024,Xx=30;class Zx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=K_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Xx){const f=t2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ni.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K_(),{heartbeatsToSend:s,unsentEntries:o}=Jx(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ni.warn(n),""}}}function K_(){return new Date().toISOString().substring(0,10)}function Jx(r,e=Wx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Q_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Q_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class e2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zS()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $x(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return G_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Q_(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function t2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){po(new Ks("platform-logger",e=>new mx(e),"PRIVATE")),po(new Ks("heartbeat",e=>new Zx(e),"PRIVATE")),Ki(Um,H_,r),Ki(Um,H_,"esm2017"),Ki("fire-js","")}n2("");function _p(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r2=QE,YE=new mu("auth","Firebase",QE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new gp("@firebase/auth");function i2(r,...e){Eh.logLevel<=Me.WARN&&Eh.warn(`Auth (${Ro}): ${r}`,...e)}function oh(r,...e){Eh.logLevel<=Me.ERROR&&Eh.error(`Auth (${Ro}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw Ep(r,...e)}function gr(r,...e){return Ep(r,...e)}function $E(r,e,n){const s=Object.assign(Object.assign({},r2()),{[e]:n});return new mu("auth","Firebase",s).create(e,{appName:r.name})}function Jr(r){return $E(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return YE.create(r,...e)}function Ee(r,e,...n){if(!r)throw Ep(e,...n)}function Wr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function ri(r,e){r||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function s2(){return Y_()==="http:"||Y_()==="https:"}function Y_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s2()||PS()||"connection"in navigator)?navigator.onLine:!0}function o2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=OS()||VS()}get(){return a2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,e){ri(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c2=new gu(3e4,6e4);function oi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Xn(r,e,n,s,o={}){return XE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return LS()||(g.referrerPolicy="no-referrer"),WE.fetch()(await ZE(r,r.config.apiHost,n,m),g)})}async function XE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},l2),e);try{const o=new f2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw $E(r,E,g);Qn(r,E)}}catch(o){if(o instanceof jn)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function yu(r,e,n,s,o={}){const u=await Xn(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function ZE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Tp(r.config,o):`${r.config.apiScheme}://${o}`;return u2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function h2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gr(this.auth,"network-request-failed")),c2.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gr(r,e,s);return o.customData._tokenResponse=n,o}function $_(r){return r!==void 0&&r.enterprise!==void 0}class d2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m2(r,e){return Xn(r,"GET","/v2/recaptchaConfig",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p2(r,e){return Xn(r,"POST","/v1/accounts:delete",e)}async function Th(r,e){return Xn(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g2(r,e=!1){const n=at(r),s=await n.getIdToken(e),o=bp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Am(o.auth_time)),issuedAtTime:Wl(Am(o.iat)),expirationTime:Wl(Am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Am(r){return Number(r)*1e3}function bp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=VE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function W_(r){const e=bp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof jn&&y2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function y2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Qs(r,Th(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?JE(u.providerUserInfo):[],m=E2(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new qm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function _2(r){const e=at(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function E2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function JE(r){return r.map(e=>{var{providerId:n}=e,s=_p(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(r,e){const n=await XE(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await ZE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",WE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b2(r,e){return Xn(r,"POST","/v2/accounts:revokeToken",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await T2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new co;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new v2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g2(this,e)}reload(){return _2(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Jr(this.auth));const e=await this.getIdToken();return await Qs(this,p2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,G=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ne=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:pe,isAnonymous:fe,providerData:xe,stsTokenManager:P}=n;Ee(ae&&P,e,"internal-error");const x=co.fromJSON(this.name,P);Ee(typeof ae=="string",e,"internal-error"),Ui(b,e.name),Ui(S,e.name),Ee(typeof pe=="boolean",e,"internal-error"),Ee(typeof fe=="boolean",e,"internal-error"),Ui(O,e.name),Ui(N,e.name),Ui(G,e.name),Ui(F,e.name),Ui($,e.name),Ui(ne,e.name);const I=new Kn({uid:ae,auth:e,email:S,emailVerified:pe,displayName:b,isAnonymous:fe,photoURL:N,phoneNumber:O,tenantId:G,stsTokenManager:x,createdAt:$,lastLoginAt:ne});return xe&&Array.isArray(xe)&&(I.providerData=xe.map(M=>Object.assign({},M))),F&&(I._redirectEventId=F),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new co;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?JE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new co;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=new Map;function Xr(r){ri(r instanceof Function,"Expected a class definition");let e=X_.get(r);return e?(ri(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,X_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eT.type="NONE";const Z_=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class ho{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Th(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ho(Xr(Z_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xr(Z_);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const S=await Th(e,{idToken:E}).catch(()=>{});if(!S)break;b=await Kn._fromGetAccountInfoResponse(e,S,E)}else b=Kn._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ho(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ho(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aT(e))return"Blackberry";if(oT(e))return"Webos";if(nT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(sT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tT(r=Zt()){return/firefox\//i.test(r)}function nT(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(r=Zt()){return/crios\//i.test(r)}function iT(r=Zt()){return/iemobile/i.test(r)}function sT(r=Zt()){return/android/i.test(r)}function aT(r=Zt()){return/blackberry/i.test(r)}function oT(r=Zt()){return/webos/i.test(r)}function wp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function w2(r=Zt()){var e;return wp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function A2(){return US()&&document.documentMode===10}function lT(r=Zt()){return wp(r)||sT(r)||oT(r)||aT(r)||/windows phone/i.test(r)||iT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r,e=[]){let n;switch(r){case"Browser":n=J_(Zt());break;case"Worker":n=`${J_(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r,e={}){return Xn(r,"GET","/v2/passwordPolicy",oi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=6;class I2{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:R2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e0(this),this.idTokenSubscription=new e0(this),this.beforeStateQueue=new S2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Th(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=o2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Jr(this));const n=e?at(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x2(this),n=new I2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await b2(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&i2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(r){return at(r)}class e0{constructor(e){this.auth=e,this.observer=null,this.addObserver=KS(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(r){Hh=r}function cT(r){return Hh.loadJS(r)}function k2(){return Hh.recaptchaEnterpriseScript}function D2(){return Hh.gapiScript}function O2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class M2{constructor(){this.enterprise=new L2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class L2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P2="recaptcha-enterprise",hT="NO_RECAPTCHA";class V2{constructor(e){this.type=P2,this.auth=ns(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{m2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new d2(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;$_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(hT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&$_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=k2();p.length!==0&&(p+=m),cT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function t0(r,e,n,s=!1,o=!1){const u=new V2(r);let f;if(o)f=hT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function wh(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await t0(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await t0(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r,e){const n=vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gs(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function j2(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function z2(r,e,n){const s=ns(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=fT(e),{host:f,port:m}=B2(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Gs(g,s.config.emulator)&&Gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,q2()}function fT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function B2(r){const e=fT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:n0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:n0(f)}}}function n0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function q2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function H2(r,e){return Xn(r,"POST","/v1/accounts:update",e)}async function F2(r,e){return Xn(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(r,e){return yu(r,"POST","/v1/accounts:signInWithPassword",oi(r,e))}async function K2(r,e){return Xn(r,"POST","/v1/accounts:sendOobCode",oi(r,e))}async function Q2(r,e){return K2(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",oi(r,e))}async function $2(r,e){return yu(r,"POST","/v1/accounts:signInWithEmailLink",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Ap{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ru(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ru(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wh(e,n,"signInWithPassword",G2);case"emailLink":return Y2(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wh(e,s,"signUpPassword",F2);case"emailLink":return $2(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e){return yu(r,"POST","/v1/accounts:signInWithIdp",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Ys extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=_p(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ys(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,fo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Z2(r){const e=Fl(Gl(r)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||r}class Sp{constructor(e){var n,s,o,u,f,m;const p=Fl(Gl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=X2((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Z2(e);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.providerId=ea.PROVIDER_ID}static credential(e,n){return ru._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Sp.parseLink(n);return Ee(s,"argument-error"),ru._fromEmailAndCode(e,s.code,s.tenantId)}}ea.PROVIDER_ID="password";ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends vu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends vu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends vu{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qi.credential(n,s)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(r,e){return yu(r,"POST","/v1/accounts:signUp",oi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=r0(s);return new $s({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=r0(s);return new $s({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function r0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends jn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ah(e,n,s,o)}}function mT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,s):u})}async function eR(r,e,n=!1){const s=await Qs(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return $s._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pT(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(Jr(s));const o="reauthenticate";try{const u=await Qs(r,mT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=bp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),$s._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(r,e,n=!1){if(Pn(r.app))return Promise.reject(Jr(r));const s="signIn",o=await mT(r,s,e),u=await $s._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function tR(r,e){return gT(ns(r),e)}async function nR(r,e){return pT(at(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(r){const e=ns(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rR(r,e,n){const s=ns(r);await wh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Q2)}async function iR(r,e,n){if(Pn(r.app))return Promise.reject(Jr(r));const s=ns(r),f=await wh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yT(r),p}),m=await $s._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function sR(r,e,n){return Pn(r.app)?Promise.reject(Jr(r)):tR(at(r),ea.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&yT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(r,e){return Xn(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=at(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Qs(s,aR(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function lR(r,e){return uR(at(r),null,e)}async function uR(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const f=await Qs(r,H2(s,u));await r._updateTokensIfNecessary(f,!0)}function cR(r,e,n,s){return at(r).onIdTokenChanged(e,n,s)}function hR(r,e,n){return at(r).beforeAuthStateChanged(e,n)}function fR(r,e,n,s){return at(r).onAuthStateChanged(e,n,s)}function dR(r){return at(r).signOut()}async function mR(r){return at(r).delete()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=1e3,gR=10;class _T extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);A2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,gR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},pR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const yR=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ET.type="SESSION";const TT=ET;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await vR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=xp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function ER(r){yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function wR(){return bT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",AR=1,xh="firebaseLocalStorage",AT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function SR(){const r=indexedDB.deleteDatabase(wT);return new _u(r).toPromise()}function Hm(){const r=indexedDB.open(wT,AR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:AT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await SR(),e(await Hm()))})})}async function i0(r,e,n){const s=Gh(r,!0).put({[AT]:e,value:n});return new _u(s).toPromise()}async function xR(r,e){const n=Gh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function s0(r,e){const n=Gh(r,!0).delete(e);return new _u(n).toPromise()}const RR=800,IR=3;class ST{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>IR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(wR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new _R(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await i0(e,Sh,"1"),await s0(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>i0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ST.type="LOCAL";const CR=ST;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r,e){return e?Xr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kR(r){return gT(r.auth,new Rp(r),r.bypassAuthState)}function DR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),pT(n,new Rp(r),r.bypassAuthState)}async function OR(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eR(n,new Rp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kR;case"linkViaPopup":case"linkViaRedirect":return OR;case"reauthViaPopup":case"reauthViaRedirect":return DR;default:Qn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new gu(2e3,1e4);class uo extends xT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="pendingRedirect",uh=new Map;class PR extends xT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await VR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VR(r,e){const n=zR(e),s=jR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UR(r,e){uh.set(r._key(),e)}function jR(r){return Xr(r._redirectPersistence)}function zR(r){return lh(LR,r.config.apiKey,r.name)}async function BR(r,e,n=!1){if(Pn(r.app))return Promise.reject(Jr(r));const s=ns(r),o=NR(s,e),f=await new PR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=10*60*1e3;class HR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!RT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qR&&this.cachedEventUids.clear(),this.cachedEventUids.has(a0(e))}saveEventToCache(e){this.cachedEventUids.add(a0(e)),this.lastProcessedEventTime=Date.now()}}function a0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function RT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(r,e={}){return Xn(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,QR=/^https?/;async function YR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await GR(r);for(const n of e)try{if($R(n))return}catch{}Qn(r,"unauthorized-domain")}function $R(r){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!QR.test(n))return!1;if(KR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new gu(3e4,6e4);function o0(){const r=yr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function XR(r){return new Promise((e,n)=>{var s,o,u;function f(){o0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o0(),n(gr(r,"network-request-failed"))},timeout:WR.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yr().gapi)===null||u===void 0)&&u.load)f();else{const m=O2("iframefcb");return yr()[m]=()=>{gapi.load?f():n(gr(r,"network-request-failed"))},cT(`${D2()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function ZR(r){return ch=ch||XR(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new gu(5e3,15e3),eI="__/auth/iframe",tI="emulator/auth/iframe",nI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Tp(e,tI):`https://${r.config.authDomain}/${eI}`,s={apiKey:e.apiKey,appName:r.name,v:Ro},o=rI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function sI(r){const e=await ZR(r),n=yr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:iI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gr(r,"network-request-failed"),m=yr().setTimeout(()=>{u(f)},JR.get());function p(){yr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oI=500,lI=600,uI="_blank",cI="http://localhost";class l0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hI(r,e,n,s=oI,o=lI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},aI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Zt().toLowerCase();n&&(m=rT(g)?uI:n),tT(g)&&(e=e||cI,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[O,N])=>`${S}${O}=${N},`,"");if(w2(g)&&m!=="_self")return fI(e||"",m),new l0(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new l0(b)}function fI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="__/auth/handler",mI="emulator/auth/handler",pI=encodeURIComponent("fac");async function u0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof dT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",GS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof vu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${pI}=${encodeURIComponent(p)}`:"";return`${gI(r)}?${pu(m).slice(1)}${g}`}function gI({config:r}){return r.emulator?Tp(r,mI):`https://${r.authDomain}/${dI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class yI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=BR,this._overrideRedirectResult=UR}async _openPopup(e,n,s,o){var u;ri((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await u0(e,n,s,Bm(),o);return hI(e,f,xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await u0(e,n,s,Bm(),o);return ER(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ri(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await sI(e),s=new HR(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Sm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lT()||nT()||wp()}}const vI=yI;var c0="@firebase/auth",h0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TI(r){po(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uT(r)},g=new C2(s,o,u,p);return j2(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),po(new Ks("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(s=>new _I(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(c0,h0,EI(r)),Ki(c0,h0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=5*60,wI=zE("authIdTokenMaxAge")||bI;let f0=null;const AI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>wI)return;const o=n==null?void 0:n.token;f0!==o&&(f0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function wr(r=FE()){const e=vp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=U2(r,{popupRedirectResolver:vI,persistence:[CR,yR,TT]}),s=zE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=AI(u.toString());hR(n,f,()=>f(n.currentUser)),cR(n,m=>f(m))}}const o=UE("auth");return o&&z2(n,`http://${o}`),n}function SI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}N2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=gr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",SI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TI("Browser");var xI="firebase",RI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(xI,RI,"app");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qi,IT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function I(){}I.prototype=x.prototype,P.D=x.prototype,P.prototype=new I,P.prototype.constructor=P,P.C=function(M,V,z){for(var k=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)k[Pt-2]=arguments[Pt];return x.prototype[V].apply(M,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,I){I||(I=0);var M=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)M[V]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=P.g[0],I=P.g[1],V=P.g[2];var z=P.g[3],k=x+(z^I&(V^z))+M[0]+3614090360&4294967295;x=I+(k<<7&4294967295|k>>>25),k=z+(V^x&(I^V))+M[1]+3905402710&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(I^z&(x^I))+M[2]+606105819&4294967295,V=z+(k<<17&4294967295|k>>>15),k=I+(x^V&(z^x))+M[3]+3250441966&4294967295,I=V+(k<<22&4294967295|k>>>10),k=x+(z^I&(V^z))+M[4]+4118548399&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(V^x&(I^V))+M[5]+1200080426&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(I^z&(x^I))+M[6]+2821735955&4294967295,V=z+(k<<17&4294967295|k>>>15),k=I+(x^V&(z^x))+M[7]+4249261313&4294967295,I=V+(k<<22&4294967295|k>>>10),k=x+(z^I&(V^z))+M[8]+1770035416&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(V^x&(I^V))+M[9]+2336552879&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(I^z&(x^I))+M[10]+4294925233&4294967295,V=z+(k<<17&4294967295|k>>>15),k=I+(x^V&(z^x))+M[11]+2304563134&4294967295,I=V+(k<<22&4294967295|k>>>10),k=x+(z^I&(V^z))+M[12]+1804603682&4294967295,x=I+(k<<7&4294967295|k>>>25),k=z+(V^x&(I^V))+M[13]+4254626195&4294967295,z=x+(k<<12&4294967295|k>>>20),k=V+(I^z&(x^I))+M[14]+2792965006&4294967295,V=z+(k<<17&4294967295|k>>>15),k=I+(x^V&(z^x))+M[15]+1236535329&4294967295,I=V+(k<<22&4294967295|k>>>10),k=x+(V^z&(I^V))+M[1]+4129170786&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^V&(x^I))+M[6]+3225465664&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^I&(z^x))+M[11]+643717713&4294967295,V=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(V^z))+M[0]+3921069994&4294967295,I=V+(k<<20&4294967295|k>>>12),k=x+(V^z&(I^V))+M[5]+3593408605&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^V&(x^I))+M[10]+38016083&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^I&(z^x))+M[15]+3634488961&4294967295,V=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(V^z))+M[4]+3889429448&4294967295,I=V+(k<<20&4294967295|k>>>12),k=x+(V^z&(I^V))+M[9]+568446438&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^V&(x^I))+M[14]+3275163606&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^I&(z^x))+M[3]+4107603335&4294967295,V=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(V^z))+M[8]+1163531501&4294967295,I=V+(k<<20&4294967295|k>>>12),k=x+(V^z&(I^V))+M[13]+2850285829&4294967295,x=I+(k<<5&4294967295|k>>>27),k=z+(I^V&(x^I))+M[2]+4243563512&4294967295,z=x+(k<<9&4294967295|k>>>23),k=V+(x^I&(z^x))+M[7]+1735328473&4294967295,V=z+(k<<14&4294967295|k>>>18),k=I+(z^x&(V^z))+M[12]+2368359562&4294967295,I=V+(k<<20&4294967295|k>>>12),k=x+(I^V^z)+M[5]+4294588738&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^V)+M[8]+2272392833&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^I)+M[11]+1839030562&4294967295,V=z+(k<<16&4294967295|k>>>16),k=I+(V^z^x)+M[14]+4259657740&4294967295,I=V+(k<<23&4294967295|k>>>9),k=x+(I^V^z)+M[1]+2763975236&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^V)+M[4]+1272893353&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^I)+M[7]+4139469664&4294967295,V=z+(k<<16&4294967295|k>>>16),k=I+(V^z^x)+M[10]+3200236656&4294967295,I=V+(k<<23&4294967295|k>>>9),k=x+(I^V^z)+M[13]+681279174&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^V)+M[0]+3936430074&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^I)+M[3]+3572445317&4294967295,V=z+(k<<16&4294967295|k>>>16),k=I+(V^z^x)+M[6]+76029189&4294967295,I=V+(k<<23&4294967295|k>>>9),k=x+(I^V^z)+M[9]+3654602809&4294967295,x=I+(k<<4&4294967295|k>>>28),k=z+(x^I^V)+M[12]+3873151461&4294967295,z=x+(k<<11&4294967295|k>>>21),k=V+(z^x^I)+M[15]+530742520&4294967295,V=z+(k<<16&4294967295|k>>>16),k=I+(V^z^x)+M[2]+3299628645&4294967295,I=V+(k<<23&4294967295|k>>>9),k=x+(V^(I|~z))+M[0]+4096336452&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~V))+M[7]+1126891415&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~I))+M[14]+2878612391&4294967295,V=z+(k<<15&4294967295|k>>>17),k=I+(z^(V|~x))+M[5]+4237533241&4294967295,I=V+(k<<21&4294967295|k>>>11),k=x+(V^(I|~z))+M[12]+1700485571&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~V))+M[3]+2399980690&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~I))+M[10]+4293915773&4294967295,V=z+(k<<15&4294967295|k>>>17),k=I+(z^(V|~x))+M[1]+2240044497&4294967295,I=V+(k<<21&4294967295|k>>>11),k=x+(V^(I|~z))+M[8]+1873313359&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~V))+M[15]+4264355552&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~I))+M[6]+2734768916&4294967295,V=z+(k<<15&4294967295|k>>>17),k=I+(z^(V|~x))+M[13]+1309151649&4294967295,I=V+(k<<21&4294967295|k>>>11),k=x+(V^(I|~z))+M[4]+4149444226&4294967295,x=I+(k<<6&4294967295|k>>>26),k=z+(I^(x|~V))+M[11]+3174756917&4294967295,z=x+(k<<10&4294967295|k>>>22),k=V+(x^(z|~I))+M[2]+718787259&4294967295,V=z+(k<<15&4294967295|k>>>17),k=I+(z^(V|~x))+M[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+z&4294967295}s.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var I=x-this.blockSize,M=this.B,V=this.h,z=0;z<x;){if(V==0)for(;z<=I;)o(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<x;)if(M[V++]=P.charCodeAt(z++),V==this.blockSize){o(this,M),V=0;break}}else for(;z<x;)if(M[V++]=P[z++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=x},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var I=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=I&255,I/=256;for(this.u(P),P=Array(16),x=I=0;4>x;++x)for(var M=0;32>M;M+=8)P[I++]=this.g[x]>>>M&255;return P};function u(P,x){var I=m;return Object.prototype.hasOwnProperty.call(I,P)?I[P]:I[P]=x(P)}function f(P,x){this.h=x;for(var I=[],M=!0,V=P.length-1;0<=V;V--){var z=P[V]|0;M&&z==x||(I[V]=z,M=!1)}this.g=I}var m={};function p(P){return-128<=P&&128>P?u(P,function(x){return new f([x|0],0>x?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return F(g(-P));for(var x=[],I=1,M=0;P>=I;M++)x[M]=P/I|0,I*=4294967296;return new f(x,0)}function E(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return F(E(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(x,8)),M=b,V=0;V<P.length;V+=8){var z=Math.min(8,P.length-V),k=parseInt(P.substring(V,V+z),x);8>z?(z=g(Math.pow(x,z)),M=M.j(z).add(g(k))):(M=M.j(I),M=M.add(g(k)))}return M}var b=p(0),S=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(G(this))return-F(this).m();for(var P=0,x=1,I=0;I<this.g.length;I++){var M=this.i(I);P+=(0<=M?M:4294967296+M)*x,x*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(G(this))return"-"+F(this).toString(P);for(var x=g(Math.pow(P,6)),I=this,M="";;){var V=pe(I,x).g;I=$(I,V.j(x));var z=((0<I.g.length?I.g[0]:I.h)>>>0).toString(P);if(I=V,N(I))return z+M;for(;6>z.length;)z="0"+z;M=z+M}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function G(P){return P.h==-1}r.l=function(P){return P=$(this,P),G(P)?-1:N(P)?0:1};function F(P){for(var x=P.g.length,I=[],M=0;M<x;M++)I[M]=~P.g[M];return new f(I,~P.h).add(S)}r.abs=function(){return G(this)?F(this):this},r.add=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],M=0,V=0;V<=x;V++){var z=M+(this.i(V)&65535)+(P.i(V)&65535),k=(z>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);M=k>>>16,z&=65535,k&=65535,I[V]=k<<16|z}return new f(I,I[I.length-1]&-2147483648?-1:0)};function $(P,x){return P.add(F(x))}r.j=function(P){if(N(this)||N(P))return b;if(G(this))return G(P)?F(this).j(F(P)):F(F(this).j(P));if(G(P))return F(this.j(F(P)));if(0>this.l(O)&&0>P.l(O))return g(this.m()*P.m());for(var x=this.g.length+P.g.length,I=[],M=0;M<2*x;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<P.g.length;V++){var z=this.i(M)>>>16,k=this.i(M)&65535,Pt=P.i(V)>>>16,lt=P.i(V)&65535;I[2*M+2*V]+=k*lt,ne(I,2*M+2*V),I[2*M+2*V+1]+=z*lt,ne(I,2*M+2*V+1),I[2*M+2*V+1]+=k*Pt,ne(I,2*M+2*V+1),I[2*M+2*V+2]+=z*Pt,ne(I,2*M+2*V+2)}for(M=0;M<x;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=x;M<2*x;M++)I[M]=0;return new f(I,0)};function ne(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function ae(P,x){this.g=P,this.h=x}function pe(P,x){if(N(x))throw Error("division by zero");if(N(P))return new ae(b,b);if(G(P))return x=pe(F(P),x),new ae(F(x.g),F(x.h));if(G(x))return x=pe(P,F(x)),new ae(F(x.g),x.h);if(30<P.g.length){if(G(P)||G(x))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=x;0>=M.l(P);)I=fe(I),M=fe(M);var V=xe(I,1),z=xe(M,1);for(M=xe(M,2),I=xe(I,2);!N(M);){var k=z.add(M);0>=k.l(P)&&(V=V.add(I),z=k),M=xe(M,1),I=xe(I,1)}return x=$(P,V.j(x)),new ae(V,x)}for(V=b;0<=P.l(x);){for(I=Math.max(1,Math.floor(P.m()/x.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),z=g(I),k=z.j(x);G(k)||0<k.l(P);)I-=M,z=g(I),k=z.j(x);N(z)&&(z=S),V=V.add(z),P=$(P,k)}return new ae(V,P)}r.A=function(P){return pe(this,P).h},r.and=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],M=0;M<x;M++)I[M]=this.i(M)&P.i(M);return new f(I,this.h&P.h)},r.or=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],M=0;M<x;M++)I[M]=this.i(M)|P.i(M);return new f(I,this.h|P.h)},r.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),I=[],M=0;M<x;M++)I[M]=this.i(M)^P.i(M);return new f(I,this.h^P.h)};function fe(P){for(var x=P.g.length+1,I=[],M=0;M<x;M++)I[M]=P.i(M)<<1|P.i(M-1)>>>31;return new f(I,P.h)}function xe(P,x){var I=x>>5;x%=32;for(var M=P.g.length-I,V=[],z=0;z<M;z++)V[z]=0<x?P.i(z+I)>>>x|P.i(z+I+1)<<32-x:P.i(z+I);return new f(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,IT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Qi=f}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CT,Kl,NT,hh,Fm,kT,DT,OT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,B={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,B,Y){for(var se=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)se[Pe-2]=arguments[Pe];return y.prototype[B].apply(A,se)}}function G(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function F(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const B=c.length||0,Y=A.length||0;c.length=B+Y;for(let se=0;se<Y;se++)c[B+se]=A[se]}else c.push(A)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var fe=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function xe(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let Y=0;Y<I.length;Y++)v=I[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function k(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Pt{constructor(){this.h=this.g=null}add(y,v){const A=lt.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Be=new Pt,D=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(re)}};var re=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){z(v)}var y=lt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{pe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}N(Ne,ie);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Zn(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++Je,this.da=this.fa=!1}function ui(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,y,v,A,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var se=os(c,y,A,B);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new Zn(y,this.src,Y,!!A,B),y.fa=v,c.push(y)),y};function as(c,y){var v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(A,B,1),Y&&(ui(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function os(c,y,v,A){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return B}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Do={};function Ru(c,y,v,A,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ru(c,y[Y],v,A,B);return null}return v=Iu(v),c&&c[Ct]?c.K(y,v,g(A)?!!A.capture:!1,B):wn(c,y,v,!1,A,B)}function wn(c,y,v,A,B,Y){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Pe=ma(c);if(Pe||(c[ls]=Pe=new Ar(c)),v=Pe.add(y,v,A,se,Y),v.proxy)return v;if(A=mf(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ye||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(us(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function mf(){function c(v){return y.call(c.src,c.listener,v)}const y=pf;return c}function Oo(c,y,v,A,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Oo(c,y[Y],v,A,B);else A=g(A)?!!A.capture:!!A,v=Iu(v),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=os(Y,v,A,B),-1<v&&(ui(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=ma(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,v,A,B)),(v=-1<c?y[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])as(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(us(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ma(y))?(as(v,c),v.h==0&&(v.src=null,y[ls]=null)):ui(c)}}}function us(c){return c in Do?Do[c]:Do[c]="on"+c}function pf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&da(c),c=v.call(A,y)}return c}function ma(c){return c=c[ls],c instanceof Ar?c:null}var Mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function ut(){le.call(this),this.i=new Ar(this),this.M=this,this.F=null}N(ut,le),ut.prototype[Ct]=!0,ut.prototype.removeEventListener=function(c,y,v,A){Oo(this,c,y,v,A)};function Ge(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var B=y;y=new ie(A,c),M(y,B)}if(B=!0,v)for(var Y=v.length-1;0<=Y;Y--){var se=y.g=v[Y];B=dn(se,A,!0,y)&&B}if(se=y.g=c,B=dn(se,A,!0,y)&&B,B=dn(se,A,!1,y)&&B,v)for(Y=0;Y<v.length;Y++)se=y.g=v[Y],B=dn(se,A,!1,y)&&B}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)ui(v[A]);delete c.g[y],c.h--}}this.F=null},ut.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},ut.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function dn(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var se=y[Y];if(se&&!se.da&&se.capture==v){var Pe=se.listener,wt=se.ha||se.src;se.fa&&as(c.i,se),B=Pe.call(wt,A)!==!1&&B}}return B&&!A.defaultPrevented}function Gt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Cu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gf extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){le.call(this),this.h=c,this.g={}}N(cs,le);var hs=[];function fs(c){xe(c.g,function(y,v){this.g.hasOwnProperty(v)&&da(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,pa=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function Po(c){return c.h||(c.h=c.i())}function Vo(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){ie.call(this,"d")}N(xr,ie);function Uo(){ie.call(this,"c")}N(Uo,ie);var Jn={},jo=null;function ci(){return jo=jo||new ut}Jn.La="serverreachability";function ga(c){ie.call(this,Jn.La,c)}N(ga,ie);function hi(c){const y=ci();Ge(y,new ga(y))}Jn.STAT_EVENT="statevent";function Nu(c,y){ie.call(this,Jn.STAT_EVENT,c),this.stat=y}N(Nu,ie);function nt(c){const y=ci();Ge(y,new Nu(y,c))}Jn.Ma="timingevent";function bt(c,y){ie.call(this,Jn.Ma,c),this.size=y}N(bt,ie);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function zo(c,y,v,A,B,Y){c.info(function(){if(c.g)if(Y)for(var se="",Pe=Y.split("&"),wt=0;wt<Pe.length;wt++){var Ve=Pe[wt].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var At=kt.split("_");se=2<=At.length&&At[1]=="type"?se+(kt+"="+Ve+"&"):se+(kt+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function yf(c,y,v,A,B,Y,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+Y+" "+se})}function fi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,v)+(A?" "+A:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return zn(v)}catch{return y}}var di={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},er;function tr(){}N(tr,Lo),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},er=new tr;function en(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Bo={},ya={};function Bn(c,y,v){c.L=1,c.v=_s(mn(y)),c.m=v,c.P=!0,Ir(c,null)}function Ir(c,y){c.F=Date.now(),ps(c),c.A=mn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Qo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new ft,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new gf(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hs[0]=B.toString()),B=hs);for(var Y=0;Y<B.length;Y++){var se=Ru(v,B[Y],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hi(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const At=In(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||At!=4||y==7||(y==8||0>=Pr?hi(3):hi(2)),mi(this);var v=this.g.Z();this.X=v;t:if(Du(this)){var A=ju(this.g);c="";var B=A.length,Y=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),nr(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,yf(this.i,this.u,this.A,this.l,this.R,At,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,wt=this.g;if((Pe=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Pe)){var Ve=Pe;break t}}Ve=null}if(v=Ve)fi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,v);else{this.o=!1,this.s=3,nt(12),Vt(this),nr(this);break e}}if(this.P){v=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=Ou(this,se),Ut==ya){At==4&&(this.s=4,nt(14),v=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Bo){this.s=4,nt(15),fi(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else fi(this.i,this.l,Ut,null),gs(this,Ut);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||se.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)fi(this.i,this.l,se,"[Invalid Chunked Response]"),Vt(this),nr(this);else if(0<se.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Rs(kt),kt.M=!0,nt(11))}}else fi(this.i,this.l,se,null),gs(this,se);At==4&&Vt(this),this.o&&!this.J&&(At==4?Fu(this.j,this):(this.o=!1,ps(this)))}else bf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Vt(this),nr(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ou(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ya:(v=Number(y.substring(v,A)),isNaN(v)?Bo:(A+=1,A+v>y.length?ya:(y=y.slice(A,A+v),c.C=A+v,y)))}en.prototype.cancel=function(){this.J=!0,Vt(this)};function ps(c){c.S=Date.now()+c.I,Mu(c,c.I)}function Mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(S(c.ba,c),y)}function mi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(hi(),nt(17)),Vt(this),this.s=2,nr(this)):Mu(this,this.S-c)};function nr(c){c.j.G==0||c.J||Fu(c.j,c)}function Vt(c){mi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||qo(v.h,c))){if(!c.K&&qo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ca(v),Ra(v);else break e;Zo(v),nt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=gt(S(v.Za,v),6e3));if(1>=_a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Lr(v,11)}else if((c.K||v.g==c)&&Ca(v),!ne(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Ve=B[y];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const kt=Ve[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const At=Ve[4];At!=null&&(v.Aa=At,v.j.info("SVER="+v.Aa));const Pr=Ve[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(A=1.5*Pr,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ut=c.g;if(Ut){const ur=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ur){var Y=A.h;Y.g||ur.indexOf("spdy")==-1&&ur.indexOf("quic")==-1&&ur.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ea(Y,Y.h),Y.h=null))}if(A.D){const el=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(A.ya=el,Ye(A.I,A.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=c;if(A.qa=Ku(A,A.J?A.ia:null,A.W),se.K){tn(A.h,se);var Pe=se,wt=A.L;wt&&(Pe.I=wt),Pe.B&&(mi(Pe),ps(Pe)),A.g=se}else qu(A);0<v.i.length&&Ia(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Lr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Lr(v,7):Wo(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}hi(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function Cr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function va(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ea(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Cr.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return G(c.i)}function vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Ta(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Fo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ta(c),A=vf(c),B=A.length,Y=0;Y<B;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _f(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),B=null;if(0<=A){var Y=c[v].substring(0,A);B=c[v].substring(A+1)}else Y=c[v];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,pi(this,c.s),this.l=c.l;var y=c.i,v=new kr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Nr(this,v),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,vs(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),pi(this,y[4]),this.l=Sn(y[5]||"",!0),Nr(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,Go,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,Go,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?Ef:Ko,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,ba)),c.join("")};function mn(c){return new yt(c)}function vs(c,y,v){c.j=v?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Nr(c,y,v){y instanceof kr?(c.i=y,Vu(c.i,c.h)):(v||(y=Es(y,Tf)),c.i=new kr(y,c.h))}function Ye(c,y,v){c.i.set(y,v)}function _s(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Ko=/[#\?:]/g,Ef=/[#\?]/g,Tf=/[#\?@]/g,ba=/#/g;function kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&_f(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=kr.prototype,r.add=function(c,y){xn(this),this.i=null,c=rr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Dr(c,y){xn(c),y=rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Or(c,y){return xn(c),y=rr(c,y),c.g.has(y)}r.forEach=function(c,y){xn(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)},r.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const B=c[A];for(let Y=0;Y<B.length;Y++)v.push(y[A])}return v},r.V=function(c){xn(this);let y=[];if(typeof c=="string")Or(this,c)&&(y=y.concat(this.g.get(rr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return xn(this),this.i=null,c=rr(this,c),Or(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Qo(c,y,v){Dr(c,y),0<v.length&&(c.i=null,c.g.set(rr(c,y),G(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var B=Y;se[A]!==""&&(B+="="+encodeURIComponent(String(se[A]))),c.push(B)}}return this.i=c.join("&")};function rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Vu(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,A){var B=A.toLowerCase();A!=B&&(Dr(this,A),Qo(this,B,v))},c)),c.j=y}function Ts(c,y){const v=new An;if(m.Image){const A=new Image;A.onload=O(Rn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=O(Rn,v,"TestLoadImage: error",!1,y,A),A.onabort=O(Rn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(Rn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function qn(c,y){const v=new An,A=new AbortController,B=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?Rn(v,"TestPingServer: ok",!0,y):Rn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Rn(v,"TestPingServer: error",!1,y)})}function Rn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function bs(){this.g=new ds}function ir(c,y,v){const A=v||"";try{Fo(c,function(B,Y){let se=B;g(B)&&(se=zn(B)),y.push(A+Y+"="+encodeURIComponent(se))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function gi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(gi,Lo),gi.prototype.g=function(){return new Mr(this.l,this.j)},gi.prototype.i=function(c){return function(){return c}}({});function Mr(c,y){ut.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Mr,ut),r=Mr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ar(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?sr(this):ar(this),this.readyState==3&&Yo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,sr(this))},r.Qa=function(c){this.g&&(this.response=c,sr(this))},r.ga=function(){this.g&&sr(this)};function sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ar(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let y="";return xe(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Nt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=$o(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,y,v))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,ut);var wa=/^https?$/i,ws=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():er.g(),this.v=this.o?Po(this.o):Po(er),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Uu(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Uu(this,Y)}};function Uu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Aa(c),or(c)}function Aa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),or(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},r.bb=function(){Sa(this)};function Sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Gt(c.Ea,0,c);else if(Ge(c,"readystatechange"),In(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=se===0){var B=String(c.D).match(ys)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),A=!wa.test(B?B.toLowerCase():"")}v=A}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Y=2<In(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Aa(c)}}finally{or(c)}}}}function or(c,y){if(c.g){As(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=A}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pa(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var v=V(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[B]||[];y[B]=Y,Y.push(v)}P(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xa(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,A){nt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Ku(this,null,this.W),Ia(this)};function Wo(c){if(zu(c),c.G==3){var y=c.U++,v=mn(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),xs(c,v),y=new en(c,c.j,y),y.L=2,y.v=_s(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Gu(c)}function Ra(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function zu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!va(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||D(),me||(oe(),me=!0),Be.add(y,c),c.B=0}}function wf(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(S(c.Ga,c,y),Jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=x(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Bu(this,B,y),v=mn(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),xs(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String($o(Y)))+"&"+y:this.m&&Nt(v,this.m,Y)),Ea(this.h,B),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",y),Ye(v,"SID","null"),B.T=!0,Bn(B,v,null)):Bn(B,v,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||va(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.U++;const A=mn(c.I);Ye(A,"SID",c.K),Ye(A,"RID",v),Ye(A,"AID",c.T),xs(c,A),c.m&&c.o&&Nt(A,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ea(c.h,v),Bn(v,A,y)}function xs(c,y){c.H&&xe(c.H,function(v,A){Ye(y,A,v)}),c.l&&Fo({},function(v,A){Ye(y,A,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const se=["count="+v];Y==-1?0<v?(Y=B[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let Pe=!0;for(let wt=0;wt<v;wt++){let Ve=B[wt].g;const kt=B[wt].map;if(Ve-=Y,0>Ve)Y=Math.max(0,B[wt].g-100),Pe=!1;else try{ir(kt,se,"req"+Ve+"_")}catch{A&&A(kt)}}if(Pe){A=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||D(),me||(oe(),me=!0),Be.add(y,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(S(c.Fa,c),Jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ra(this),Hu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),xs(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=_s(mn(y)),v.m=null,v.P=!0,Ir(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),Zo(this),nt(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,y){var v=null;if(c.g==y){Ca(c),Rs(c),c.g=null;var A=2}else if(qo(c.h,y))v=y.D,tn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=ci(),Ge(A,new bt(A,v)),Ia(c)}else qu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&wf(c,y)||A==2&&Zo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function Jo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Lr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),A=c.Xa;const B=!A;A=new yt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(A,"https"),_s(A),B?Ts(A.toString(),v):qn(A.toString(),v)}else nt(2);c.G=0,c.l&&c.l.sa(y),Gu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=Ho(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var A=v instanceof yt?mn(v):new yt(v);if(A.g!="")y&&(A.g=y+"."+A.g),pi(A,A.s);else{var B=m.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new yt(null);A&&vs(Y,A),y&&(Y.g=y),B&&pi(Y,B),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&Ye(A,v,y),Ye(A,"VER",c.la),xs(c,A),A}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new gi({eb:v})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Na(){}Na.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ut.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ne(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ne(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new lr(this)}N(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Wo(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=zn(c),c=v);y.i.push(new Lu(y.Ya++,c)),y.G==3&&Ia(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,nn.aa.N.call(this)};function $u(c){xr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N($u,xr);function Wu(){Uo.call(this),this.status=1}N(Wu,Uo);function lr(c){this.g=c}N(lr,Yu),lr.prototype.ua=function(){Ge(this.g,"a")},lr.prototype.ta=function(c){Ge(this.g,new $u(c))},lr.prototype.sa=function(c){Ge(this.g,new Wu)},lr.prototype.ra=function(){Ge(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,OT=function(){return new Na},DT=function(){return ci()},kT=Jn,Fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,hh=di,Rr.COMPLETE="complete",NT=Rr,Vo.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Kl=Vo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,CT=He}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",p0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new gp("@firebase/firestore");function so(){return Ws.logLevel}function ue(r,...e){if(Ws.logLevel<=Me.DEBUG){const n=e.map(Ip);Ws.debug(`Firestore (${Io}): ${r}`,...n)}}function ii(r,...e){if(Ws.logLevel<=Me.ERROR){const n=e.map(Ip);Ws.error(`Firestore (${Io}): ${r}`,...n)}}function go(r,...e){if(Ws.logLevel<=Me.WARN){const n=e.map(Ip);Ws.warn(`Firestore (${Io}): ${r}`,...n)}}function Ip(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+r;throw ii(e),new Error(e)}function Fe(r,e){r||be()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class II{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class CI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NI{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ei,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ei)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new MT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new $t(e)}}class kI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class DI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new kI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new g0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new g0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function Gm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=LT(),f=LI(u.encode(y0(r,n)),u.encode(y0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function y0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function LI(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function yo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=-62135596800,_0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*_0);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v0)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Rt(0,0))}static max(){return new Ae(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="__name__";class pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=pr.isNumericId(e),o=pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qi.fromString(e.substring(4,e.length-2))}}class tt extends pr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends pr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E0}static keyField(){return new Ht([E0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function VI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new $i(o,ge.empty(),e)}function UI(r){return new $i(r.readTime,r.key,iu)}class $i{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new $i(Ae.min(),ge.empty(),iu)}static max(){return new $i(Ae.max(),ge.empty(),iu)}}function jI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==zI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function qI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=-1;function Qh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function HI(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="";function FI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=T0(e)),e=GI(r.get(n),e);return T0(e)}function GI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case VT:n+="";break;default:n+=u}}return n}function T0(r){return r+VT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function rs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function UT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new bn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(r){if(Fe(!!r),typeof r=="string"){let e=0;const n=KI.exec(r);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xi(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",qT="__previous_value__",HT="__local_write_time__";function Np(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[BT])===null||n===void 0?void 0:n.stringValue)===zT}function Yh(r){const e=r.mapValue.fields[qT];return Np(e)?Yh(e):e}function su(r){const e=Wi(r.mapValue.fields[HT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Ih="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",YI="__max__",th={mapValue:{}},GT="__vector__",Ch="value";function Zi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Np(r)?4:WI(r)?9007199254740991:$I(r)?10:11:be()}function Er(r,e){if(r===e)return!0;const n=Zi(r);if(n!==Zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wi(o.timestampValue),m=Wi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Xi(o.bytesValue).isEqual(Xi(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?Rh(f)===Rh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return yo(r.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(b0(f)!==b0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Er(f[p],m[p])))return!1;return!0}(r,e);default:return be()}}function ou(r,e){return(r.values||[]).find(n=>Er(n,e))!==void 0}function vo(r,e){if(r===e)return 0;const n=Zi(r),s=Zi(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return A0(r.timestampValue,e.timestampValue);case 4:return A0(su(r),su(e));case 5:return Gm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Xi(u),p=Xi(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(pt(u.latitude),pt(f.latitude));return m!==0?m:Ce(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return S0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const b=u.fields||{},S=f.fields||{},O=(m=b[Ch])===null||m===void 0?void 0:m.arrayValue,N=(p=S[Ch])===null||p===void 0?void 0:p.arrayValue,G=Ce(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return G!==0?G:S0(O,N)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=Gm(p[b],E[b]);if(S!==0)return S;const O=vo(m[p[b]],g[E[b]]);if(O!==0)return O}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw be()}}function A0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Wi(r),s=Wi(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function S0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function _o(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Wi(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xi(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"}(r.mapValue):be()}function fh(r){switch(Zi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return Xi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+fh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return rs(s.fields,(u,f)=>{o+=u.length+fh(f)}),o}(r.mapValue);default:throw be()}}function x0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Qm(r){return!!r&&"integerValue"in r}function kp(r){return!!r&&"arrayValue"in r}function R0(r){return!!r&&"nullValue"in r}function I0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function $I(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[FT])===null||n===void 0?void 0:n.stringValue)===GT}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function WI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){rs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Xl(this.value))}}function KT(r){const e=[];return rs(r.fields,(n,s)=>{const o=new Ht([n]);if(dh(s)){const u=KT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function C0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function N0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Er(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function XI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class Tt extends QT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new JI(e,n,s):n==="array-contains"?new nC(e,s):n==="in"?new rC(e,s):n==="not-in"?new iC(e,s):n==="array-contains-any"?new sC(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new eC(e,s):new tC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vo(n,this.value)):n!==null&&Zi(this.value)===Zi(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Yn(e,n)}matches(e){return YT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YT(r){return r.op==="and"}function $T(r){return ZI(r)&&YT(r)}function ZI(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Ym(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if($T(r))return r.filters.map(e=>Ym(e)).join(",");{const e=r.filters.map(n=>Ym(n)).join(",");return`${r.op}(${e})`}}function WT(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(r,e):r instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&WT(f,o.filters[m]),!0):!1}(r,e):void be()}function XT(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(r):r instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"}(r):"Filter"}class JI extends Tt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class eC extends Tt{constructor(e,n){super(e,"in",n),this.keys=ZT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tC extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=ZT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class nC extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&ou(n.arrayValue,this.value)}}class rC extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class iC extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class sC extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function k0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new aC(r,e,n,s,o,u,f)}function Dp(r){const e=Se(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.le=n}return e.le}function Op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!XI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!WT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!N0(r.startAt,e.startAt)&&N0(r.endAt,e.endAt)}function $m(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function oC(r,e,n,s,o,u,f,m){return new Eu(r,e,n,s,o,u,f,m)}function $h(r){return new Eu(r)}function D0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function JT(r){return r.collectionGroup!==null}function Zl(r){const e=Se(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new kh(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new kh(Ht.keyField(),s))}return e.he}function vr(r){const e=Se(r);return e.Pe||(e.Pe=lC(e,Zl(r))),e.Pe}function lC(r,e){if(r.limitType==="F")return k0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kh(o.field,u)});const n=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Wm(r,e){const n=r.filters.concat([e]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Xm(r,e,n){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wh(r,e){return Op(vr(r),vr(e))&&r.limitType===e.limitType}function e1(r){return`${Dp(vr(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>XT(o)).join(", ")}]`),Qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(vr(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=C0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Zl(s),o)||s.endAt&&!function(f,m,p){const g=C0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Zl(s),o))}(r,e)}function uC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function t1(r){return(e,n)=>{let s=!1;for(const o of Zl(r)){const u=cC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cC(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):be()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new ot(ge.comparator);function si(){return hC}const n1=new ot(ge.comparator);function Ql(...r){let e=n1;for(const n of r)e=e.insert(n.key,n);return e}function r1(r){let e=n1;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fs(){return Jl()}function i1(){return Jl()}function Jl(){return new ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const fC=new ot(ge.comparator),dC=new It(ge.comparator);function Le(...r){let e=dC;for(const n of r)e=e.add(n);return e}const mC=new It(Ce);function pC(){return mC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function s1(r){return{integerValue:""+r}}function gC(r,e){return HI(e)?s1(e):Mp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this._=void 0}}function yC(r,e,n){return r instanceof lu?function(o,u){const f={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Yh(u)),u&&(f.fields[qT]=u),{mapValue:f}}(n,e):r instanceof uu?o1(r,e):r instanceof cu?l1(r,e):function(o,u){const f=a1(o,u),m=O0(f)+O0(o.Ie);return Qm(f)&&Qm(o.Ie)?s1(m):Mp(o.serializer,m)}(r,e)}function vC(r,e,n){return r instanceof uu?o1(r,e):r instanceof cu?l1(r,e):n}function a1(r,e){return r instanceof Dh?function(s){return Qm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lu extends Zh{}class uu extends Zh{constructor(e){super(),this.elements=e}}function o1(r,e){const n=u1(e);for(const s of r.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class cu extends Zh{constructor(e){super(),this.elements=e}}function l1(r,e){let n=u1(e);for(const s of r.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class Dh extends Zh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function O0(r){return pt(r.integerValue||r.doubleValue)}function u1(r){return kp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.field=e,this.transform=n}}function EC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?yo(s.elements,o.elements,Er):s instanceof Dh&&o instanceof Dh?Er(s.Ie,o.Ie):s instanceof lu&&o instanceof lu}(r.transform,e.transform)}class TC{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Jh{}function c1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lp(r.key,Vn.none()):new Tu(r.key,r.data,Vn.none());{const n=r.data,s=hn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new is(r.key,s,new bn(o.toArray()),Vn.none())}}function bC(r,e,n){r instanceof Tu?function(o,u,f){const m=o.value.clone(),p=L0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof is?function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=L0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(h1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function eu(r,e,n,s){return r instanceof Tu?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=P0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof is?function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=P0(u.fieldTransforms,p,f),E=f.data;return E.setAll(h1(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function wC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=a1(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function M0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&yo(s,o,(u,f)=>EC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends Jh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Jh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function h1(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function L0(r,e,n){const s=new Map;Fe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,vC(f,m,n[o]))}return s}function P0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,yC(u,f,e))}return s}class Lp extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=i1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=c1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,(n,s)=>M0(n,s))&&yo(this.baseMutations,e.baseMutations,(n,s)=>M0(n,s))}}class Pp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length);let o=function(){return fC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Pp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function IC(r){switch(r){case te.OK:return be();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be()}}function f1(r){if(r===void 0)return ii("GRPC error has no .code"),te.UNKNOWN;switch(r){case Et.OK:return te.OK;case Et.CANCELLED:return te.CANCELLED;case Et.UNKNOWN:return te.UNKNOWN;case Et.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Et.INTERNAL:return te.INTERNAL;case Et.UNAVAILABLE:return te.UNAVAILABLE;case Et.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Et.NOT_FOUND:return te.NOT_FOUND;case Et.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Et.ABORTED:return te.ABORTED;case Et.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Et.DATA_LOSS:return te.DATA_LOSS;default:return be()}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Qi([4294967295,4294967295],0);function V0(r){const e=LT().encode(r),n=new IT;return n.update(e),new Uint8Array(n.digest())}function U0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qi([n,s],0),new Qi([o,u],0)]}class Vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Qi.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Qi.fromNumber(s)));return o.compare(CC)===1&&(o=new Qi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=V0(e),[s,o]=U0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=V0(e),[s,o]=U0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ef(Ae.min(),o,new ot(Ce),si(),Le())}}class bu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new bu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class d1{constructor(e,n){this.targetId=e,this.ge=n}}class m1{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class j0{constructor(){this.pe=0,this.ye=z0(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),n=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new bu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=z0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=si(),this.$e=nh(),this.Ue=nh(),this.Ke=new ot(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Wt.newNoDocument(f,Ae.min()))}else Fe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Xi(s).toUint8Array()}catch(p){if(p instanceof jT)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return go(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&$m(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Wt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Le();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new ef(e,n,this.Ke,this.Qe,s);return this.Qe=si(),this.$e=nh(),this.Ue=nh(),this.Ke=new ot(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new j0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new It(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new It(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new j0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ot(ge.comparator)}function z0(){return new ot(ge.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},DC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OC={and:"AND",or:"OR"};class MC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(r,e){return r.useProto3Json||Qh(e)?e:{value:e}}function Oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function LC(r,e){return Oh(r,e.toTimestamp())}function _r(r){return Fe(!!r),Ae.fromTimestamp(function(n){const s=Wi(n);return new Rt(s.seconds,s.nanos)}(r))}function Up(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function g1(r){const e=tt.fromString(r);return Fe(T1(e)),e}function ep(r,e){return Up(r.databaseId,e.path)}function xm(r,e){const n=g1(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(v1(n))}function y1(r,e){return Up(r.databaseId,e)}function PC(r){const e=g1(r);return e.length===4?tt.emptyPath():v1(e)}function tp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function v1(r){return Fe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function B0(r,e,n){return{name:ep(r,e),fields:n.value.mapValue.fields}}function VC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:f1(g.code);return new ce(E,g.message||"")}(f);n=new m1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(r,s.document.name),u=_r(s.document.updateTime),f=s.document.createTime?_r(s.document.createTime):Ae.min(),m=new hn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(r,s.document),u=s.readTime?_r(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RC(o,u),m=s.targetId;n=new d1(m,f)}}return n}function UC(r,e){let n;if(e instanceof Tu)n={update:B0(r,e.key,e.value)};else if(e instanceof Lp)n={delete:ep(r,e.key)};else if(e instanceof is)n={update:B0(r,e.key,e.data),updateMask:QC(e.fieldMask)};else{if(!(e instanceof AC))return be();n={verify:ep(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Dh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(r,e.precondition)),n}function jC(r,e){return r&&r.length>0?(Fe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?_r(o.updateTime):_r(u);return f.isEqual(Ae.min())&&(f=_r(u)),new TC(f,o.transformResults||[])}(n,e))):[]}function zC(r,e){return{documents:[y1(r,e.path)]}}function BC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=y1(r,o);const u=function(g){if(g.length!==0)return E1(Yn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:oo(S.field),direction:FC(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function qC(r){let e=PC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=_1(b);return S instanceof Yn&&$T(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(N){return new kh(lo(N.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Qh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,O=b.values||[];return new Nh(O,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,O=b.values||[];return new Nh(O,S)}(n.endAt)),oC(e,o,f,u,m,"F",p,g)}function HC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>_1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(r):be()}function FC(r){return kC[r]}function GC(r){return DC[r]}function KC(r){return OC[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Ht.fromServerFormat(r.fieldPath)}function E1(r){return r instanceof Tt?function(n){if(n.op==="=="){if(I0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(R0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(R0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:GC(n.op),value:n.value}}}(r):r instanceof Yn?function(n){const s=n.getFilters().map(o=>E1(o));return s.length===1?s[0]:{compositeFilter:{op:KC(n.op),filters:s}}}(r):be()}function QC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function T1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.Tt=e}}function $C(r){const e=qC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.Tn=new XC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve($i.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class XC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b1=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(b1,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Eo(0)}static Kn(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="LruGarbageCollector",ZC=1048576;function F0([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class JC{constructor(e){this.Hn=e,this.buffer=new It(F0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class eN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(H0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?ue(H0,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.er(3e5)})}}class tN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Kh.ae);const s=new JC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(q0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),so()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function nN(r,e){return new tN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&eu(s.mutation,o,bn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Fs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Fs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=si();const f=Jl(),m=function(){return Jl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof is)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),eu(E.mutation,g,E.mutation.getFieldMask(),Rt.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new iN(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new ot((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=i1();E.forEach(S=>{if(!u.has(S)){const O=c1(n.get(S),s.get(S));O!==null&&b.set(S,O),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Fs());let m=iu,p=u;return f.next(g=>ee.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:r1(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(b,S){return new Eu(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=Ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&eu(E.mutation,g,bn.empty(),Rt.now()),Xh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:$C(o.bundledQuery),readTime:_r(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.overlays=new ot(ge.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Fs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Fs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Fs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Le(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.Vr=new It(Lt.mr),this.gr=new It(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Lt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ge(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Le();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Lt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Cp:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ce);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ge(u),0);let m=new It(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.kr=e,this.docs=function(){return new ot(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=si();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=si();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||jI(UI(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new hN(this)}getSize(e){return ee.resolve(this.size)}}class hN extends rN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.persistence=e,this.Qr=new ta(n=>Dp(n),Op),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jp,this.targetCount=0,this.Kr=Eo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Kh(0),this.zr=!1,this.zr=!0,this.jr=new lN,this.referenceDelegate=e(this),this.Hr=new fN(this),this.indexManager=new WC,this.remoteDocumentCache=function(o){return new cN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new YC(n),this.Yr=new aN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new uN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new dN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class dN extends BI{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.ti=new jp,this.ni=null}static ri(e){return new zp(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.oi=new ta(s=>FI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=nN(this,n)}static ri(e,n){return new Mh(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return jS()?8:qI(Zt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new mN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(so()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(so()<=Me.DEBUG&&ue("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):ee.resolve())}rs(e,n){if(D0(n))return ee.resolve(null);let s=vr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Xm(n,null,"F"),s=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Xm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return D0(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(so()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(e,f,n,VI(o,iu)).next(m=>m))})}cs(e,n){let s=new It(t1(e));return n.forEach((o,u)=>{Xh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return so()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(e,n,$i.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="LocalStore",gN=3e8;class yN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(Ce),this.Is=new ta(u=>Dp(u),Op),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function vN(r,e,n,s){return new yN(r,e,n,s)}async function A1(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function _N(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,S=b.keys();let O=ee.resolve();return S.forEach(N=>{O=O.next(()=>E.getEntry(p,N)).next(G=>{const F=g.docVersions.get(N);Fe(F!==null),G.version.compareTo(F)<0&&(b.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),E.addEntry(G)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function S1(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function EN(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(b,O),function(G,F,$){return G.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=gN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=si(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(TN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function TN(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=si();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function bN(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function wN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Hi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function np(r,e,n){const s=Se(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!No(f))throw f;ue(qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function G0(r,e,n){const s=Se(r);let o=Ae.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const b=Se(p),S=b.Is.get(E);return S!==void 0?ee.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,E)}(s,f,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Le())).next(m=>(AN(s,uC(e),m),{documents:m,gs:u})))}function AN(r,e,n){let s=r.Es.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class K0{constructor(){this.activeTargetIds=pC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SN{constructor(){this.ho=new K0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new K0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="ConnectivityMonitor";class Y0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(Q0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(Q0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function rp(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",RN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=rp(),m=this.bo(e,n.toUriEncodedString());ue(Rm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(Rm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw go(Rm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=RN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class NN extends IN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=rp();return new Promise((f,m)=>{const p=new CT;p.setWithCredentials(!0),p.listenOnce(NT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const E=p.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case hh.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),m(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const b=p.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const O=S==null?void 0:S.error;if(O&&O.status&&O.message){const N=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN}(O.status);m(new ce(N,O.message))}else m(new ce(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(te.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=rp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=OT(),m=DT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let S=!1,O=!1;const N=new CN({Fo:F=>{O?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Mo:()=>b.close()}),G=(F,$,ne)=>{F.listen($,ae=>{try{ne(ae)}catch(pe){setTimeout(()=>{throw pe},0)}})};return G(b,Kl.EventType.OPEN,()=>{O||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),G(b,Kl.EventType.CLOSE,()=>{O||(O=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),N.Uo())}),G(b,Kl.EventType.ERROR,F=>{O||(O=!0,go(Yt,`RPC '${e}' stream ${o} transport errored:`,F),N.Uo(new ce(te.UNAVAILABLE,"The operation could not be completed")))}),G(b,Kl.EventType.MESSAGE,F=>{var $;if(!O){const ne=F.data[0];Fe(!!ne);const ae=ne,pe=(ae==null?void 0:ae.error)||(($=ae[0])===null||$===void 0?void 0:$.error);if(pe){ue(Yt,`RPC '${e}' stream ${o} received error:`,pe);const fe=pe.status;let xe=function(I){const M=Et[I];if(M!==void 0)return f1(M)}(fe),P=pe.message;xe===void 0&&(xe=te.INTERNAL,P="Unknown error status: "+fe+" with message "+pe.message),O=!0,N.Uo(new ce(xe,P)),b.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,ne),N.Ko(ne)}}),G(m,kT.STAT_EVENT,F=>{F.stat===Fm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Fm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(r){return new MC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="PersistentStream";class R1{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new x1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue($0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kN extends R1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=VC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?_r(f.readTime):Ae.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=tp(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=$m(p)?{documents:zC(u,p)}:{query:BC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=p1(u,f.resumeToken);const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Oh(u,f.snapshotVersion.toTimestamp());const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=HC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.I_(n)}}class DN extends R1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=jC(e.writeResults,e.commitTime),s=_r(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=tp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>UC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{}class MN extends ON{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Jm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Jm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ii(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class PN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{na(this)&&(ue(Xs,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await wu(g),g.j_.set("Unknown"),g.W_.delete(4),await nf(g)}(this))})}),this.j_=new LN(s,o)}}async function nf(r){if(na(r))for(const e of r.G_)await e(!0)}async function wu(r){for(const e of r.G_)await e(!1)}function I1(r,e){const n=Se(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Kp(n)?Gp(n):ko(n).c_()&&Fp(n,e))}function Hp(r,e){const n=Se(r),s=ko(n);n.K_.delete(e),s.c_()&&C1(n,e),n.K_.size===0&&(s.c_()?s.P_():na(n)&&n.j_.set("Unknown"))}function Fp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).y_(e)}function C1(r,e){r.H_.Ne(e),ko(r).w_(e)}function Gp(r){r.H_=new NC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.j_.B_()}function Kp(r){return na(r)&&!ko(r).u_()&&r.K_.size>0}function na(r){return Se(r).W_.size===0}function N1(r){r.H_=void 0}async function VN(r){r.j_.set("Online")}async function UN(r){r.K_.forEach((e,n)=>{Fp(r,e)})}async function jN(r,e){N1(r),Kp(r)?(r.j_.q_(e),Gp(r)):r.j_.set("Unknown")}async function zN(r,e,n){if(r.j_.set("Online"),e instanceof m1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof ph?r.H_.We(e):e instanceof d1?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ae.min()))try{const s=await S1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),C1(u,p);const b=new Hi(E.target,p,g,E.sequenceNumber);Fp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(Xs,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!No(e))throw e;r.W_.add(1),await wu(r),r.j_.set("Offline"),n||(n=()=>S1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(Xs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await nf(r)})}function k1(r,e){return e().catch(n=>Lh(r,n,e))}async function rf(r){const e=Se(r),n=Ji(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Cp;for(;BN(e);)try{const o=await bN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,qN(e,o)}catch(o){await Lh(e,o)}D1(e)&&O1(e)}function BN(r){return na(r)&&r.U_.length<10}function qN(r,e){r.U_.push(e);const n=Ji(r);n.c_()&&n.S_&&n.b_(e.mutations)}function D1(r){return na(r)&&!Ji(r).u_()&&r.U_.length>0}function O1(r){Ji(r).start()}async function HN(r){Ji(r).C_()}async function FN(r){const e=Ji(r);for(const n of r.U_)e.b_(n.mutations)}async function GN(r,e,n){const s=r.U_.shift(),o=Pp.from(s,e,n);await k1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await rf(r)}async function KN(r,e){e&&Ji(r).S_&&await async function(s,o){if(function(f){return IC(f)&&f!==te.ABORTED}(o.code)){const u=s.U_.shift();Ji(s).h_(),await k1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(r,e),D1(r)&&O1(r)}async function W0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue(Xs,"RemoteStore received new credentials");const s=na(n);n.W_.add(3),await wu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await nf(n)}async function QN(r,e){const n=Se(r);e?(n.W_.delete(2),await nf(n)):e||(n.W_.add(2),await wu(n),n.j_.set("Unknown"))}function ko(r){return r.J_||(r.J_=function(n,s,o){const u=Se(n);return u.M_(),new kN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:VN.bind(null,r),No:UN.bind(null,r),Lo:jN.bind(null,r),p_:zN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Kp(r)?Gp(r):r.j_.set("Unknown")):(await r.J_.stop(),N1(r))})),r.J_}function Ji(r){return r.Y_||(r.Y_=function(n,s,o){const u=Se(n);return u.M_(),new DN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:HN.bind(null,r),Lo:KN.bind(null,r),D_:FN.bind(null,r),v_:GN.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await rf(r)):(await r.Y_.stop(),r.U_.length>0&&(ue(Xs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Qp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(r,e){if(ii("AsyncQueue",`${e}: ${r}`),No(r))return new ce(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.Z_=new ot(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class To{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new To(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $N{constructor(){this.queries=Z0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=Z0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function Z0(){return new ta(r=>e1(r),Wh)}async function $p(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new YN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Xp(n)}async function Wp(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function WN(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Xp(n)}function XN(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Xp(r){r.ia.forEach(e=>{e.next()})}var ip,J0;(J0=ip||(ip={}))._a="default",J0.Cache="cache";class Zp{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new To(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ip.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.key=e}}class L1{constructor(e){this.key=e}}class ZN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=t1(e),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new X0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),O=Xh(this.query,b)?b:null,N=!!S&&this.mutatedKeys.has(S.key),G=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let F=!1;S&&O?S.data.isEqual(O.data)?N!==G&&(s.track({type:3,doc:O}),F=!0):this.va(S,O)||(s.track({type:2,doc:O}),F=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!S&&O?(s.track({type:0,doc:O}),F=!0):S&&!O&&(s.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(O?(f=f.add(O),u=G?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(O,N){const G=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return G(O)-G(N)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new To(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new X0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new L1(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new M1(s))}),n}Oa(e){this.fa=e.gs,this.pa=Le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return To.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jp="SyncEngine";class JN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ek{constructor(e){this.key=e,this.Ba=!1}}class tk{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ta(m=>e1(m),Wh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ge.comparator),this.Ua=new Map,this.Ka=new jp,this.Wa={},this.Ga=new Map,this.za=Eo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nk(r,e,n=!0){const s=B1(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await P1(s,e,n,!0),o}async function rk(r,e){const n=B1(r);await P1(n,e,!0,!1)}async function P1(r,e,n,s){const o=await wN(r.localStore,vr(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ik(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&I1(r.remoteStore,o),m}async function ik(r,e,n,s,o){r.Ha=(b,S,O)=>async function(G,F,$,ne){let ae=F.view.ba($);ae.ls&&(ae=await G0(G.localStore,F.query,!1).then(({documents:P})=>F.view.ba(P,ae)));const pe=ne&&ne.targetChanges.get(F.targetId),fe=ne&&ne.targetMismatches.get(F.targetId)!=null,xe=F.view.applyChanges(ae,G.isPrimaryClient,pe,fe);return tE(G,F.targetId,xe.Ma),xe.snapshot}(r,b,S,O);const u=await G0(r.localStore,e,!0),f=new ZN(e,u.gs),m=f.ba(u.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);tE(r,n,g.Ma);const E=new JN(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function sk(r,e,n){const s=Se(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Wh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),sp(s,o.targetId)}).catch(Co)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function ak(r,e){const n=Se(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function ok(r,e,n){const s=mk(r);try{const o=await function(f,m){const p=Se(f),g=Rt.now(),E=m.reduce((O,N)=>O.add(N.key),Le());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let N=si(),G=Le();return p.ds.getEntries(O,E).next(F=>{N=F,N.forEach(($,ne)=>{ne.isValidDocument()||(G=G.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,N)).next(F=>{b=F;const $=[];for(const ne of m){const ae=wC(ne,b.get(ne.key).overlayedDocument);ae!=null&&$.push(new is(ne.key,ae,KT(ae.value.mapValue),Vn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,$,m)}).next(F=>{S=F;const $=F.applyToLocalDocumentSet(b,G);return p.documentOverlayCache.saveOverlays(O,F.batchId,$)})}).then(()=>({batchId:S.batchId,changes:r1(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ot(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Au(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function V1(r,e){const n=Se(r);try{const s=await EN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Fe(f.Ba):o.removedDocuments.size>0&&(Fe(f.Ba),f.Ba=!1))}),await Au(n,s,e)}catch(s){await Co(s)}}function eE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const S of b.ta)S.sa(m)&&(g=!0)}),g&&Xp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function lk(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ot(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Le().add(u),p=new ef(Ae.min(),new Map,new ot(Ce),f,m);await V1(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),eg(s)}else await np(s.localStore,e,!1).then(()=>sp(s,e,n)).catch(Co)}async function uk(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await _N(n.localStore,e);j1(n,s,null),U1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Au(n,o)}catch(o){await Co(o)}}async function ck(r,e,n){const s=Se(r);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Fe(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);j1(s,e,n),U1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Au(s,o)}catch(o){await Co(o)}}function U1(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function j1(r,e,n){const s=Se(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||z1(r,s)})}function z1(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Hp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),eg(r))}function tE(r,e,n){for(const s of n)s instanceof M1?(r.Ka.addReference(s.key,e),hk(r,s)):s instanceof L1?(ue(Jp,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||z1(r,s.key)):be()}function hk(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(Jp,"New document in limbo: "+n),r.Qa.add(s),eg(r))}function eg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(tt.fromString(e)),s=r.za.next();r.Ua.set(s,new ek(n)),r.$a=r.$a.insert(n,s),I1(r.remoteStore,new Hi(vr($h(n.path)),s,"TargetPurposeLimboResolution",Kh.ae))}}async function Au(r,e,n){const s=Se(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Bp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ee.forEach(g,S=>ee.forEach(S.Hi,O=>E.persistence.referenceDelegate.addReference(b,S.targetId,O)).next(()=>ee.forEach(S.Ji,O=>E.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))}catch(b){if(!No(b))throw b;ue(qp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const O=E.Ts.get(S),N=O.snapshotVersion,G=O.withLastLimboFreeSnapshotVersion(N);E.Ts=E.Ts.insert(S,G)}}}(s.localStore,u))}async function fk(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue(Jp,"User change. New user:",e.toKey());const s=await A1(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Au(n,s.Rs)}}function dk(r,e){const n=Se(r),s=n.Ua.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function B1(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lk.bind(null,e),e.La.p_=WN.bind(null,e.eventManager),e.La.Ja=XN.bind(null,e.eventManager),e}function mk(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ck.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return vN(this.persistence,new pN,e.initialUser,this.serializer)}Xa(e){return new w1(zp.ri,this.serializer)}Za(e){return new SN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class pk extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Fe(this.persistence.referenceDelegate instanceof Mh);const s=this.persistence.referenceDelegate.garbageCollector;return new eN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new w1(s=>Mh.ri(s,n),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=fk.bind(null,this.syncEngine),await QN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $N}()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=function(u){return new NN(u)}(e.databaseInfo);return function(u,f,m,p){return new MN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new PN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>eE(this.syncEngine,n,0),function(){return Y0.D()?new Y0:new xN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const b=new tk(o,u,f,m,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ue(Xs,"RemoteStore shutting down."),u.W_.add(5),await wu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class gk{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=PT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(es,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(es,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Cm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await A1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function nE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await yk(r);ue(es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>W0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>W0(e.remoteStore,o)),r._onlineComponents=e}async function yk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(es,"Using user provided OfflineComponentProvider");try{await Cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Cm(r,new Ph)}}else ue(es,"Using default OfflineComponentProvider"),await Cm(r,new pk(void 0));return r._offlineComponents}async function q1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(es,"Using user provided OnlineComponentProvider"),await nE(r,r._uninitializedComponentsProvider._online)):(ue(es,"Using default OnlineComponentProvider"),await nE(r,new ap))),r._onlineComponents}function vk(r){return q1(r).then(e=>e.syncEngine)}async function Vh(r){const e=await q1(r),n=e.eventManager;return n.onListen=nk.bind(null,e.syncEngine),n.onUnlisten=sk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ak.bind(null,e.syncEngine),n}function _k(r,e,n={}){const s=new ei;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new tg({next:S=>{E.su(),f.enqueueAndForget(()=>Wp(u,b));const O=S.docs.has(m);!O&&S.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Zp($h(m.path),E,{includeMetadataChanges:!0,Ta:!0});return $p(u,b)}(await Vh(r),r.asyncQueue,e,n,s)),s.promise}function Ek(r,e,n={}){const s=new ei;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new tg({next:S=>{E.su(),f.enqueueAndForget(()=>Wp(u,b)),S.fromCache&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Zp(m,E,{includeMetadataChanges:!0,Ta:!0});return $p(u,b)}(await Vh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Tk(r,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function iE(r){if(!ge.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sE(r){if(ge.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be()}function fn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sf(r);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="firestore.googleapis.com",aE=!0;class oE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=aE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:aE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=b1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZC)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new II;switch(s.type){case"firstParty":return new DI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=rE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),rE.delete(n),s.terminate())}(this),Promise.resolve()}}function bk(r,e,n,s={}){var o;const u=(r=fn(r,af))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==G1&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Gs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=DS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(b)}r._authCredentials=new CI(new MT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class Xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Yi extends ra{constructor(e,n,s){super(e,n,$h(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new ge(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function ts(r,e,...n){if(r=at(r),F1("collection","path",e),r instanceof af){const s=tt.fromString(e,...n);return sE(s),new Yi(r,null,s)}{if(!(r instanceof Xt||r instanceof Yi))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return sE(s),new Yi(r.firestore,null,s)}}function Tr(r,e,...n){if(r=at(r),arguments.length===1&&(e=PT.newId()),F1("doc","path",e),r instanceof af){const s=tt.fromString(e,...n);return iE(s),new Xt(r,null,new ge(s))}{if(!(r instanceof Xt||r instanceof Yi))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return iE(s),new Xt(r.firestore,r instanceof Yi?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class uE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new x1(this,"async_queue_retry"),this.Su=()=>{const s=Im();s&&ue(lE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ei;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!No(e))throw e;ue(lE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ii("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Qp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function cE(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class ai extends af{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new uE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function wk(r,e){const n=typeof r=="object"?r:FE(),s=typeof r=="string"?r:Ih,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=NS("firestore");u&&bk(o,...u)}return o}function of(r){if(r._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Ak(r),r._firestoreClient}function Ak(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new QI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,H1(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new gk(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Ft.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=/^__.*__$/;class xk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class K1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Q1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class ig{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Uh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Q1(this.Lu)&&Sk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Rk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}ju(e,n,s,o=!1){return new ig({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(r){const e=r._freezeSettings(),n=tf(r._databaseId);return new Rk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Y1(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);ag("Data must be an object, but it was:",f,s);const m=$1(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=op(e,b,n);if(!f.contains(S))throw new ce(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);X1(E,S)||E.push(S)}p=new bn(E),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new xk(new hn(m),p,g)}class hf extends uf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class sg extends uf{_toFieldTransform(e){return new _C(e.path,new lu)}isEqual(e){return e instanceof sg}}function Ik(r,e,n,s){const o=r.ju(1,e,n);ag("Data must be an object, but it was:",o,s);const u=[],f=hn.empty();rs(s,(p,g)=>{const E=og(e,p,n);g=at(g);const b=o.Uu(E);if(g instanceof hf)u.push(E);else{const S=Su(g,b);S!=null&&(u.push(E),f.set(E,S))}});const m=new bn(u);return new K1(f,m,o.fieldTransforms)}function Ck(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[op(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(op(e,u[S])),p.push(u[S+1]);const g=[],E=hn.empty();for(let S=m.length-1;S>=0;--S)if(!X1(g,m[S])){const O=m[S];let N=p[S];N=at(N);const G=f.Uu(O);if(N instanceof hf)g.push(O);else{const F=Su(N,G);F!=null&&(g.push(O),E.set(O,F))}}const b=new bn(g);return new K1(E,b,f.fieldTransforms)}function Nk(r,e,n,s=!1){return Su(n,r.ju(s?4:3,e))}function Su(r,e){if(W1(r=at(r)))return ag("Unsupported field value:",e,r),$1(r,e);if(r instanceof uf)return function(s,o){if(!Q1(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Su(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof ng)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bo)return{bytesValue:p1(o.serializer,s._byteString)};if(s instanceof Xt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rg)return function(f,m){return{mapValue:{fields:{[FT]:{stringValue:GT},[Ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Mp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${sf(s)}`)}(r,e)}function $1(r,e){const n={};return UT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,(s,o)=>{const u=Su(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function W1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof ng||r instanceof bo||r instanceof Xt||r instanceof uf||r instanceof rg)}function ag(r,e,n){if(!W1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=sf(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function op(r,e,n){if((e=at(e))instanceof lf)return e._internalPath;if(typeof e=="string")return og(r,e);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const kk=new RegExp("[~\\*/\\[\\]]");function og(r,e,n){if(e.search(kk)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lf(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+r+p)}function X1(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Dk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Dk extends Z1{data(){return super.data()}}function lg(r,e){return typeof e=="string"?og(r,e):e instanceof lf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ug{}class Ok extends ug{}function wo(r,e,...n){let s=[];e instanceof ug&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof cg).length,m=u.filter(p=>p instanceof ff).length;if(f>1||f>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class ff extends Ok{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ff(e,n,s)}_apply(e){const n=this._parse(e);return eb(e._query,n),new ra(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=cf(e.firestore);return function(u,f,m,p,g,E,b){let S;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){fE(b,E);const N=[];for(const G of b)N.push(hE(p,u,G));S={arrayValue:{values:N}}}else S=hE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||fE(b,E),S=Nk(m,f,b,E==="in"||E==="not-in");return Tt.create(g,E,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ao(r,e,n){const s=e,o=lg("where",r);return ff._create(o,s,n)}class cg extends ug{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)eb(f,p),f=Wm(f,p)}(e._query,n),new ra(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hE(r,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JT(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return x0(r,new ge(s))}if(n instanceof Xt)return x0(r,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(n)}.`)}function fE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Mk{convertValue(e,n="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return rs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Ch].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new rg(u)}convertGeoPoint(e){return new ng(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(T1(s));const o=new au(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ii(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nb extends Z1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class gh extends nb{data(e={}){return super.data(e)}}class rb{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:Lk(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(r){r=fn(r,Xt);const e=fn(r.firestore,ai);return _k(of(e),r._key).then(n=>ib(e,r,n))}class hg extends Mk{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function hu(r){r=fn(r,ra);const e=fn(r.firestore,ai),n=of(e),s=new hg(e);return J1(r._query),Ek(n,r._query).then(o=>new rb(e,s,r,o))}function fg(r,e,n){r=fn(r,Xt);const s=fn(r.firestore,ai),o=tb(r.converter,e,n);return df(s,[Y1(cf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Vn.none())])}function dg(r,e,n,...s){r=fn(r,Xt);const o=fn(r.firestore,ai),u=cf(o);let f;return f=typeof(e=at(e))=="string"||e instanceof lf?Ck(u,"updateDoc",r._key,e,n,s):Ik(u,"updateDoc",r._key,e),df(o,[f.toMutation(r._key,Vn.exists(!0))])}function jh(r){return df(fn(r.firestore,ai),[new Lp(r._key,Vn.none())])}function Vk(r,e){const n=fn(r.firestore,ai),s=Tr(r),o=tb(r.converter,e);return df(n,[Y1(cf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}function Uk(r,...e){var n,s,o;r=at(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||cE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(cE(e[f])){const b=e[f];e[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,E;if(r instanceof Xt)g=fn(r.firestore,ai),E=$h(r._key.path),p={next:b=>{e[f]&&e[f](ib(g,r,b))},error:e[f+1],complete:e[f+2]};else{const b=fn(r,ra);g=fn(b.firestore,ai),E=b._query;const S=new hg(g);p={next:O=>{e[f]&&e[f](new rb(g,S,b,O))},error:e[f+1],complete:e[f+2]},J1(r._query)}return function(S,O,N,G){const F=new tg(G),$=new Zp(O,F,N);return S.asyncQueue.enqueueAndForget(async()=>$p(await Vh(S),$)),()=>{F.su(),S.asyncQueue.enqueueAndForget(async()=>Wp(await Vh(S),$))}}(of(g),E,m,p)}function df(r,e){return function(s,o){const u=new ei;return s.asyncQueue.enqueueAndForget(async()=>ok(await vk(s),o,u)),u.promise}(of(r),e)}function ib(r,e,n){const s=n.docs.get(e._key),o=new hg(r);return new nb(r,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function jk(){return new sg("serverTimestamp")}(function(e,n=!0){(function(o){Io=o})(Ro),po(new Ks("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ai(new NI(s.getProvider("auth-internal")),new OI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ki(m0,p0,e),Ki(m0,p0,"esm2017")})();const zk={apiKey:"AIzaSyDMTx4TOfgKz1Lij6ASZq8_Cpk1DJs-eRc",authDomain:"pitstop-pro-9f6b1.firebaseapp.com",projectId:"pitstop-pro-9f6b1",storageBucket:"pitstop-pro-9f6b1.appspot.com",messagingSenderId:"879099424476",appId:"1:879099424476:web:1ef0ead9bbd88259cf4e19"},sb=HE(zk),xu=wr(sb),Jt=wk(sb),ia=()=>({...U.useContext(ME),logout:async()=>{await dR(xu)}}),ab="/Pitstop-pro/assets/car-illustration-Ba366Px5.png";function Bk(){const{user:r}=ia(),e=Js(),n=()=>{e(r?"/dashboard":"/register")};return T.jsx("section",{className:"bg-surface text-text py-16 px-6 pt-navbar",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-12",children:[T.jsxs("div",{className:"flex-1 space-y-6",children:[T.jsx("h1",{className:"text-4xl sm:text-5xl font-bold leading-tight text-primary",children:"Simplified Vehicle Management"}),T.jsx("p",{className:"text-lg text-gray-300",children:"Track maintenance, expenses, insurance and IUC â€“ all in one place."}),T.jsx("div",{className:"flex flex-wrap gap-4",children:T.jsx("button",{onClick:n,className:"bg-primary text-background px-6 py-3 rounded-md text-base font-medium hover:bg-opacity-90 transition",children:"Get Started"})})]}),T.jsx("div",{className:"flex-1",children:T.jsx("img",{src:ab,alt:"Illustration of a car",className:"w-full max-w-md mx-auto"})})]})})}var qk=U.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),ss=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function dE(r,e){if(r==null)return{};var n={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=r[o]);return n}var li=U.forwardRef(function(r,e){var n=r.alt,s=r.color,o=r.size,u=r.weight,f=r.mirrored,m=r.children,p=r.renderPath,g=dE(r,["alt","color","size","weight","mirrored","children","renderPath"]),E=U.useContext(qk),b=E.color,S=b===void 0?"currentColor":b,O=E.size,N=E.weight,G=N===void 0?"regular":N,F=E.mirrored,$=F===void 0?!1:F,ne=dE(E,["color","size","weight","mirrored"]);return R.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??O,height:o??O,fill:s??S,viewBox:"0 0 256 256",transform:f||$?"scale(-1, 1)":void 0},ne,g),!!n&&R.createElement("title",null,n),m,R.createElement("rect",{width:"256",height:"256",fill:"none"}),p(u??G,s??S))});li.displayName="IconBase";var sa=new Map;sa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"40",y1:"108",x2:"136",y2:"108",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"40",y1:"148",x2:"120",y2:"148",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});sa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});sa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M192.6,189.3a8,8,0,0,1,0,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,192.6,55.4a8,8,0,0,1,0,11.3,7.9,7.9,0,0,1-11.3,0A64.1,64.1,0,0,0,72.5,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.5a64.1,64.1,0,0,0,108.8,37.3A7.9,7.9,0,0,1,192.6,189.3Z"}))});sa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});sa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});sa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Hk=function(e,n){return ss(e,n,sa)},ob=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Hk}))});ob.displayName="CurrencyEur";var aa=new Map;aa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});aa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});aa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M216,120H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}),R.createElement("path",{d:"M40,72H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"}),R.createElement("path",{d:"M216,184H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"}))});aa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});aa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});aa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"64",x2:"216",y2:"64",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"40",y1:"192",x2:"216",y2:"192",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Fk=function(e,n){return ss(e,n,aa)},lb=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Fk}))});lb.displayName="List";var oa=new Map;oa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("circle",{cx:"44",cy:"128",r:"16"}),R.createElement("circle",{cx:"44",cy:"64",r:"16"}),R.createElement("circle",{cx:"44",cy:"192",r:"16"}))});oa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("circle",{cx:"44",cy:"64",r:"12"}),R.createElement("circle",{cx:"44",cy:"128",r:"12"}),R.createElement("circle",{cx:"44",cy:"192",r:"12"}))});oa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M80,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H88A8,8,0,0,1,80,64Zm136,56H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM44,116a12,12,0,1,0,12,12A12,12,0,0,0,44,116Zm0-64A12,12,0,1,0,56,64,12,12,0,0,0,44,52Zm0,128a12,12,0,1,0,12,12A12,12,0,0,0,44,180Z"}))});oa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("circle",{cx:"44",cy:"64",r:"10"}),R.createElement("circle",{cx:"44",cy:"192",r:"10"}),R.createElement("circle",{cx:"44",cy:"128",r:"10"}))});oa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("circle",{cx:"44",cy:"128",r:"8"}),R.createElement("circle",{cx:"44",cy:"64",r:"8"}),R.createElement("circle",{cx:"44",cy:"192",r:"8"}))});oa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("circle",{cx:"44",cy:"64",r:"12"}),R.createElement("circle",{cx:"44",cy:"128",r:"12"}),R.createElement("circle",{cx:"44",cy:"192",r:"12"}))});var Gk=function(e,n){return ss(e,n,oa)},ub=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Gk}))});ub.displayName="ListBullets";var la=new Map;la.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});la.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M136,64l56,56,26.3-26.3a8,8,0,0,0,0-11.4L173.7,37.7a8,8,0,0,0-11.4,0Z",opacity:"0.2"}),R.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});la.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M224,76.7,179.7,32.3a16.6,16.6,0,0,0-11.3-5A16,16,0,0,0,156.7,32L130.3,58.3h0L36.7,152A15.9,15.9,0,0,0,32,163.3V208a16,16,0,0,0,16,16H92.7a16.1,16.1,0,0,0,11.3-4.7l120-120A16.1,16.1,0,0,0,224,76.7Zm-32,32L147.3,64,168,43.3,212.7,88Z"}))});la.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});la.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});la.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Kk=function(e,n){return ss(e,n,la)},cb=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Kk}))});cb.displayName="PencilSimple";var ua=new Map;ua.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ua.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ua.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))});ua.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ua.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ua.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Qk=function(e,n){return ss(e,n,ua)},hb=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Qk}))});hb.displayName="Plus";var ca=new Map;ca.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ca.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),R.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ca.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))});ca.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ca.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ca.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Yk=function(e,n){return ss(e,n,ca)},fb=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Yk}))});fb.displayName="Trash";var ha=new Map;ha.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ha.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",opacity:"0.2"}),R.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ha.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M210.9,146.9A72.6,72.6,0,0,1,131,162L79,222.2c-.1.2-.3.3-.4.4a31.9,31.9,0,0,1-45.2,0,31.9,31.9,0,0,1,0-45.2l.4-.4L94,125a72,72,0,0,1,94.1-95.2,7.9,7.9,0,0,1,4.7,5.8,8,8,0,0,1-2.2,7.2L151.7,81.7l3.7,18.9,18.9,3.7,38.9-38.9a8,8,0,0,1,7.2-2.2,7.9,7.9,0,0,1,5.8,4.7A71.7,71.7,0,0,1,210.9,146.9Z"}))});ha.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ha.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ha.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var $k=function(e,n){return ss(e,n,ha)},db=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:$k}))});db.displayName="Wrench";var fa=new Map;fa.set("bold",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),R.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});fa.set("duotone",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});fa.set("fill",function(){return R.createElement(R.Fragment,null,R.createElement("path",{d:"M139.3,128l66.4-66.3a8.1,8.1,0,0,0-11.4-11.4L128,116.7,61.7,50.3A8.1,8.1,0,0,0,50.3,61.7L116.7,128,50.3,194.3a8.1,8.1,0,0,0,0,11.4,8.2,8.2,0,0,0,11.4,0L128,139.3l66.3,66.4a8.2,8.2,0,0,0,11.4,0,8.1,8.1,0,0,0,0-11.4Z"}))});fa.set("light",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),R.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});fa.set("thin",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),R.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});fa.set("regular",function(r){return R.createElement(R.Fragment,null,R.createElement("line",{x1:"200",y1:"56",x2:"56",y2:"200",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),R.createElement("line",{x1:"200",y1:"200",x2:"56",y2:"56",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var Wk=function(e,n){return ss(e,n,fa)},mb=U.forwardRef(function(r,e){return R.createElement(li,Object.assign({ref:e},r,{renderPath:Wk}))});mb.displayName="X";function Nm({Icon:r,title:e,description:n}){return T.jsxs("div",{className:"border border-gray-700 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow bg-surface",children:[T.jsx("div",{className:"flex justify-center mb-4",children:T.jsx(r,{size:40,weight:"duotone",className:"text-primary"})}),T.jsx("h3",{className:"text-xl font-semibold",children:e}),T.jsx("p",{className:"text-gray-400 text-sm mt-2",children:n})]})}function Xk(){return T.jsx("section",{className:"bg-background text-text py-16 px-6",children:T.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[T.jsx(Nm,{Icon:db,title:"Organized Maintenance",description:"Easily track and schedule each vehicle service."}),T.jsx(Nm,{Icon:ob,title:"Expense Tracking - coming soon",description:"Know exactly how much you vehicle is costing you on maintenance, repairs and insurance. "}),T.jsx(Nm,{Icon:ub,title:"List your Next Events",description:"Never forget your inspections, insurance payments or IUC again."})]})})}function Zk(){return T.jsx("footer",{className:"bg-surface text-gray-400 text-sm text-center py-4",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4 px-6",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsx(cn,{to:"#",className:"hover:underline",children:"Terms"}),T.jsx(cn,{to:"#",className:"hover:underline",children:"Privacy"}),T.jsx(cn,{to:"#",className:"hover:underline",children:"Contact"})]}),T.jsxs("p",{children:["Â© ",new Date().getFullYear()," PitStop Pro"]})]})})}function Jk(){return T.jsxs(T.Fragment,{children:[T.jsx(Bk,{}),T.jsx(Xk,{}),T.jsx(Zk,{})]})}function mg(r){switch(r.code){case"auth/email-already-in-use":return"This email is already registered.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/too-many-requests":return"Too many login attempts. Please wait and try again later.";default:return"An unexpected error occurred. Please try again."}}function eD({onSubmit:r}){const[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(!1),g=async E=>{E.preventDefault(),f(""),p(!0);try{await r(e,s)}catch(b){b instanceof jn?f(mg(b)):f("An unexpected error occurred. Please try again.")}finally{p(!1)}};return T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm text-gray-400",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your email"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm text-gray-400",children:"Password"}),T.jsx("input",{id:"password",type:"password",value:s,onChange:E=>o(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your password"})]}),T.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:m?"Logging in...":"Login"}),T.jsx("p",{className:"text-sm text-center text-gray-400 mt-4",children:T.jsx("a",{href:"/forgot-password",className:"text-primary hover:underline",children:"Forgot your password?"})}),u&&T.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:u})]})}function tD(){const r=Js(),e=async(n,s)=>{await sR(xu,n,s),r("/dashboard")};return T.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:T.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Login"}),T.jsx(eD,{onSubmit:e})]})})}function nD({onSubmit:r}){const[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(""),[g,E]=U.useState(!1),b=async S=>{if(S.preventDefault(),p(""),s!==u){p("Passwords do not match.");return}E(!0);try{await r(e,s)}catch(O){O instanceof jn?p(mg(O)):p("An unexpected error occurred. Please try again.")}finally{E(!1)}};return T.jsxs("form",{onSubmit:b,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm text-gray-400",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:e,onChange:S=>n(S.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your email"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm text-gray-400",children:"Password"}),T.jsx("input",{id:"password",type:"password",value:s,onChange:S=>o(S.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your password"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"confirmPassword",className:"block mb-1 text-sm text-gray-400",children:"Confirm Password"}),T.jsx("input",{id:"confirmPassword",type:"password",value:u,onChange:S=>f(S.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Confirm your password"})]}),T.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:g,children:g?"Registering...":"Register"}),m&&T.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:m})]})}function rD(){const r=Js(),e=async(n,s)=>{const u=(await iR(xu,n,s)).user;await fg(Tr(Jt,"users",u.uid),{displayName:"",email:u.email,photoUrl:"",phone:"",address:"",createdAt:jk()}),r("/dashboard")};return T.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:T.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Create Account"}),T.jsx(nD,{onSubmit:e})]})})}function iD({onSubmit:r}){const[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(!1),g=async E=>{E.preventDefault(),f(""),o(""),p(!0);try{await r(e),o("We have sent you a password reset link.")}catch(b){b instanceof jn?f(mg(b)):f("An unexpected error occurred. Please try again.")}finally{p(!1)}};return T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsx("input",{type:"email",placeholder:"Your email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base"}),T.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:m?"Sending...":"Send reset link"}),s&&T.jsx("p",{className:"text-green-500 text-sm text-center mt-4",children:s}),u&&T.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:u})]})}function sD(){const r=async e=>{await rR(xu,e)};return T.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:T.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Reset your password"}),T.jsx(iD,{onSubmit:r})]})})}function aD(){return T.jsx("h1",{children:"Not Found - PitStop Pro ðŸš—"})}const oD="/Pitstop-pro/assets/logo-flat-CsB4qleT.png";function lD(){var e;const{user:r}=ia();return r?T.jsxs("div",{className:"flex items-center gap-3",children:[r.photoURL?T.jsx("img",{src:r.photoURL,alt:r.displayName||"User",className:"w-10 h-10 rounded-full object-cover border border-border shadow"}):T.jsx("div",{className:"w-10 h-10 rounded-full bg-muted text-background flex items-center justify-center font-semibold",children:((e=r.displayName)==null?void 0:e.charAt(0).toUpperCase())??"U"}),T.jsx("span",{className:"hidden md:inline text-sm truncate max-w-[120px]",children:r.displayName})]}):null}function pb({onToggleSidebar:r}){const{user:e,logout:n}=ia(),s=br(),[o,u]=U.useState(!1),f=async()=>{try{await n()}catch(g){console.error("Logout failed:",g)}},m=e&&!e.displayName,p=()=>{u(!o),r==null||r()};return T.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-surface text-text px-6 py-4 shadow-md",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[r&&T.jsx("button",{onClick:p,className:"md:hidden text-text hover:text-accent transition","aria-label":o?"Close menu":"Open menu",children:o?T.jsx(mb,{size:24}):T.jsx(lb,{size:24})}),T.jsxs(cn,{to:"/",className:"flex items-center gap-2 transition-transform hover:scale-105",children:[T.jsx("img",{src:oD,alt:"PitStop Pro logo",className:"h-12 w-auto"}),T.jsx("span",{className:"sr-only",children:"PitStop Pro"}),T.jsx("span",{className:"text-xl font-semibold text-primary hidden sm:inline",children:"PitStop Pro"})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[e&&T.jsxs(T.Fragment,{children:[T.jsx(lD,{}),m&&T.jsx(cn,{to:"/settings",title:"Your profile is incomplete. Click to complete it.",className:"text-xs text-yellow-400 font-medium hover:underline transition ml-2",children:"âš ï¸ Complete your profile"})]}),T.jsx("ul",{className:"flex gap-4 items-center text-sm sm:text-base",children:e?T.jsxs(T.Fragment,{children:[s.pathname==="/"&&T.jsx("li",{children:T.jsx(cn,{to:"/dashboard",className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"My Garage"})}),T.jsx("li",{children:T.jsx("button",{onClick:f,className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"Logout"})})]}):T.jsxs(T.Fragment,{children:[s.pathname!=="/login"&&T.jsx("li",{children:T.jsx(cn,{to:"/login",className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"Login"})}),s.pathname!=="/register"&&T.jsx("li",{children:T.jsx(cn,{to:"/register",className:"px-4 py-2 rounded-md bg-primary text-background hover:bg-opacity-90 transition-colors",children:"Register"})})]})})]})]})})}const uD=()=>{const{user:r,loading:e}=ia();return e?T.jsx("div",{className:"text-center py-20 text-text",children:"Loading..."}):r?T.jsx(IE,{}):T.jsx(UA,{to:"/login"})},cD=[{path:"/dashboard",label:"Overview"},{path:"/vehicles",label:"Garage"},{path:"/maintenance",label:"Maintenance"},{path:"/expenses",label:"Expenses"},{path:"/documents",label:"Documents"},{path:"/settings",label:"Settings"}];function hD({isOpen:r,onClose:e}){const n=br();return T.jsxs(T.Fragment,{children:[r&&T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-30 md:hidden",onClick:e,"aria-label":"Close sidebar overlay"}),T.jsx("aside",{className:`
					fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] bg-surface border-r border-border px-4 py-6 shadow-md z-40
					${r?"block":"hidden"}
					md:block
				`,children:T.jsx("nav",{className:"space-y-2",children:cD.map(s=>T.jsx(cn,{to:s.path,onClick:e,className:`block px-4 py-2 rounded transition ${n.pathname===s.path?"bg-muted font-semibold text-white":"text-muted-foreground hover:bg-muted"}`,children:s.label},s.path))})})]})}function fD(){const[r,e]=U.useState(!1),n=()=>e(!1);return T.jsxs("div",{className:"pt-16",children:[T.jsx(pb,{onToggleSidebar:()=>e(s=>!s)}),T.jsx(hD,{isOpen:r,onClose:n}),T.jsx("main",{className:`
					transition-all duration-300 px-6 py-8
					md:ml-64 
				`,children:T.jsx("div",{className:"max-w-7xl mx-auto",children:T.jsx(IE,{})})})]})}const gb=async()=>{const e=wr().currentUser;if(!e)return[];const n=wo(ts(Jt,"vehicles"),Ao("userId","==",e.uid));return(await hu(n)).docs.map(o=>({id:o.id,...o.data()}))};function dD(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(5);U.useEffect(()=>{(async()=>{if(!wr().currentUser)return;const E=await gb(),b=[],S=[{key:"insuranceDate",doneKey:"insuranceDone",label:"Insurance payment date"},{key:"inspectionDate",doneKey:"inspectionDone",label:"Inspection date"},{key:"taxDate",doneKey:"taxDone",label:"Tax payment date"},{key:"maintenanceDate",doneKey:"maintenanceDone",label:"Scheduled maintenance"}];E.forEach(O=>{S.forEach(({key:N,doneKey:G,label:F})=>{const $=O[N];!O[G]&&$&&b.push({date:$,label:F,vehicleName:O.vehicleName||`${O.brand} ${O.model}`,vehicleId:O.id,image:O.image})})}),b.sort((O,N)=>new Date(O.date).getTime()-new Date(N.date).getTime()),e(b),s(!1)})()},[]);const f=m=>{const p=new Date(m),g=String(p.getDate()).padStart(2,"0"),E=String(p.getMonth()+1).padStart(2,"0"),b=p.getFullYear();return`${g}/${E}/${b}`};return T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Events"}),n?T.jsx("p",{className:"text-muted-foreground",children:"Loading events..."}):r.length===0?T.jsxs("div",{className:"p-6 border border-gray-700 rounded-lg bg-surface text-center text-muted-foreground space-y-4",children:[T.jsx("p",{children:"No upcoming events scheduled."}),T.jsx(cn,{to:"/maintenance",className:"inline-block px-6 py-3 bg-primary text-background rounded-md font-medium hover:bg-opacity-90 transition",children:"Add Maintenance"})]}):T.jsxs(T.Fragment,{children:[T.jsx("ul",{className:"space-y-4",children:r.slice(0,o).map((m,p)=>{const g=new Date(m.date)<new Date;return T.jsxs("li",{className:"p-4 bg-surface border border-border rounded flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4 text-text",children:[m.image?T.jsx("img",{src:m.image,alt:"Vehicle",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover border border-border"}):T.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-background border border-dashed border-border flex items-center justify-center text-xs text-text-muted",children:"No photo"}),T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("span",{className:"text-sm sm:text-base",children:[T.jsx("strong",{children:f(m.date)})," â€” ",m.label]}),T.jsx(cn,{to:"/vehicles",className:"text-accent text-sm underline-offset-2 hover:underline",children:m.vehicleName}),g&&T.jsx("span",{className:"text-xs font-semibold text-destructive sm:hidden mt-1",children:"âš ï¸ Overdue"})]})]}),g&&T.jsx("span",{className:"text-xs font-semibold text-destructive hidden sm:block",children:"âš ï¸ Overdue"})]},`${m.vehicleId}-${m.label}-${p}`)})}),r.length>o&&T.jsx("div",{className:"flex justify-center mt-4",children:T.jsx("button",{onClick:()=>u(m=>m+5),className:"text-sm text-accent hover:underline",children:"Load more"})})]})]})}const mD=({vehicle:r})=>T.jsxs("div",{className:"p-6 rounded-xl bg-surface border border-border flex flex-col items-center text-center shadow-sm",children:[r.image?T.jsx("img",{src:r.image,alt:"Vehicle",className:"rounded-full w-28 h-28 object-cover border border-border mb-4"}):T.jsx("div",{className:"rounded-full w-28 h-28 bg-background flex items-center justify-center text-sm text-text-muted border border-dashed border-border mb-4",children:"No photo"}),T.jsx("h2",{className:"text-lg font-semibold text-text break-words",children:r.vehicleName||`${r.brand} ${r.model}`}),T.jsx("p",{className:"text-sm text-text-muted",children:r.licensePlate}),T.jsxs(cn,{to:"/vehicles",className:"mt-4 text-sm text-accent inline-flex items-center gap-1 group",children:[T.jsx("span",{className:"text-xl leading-none",children:"ï¼‹"}),T.jsx("span",{className:"underline-offset-2 group-hover:underline",children:"More details"})]})]});function pD(){const[r,e]=U.useState([]),[n,s]=U.useState(!0),o=Js();return U.useEffect(()=>{(async()=>{if(!wr().currentUser)return;const p=await gb();e(p),s(!1)})()},[]),n?T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),T.jsx("p",{className:"text-muted-foreground",children:"Loading vehicles..."})]}):r.length===0?T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),T.jsxs("div",{className:"p-6 border border-gray-700 rounded-lg bg-surface text-center text-muted-foreground space-y-4",children:[T.jsx("p",{children:"No vehicles registered yet."}),T.jsx("button",{onClick:()=>o("/vehicles"),className:"px-6 py-3 bg-primary text-background rounded-md font-medium hover:bg-opacity-90 transition",children:"Add Your First Vehicle"})]})]}):T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(u=>T.jsx(mD,{vehicle:u},u.id))})]})}function gD(){return T.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-12",children:[T.jsx(dD,{}),T.jsx(pD,{})]})}function yb(){const[r,e]=U.useState([]),[n,s]=U.useState(!0);return U.useEffect(()=>{(async()=>{const f=wr().currentUser;if(!f)return;const m=wo(ts(Jt,"vehicles"),Ao("userId","==",f.uid)),g=(await hu(m)).docs.map(E=>({id:E.id,...E.data()}));e(g),s(!1)})()},[]),{vehicles:r,loading:n}}function yD({parts:r,onEdit:e,onDelete:n}){const{vehicles:s}=yb(),o=(m,p)=>{if(!p)return null;const g=new Date(m);return g.setMonth(g.getMonth()+p),g},u=m=>{var F;const p=new Date,g=s.find($=>$.id===m.vehicleId),E=(F=g==null?void 0:g.kilometerHistory)==null?void 0:F.at(-1),b=(E==null?void 0:E.value)??0,S=m.validForMonths?o(m.installDate,m.validForMonths):null,O=m.validForKm?m.installKilometers+m.validForKm:null,N=S?p>S:!1,G=O!==null?b>=O:!1;return N||G},f=m=>{const p=new Date(m);return`${String(p.getDate()).padStart(2,"0")}/${String(p.getMonth()+1).padStart(2,"0")}/${p.getFullYear()}`};return T.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700 shadow-sm bg-surface",children:T.jsxs("table",{className:"min-w-full text-sm text-left",children:[T.jsx("thead",{className:"bg-background border-b border-gray-600",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-3 font-medium",children:"Part"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Vehicle"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Installed"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Limits"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),T.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),T.jsx("tbody",{children:r.map(m=>{const p=s.find(S=>S.id===m.vehicleId),g=o(m.installDate,m.validForMonths),E=m.validForKm?m.installKilometers+m.validForKm:null,b=u(m);return T.jsxs("tr",{className:"border-b border-gray-700 hover:bg-muted transition",children:[T.jsx("td",{className:"px-4 py-2",children:m.partName}),T.jsx("td",{className:"px-4 py-2",children:(p==null?void 0:p.vehicleName)||`${p==null?void 0:p.brand} ${p==null?void 0:p.model}`||"â€“"}),T.jsxs("td",{className:"px-4 py-2",children:[f(m.installDate)," â€“ ",m.installKilometers.toLocaleString()," km"]}),T.jsxs("td",{className:"px-4 py-2",children:[g?f(g.toISOString()):"â€“"," / ",E?`${E.toLocaleString()} km`:"â€“"]}),T.jsx("td",{className:"px-4 py-2",children:b?T.jsx("span",{className:"text-sm font-semibold text-destructive",children:"âš ï¸ Overdue"}):T.jsx("span",{className:"text-sm text-green-500",children:"âœ” OK"})}),T.jsxs("td",{className:"px-4 py-2 text-right space-x-2",children:[T.jsx("button",{onClick:()=>e(m),className:"text-sm text-accent hover:underline",children:"âœï¸ Edit"}),T.jsx("button",{onClick:()=>n(m.id),className:"text-sm text-destructive hover:underline",children:"ðŸ—‘ï¸ Delete"})]})]},m.id)})})]})})}function vD({isOpen:r,mode:e,defaultValues:n,onClose:s,onAdd:o,onEdit:u}){const{vehicles:f}=yb(),[m,p]=U.useState({vehicleId:"",partName:"",installDate:"",installKilometers:0,validForMonths:"",validForKm:"",notes:""});if(U.useEffect(()=>{var b,S;p(e==="edit"&&n?{vehicleId:n.vehicleId,partName:n.partName,installDate:n.installDate,installKilometers:n.installKilometers,validForMonths:((b=n.validForMonths)==null?void 0:b.toString())||"",validForKm:((S=n.validForKm)==null?void 0:S.toString())||"",notes:n.notes||""}:{vehicleId:"",partName:"",installDate:new Date().toISOString().split("T")[0],installKilometers:0,validForMonths:"",validForKm:"",notes:""})},[e,n]),!r)return null;const g=(b,S)=>{p(O=>({...O,[b]:S}))},E=b=>{b.preventDefault();const O=wr().currentUser;if(!O)return;const N=f.find(F=>F.id===m.vehicleId);if(!N)return;const G={vehicleId:m.vehicleId,vehicleName:N.vehicleName||`${N.brand} ${N.model}`,partName:m.partName,installDate:m.installDate,installKilometers:m.installKilometers,validForMonths:m.validForMonths?Number(m.validForMonths):void 0,validForKm:m.validForKm?Number(m.validForKm):void 0,notes:m.notes||"",userId:O.uid};e==="edit"&&(n!=null&&n.id)?u({...G,id:n.id}):o(G),s()};return T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[999]",children:T.jsxs("div",{className:"bg-surface p-6 rounded-lg w-full max-w-lg shadow-xl border border-border",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:e==="edit"?"Edit Part":"Add New Part"}),T.jsxs("form",{onSubmit:E,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle"}),T.jsxs("select",{value:m.vehicleId,onChange:b=>g("vehicleId",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0,disabled:e==="edit",children:[T.jsx("option",{value:"",children:"Select a vehicle"}),f.map(b=>T.jsx("option",{value:b.id,children:b.vehicleName||`${b.brand} ${b.model}`},b.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Part name"}),T.jsx("input",{type:"text",value:m.partName,onChange:b=>g("partName",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Install date"}),T.jsx("input",{type:"date",value:m.installDate,onChange:b=>g("installDate",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Install km"}),T.jsx("input",{type:"number",value:m.installKilometers,onChange:b=>g("installKilometers",Number(b.target.value)),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid for (months)"}),T.jsx("input",{type:"number",value:m.validForMonths,onChange:b=>g("validForMonths",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid for (km)"}),T.jsx("input",{type:"number",value:m.validForKm,onChange:b=>g("validForKm",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),T.jsx("textarea",{value:m.notes,onChange:b=>g("notes",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",rows:2})]}),T.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[T.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 rounded bg-muted text-sm hover:bg-muted/70 transition",children:"Cancel"}),T.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-primary text-white text-sm hover:bg-accent transition",children:e==="edit"?"Save Changes":"Add Part"})]})]})]})})}const pg="trackedParts",_D=async r=>{const e=wo(ts(Jt,pg),Ao("userId","==",r));return(await hu(e)).docs.map(s=>({id:s.id,...s.data()}))},ED=async r=>{await dg(Tr(Jt,pg,r.id),r)},TD=async r=>{await jh(Tr(Jt,pg,r))};function bD(){const{user:r}=ia(),[e,n]=U.useState([]),[s,o]=U.useState(!0),[u,f]=U.useState(!1),[m,p]=U.useState("add"),[g,E]=U.useState(null),b=U.useCallback(async()=>{if(!r)return;o(!0);const $=await _D(r.uid);n($),o(!1)},[r]);U.useEffect(()=>{r&&b()},[r,b]);const S=async $=>{if(!r)return;const ne=Tr(ts(Jt,"trackedParts")),ae={...$,id:ne.id};await fg(ne,ae),await b()},O=async $=>{await ED($),await b()},N=async $=>{window.confirm("Are you sure you want to delete this part?")&&(await TD($),await b())},G=()=>{E(null),p("add"),f(!0)},F=$=>{E($),p("edit"),f(!0)};return T.jsx("main",{className:"px-6 py-8 w-full",children:T.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Maintenance - Tracked Parts"}),T.jsx("button",{onClick:G,className:"bg-accent text-white px-4 py-2 rounded hover:bg-accent/90 transition",children:"âž• Add Part"})]}),s?T.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading parts..."}):T.jsx(yD,{parts:e,onEdit:F,onDelete:N}),T.jsx(vD,{isOpen:u,mode:m,defaultValues:g,onClose:()=>f(!1),onAdd:S,onEdit:O})]})})}const vb=({mode:r,defaultValues:e,onSuccess:n})=>{const[s,o]=U.useState({vehicleName:"",brand:"",model:"",licensePlate:"",type:"",photoUrl:"",kilometers:0,year:new Date().getFullYear(),insuranceDate:"",inspectionDate:"",taxDate:"",maintenanceDate:""}),[u,f]=U.useState(!1),[m,p]=U.useState(""),[g,E]=U.useState(!1);U.useEffect(()=>{var N,G;r==="edit"&&e&&o({vehicleName:e.vehicleName||"",brand:e.brand,model:e.model,licensePlate:e.licensePlate,type:e.type,photoUrl:e.image||"",kilometers:((G=(N=e.kilometerHistory)==null?void 0:N.at(-1))==null?void 0:G.value)||0,year:e.year,insuranceDate:e.insuranceDate||"",inspectionDate:e.inspectionDate||"",taxDate:e.taxDate||"",maintenanceDate:e.maintenanceDate||""})},[r,e]);const b=(N,G)=>{o(F=>({...F,[N]:G}))},S="w-full p-2 rounded-md bg-input text-text border border-border focus:outline-none focus:ring-2 focus:ring-accent",O=async N=>{N.preventDefault(),f(!0),p(""),E(!1);const F=wr().currentUser;if(!F){p("User not authenticated."),f(!1);return}const $={vehicleName:s.vehicleName,brand:s.brand,model:s.model,licensePlate:s.licensePlate,type:s.type,image:s.photoUrl,year:s.year,insuranceDate:s.insuranceDate,inspectionDate:s.inspectionDate,taxDate:s.taxDate,maintenanceDate:s.maintenanceDate,userId:F.uid,kilometerHistory:[{date:new Date().toISOString().split("T")[0],value:s.kilometers}]};try{r==="edit"&&(e!=null&&e.id)?await dg(Tr(Jt,"vehicles",e.id),$):await Vk(ts(Jt,"vehicles"),$),E(!0),n==null||n()}catch{p("Something went wrong. Please try again.")}finally{f(!1)}};return T.jsxs("form",{onSubmit:O,children:[T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"flex flex-col items-center w-full",children:[s.photoUrl?T.jsx("img",{src:s.photoUrl,alt:"Vehicle",className:"rounded-xl w-full max-w-sm object-cover border border-border"}):T.jsx("div",{className:"w-full max-w-sm aspect-[4/3] bg-surface text-text-muted flex items-center justify-center rounded-xl border border-dashed border-border",children:"No photo"}),T.jsxs("div",{className:"mt-4 w-full space-y-4",children:[T.jsx("input",{type:"url",placeholder:"Photo URL",className:S,value:s.photoUrl,onChange:N=>b("photoUrl",N.target.value)}),T.jsxs("select",{className:S,value:s.type,onChange:N=>b("type",N.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Select vehicle type"}),T.jsx("option",{value:"car",children:"Car"}),T.jsx("option",{value:"motorcycle",children:"Motorcycle"})]})]})]}),T.jsx("div",{className:"space-y-4",children:[{id:"vehicleName",label:"Vehicle name (optional)",required:!1},{id:"brand",label:"Brand",required:!0},{id:"model",label:"Model",required:!0},{id:"licensePlate",label:"License Plate",required:!0},{id:"year",label:"Year",required:!0},{id:"kilometers",label:"Kilometers",required:!0}].map(N=>T.jsx("input",{placeholder:N.label,type:N.id==="year"||N.id==="kilometers"?"number":"text",className:S,value:s[N.id],onChange:G=>b(N.id,N.id==="year"||N.id==="kilometers"?Number(G.target.value):G.target.value),required:N.required},N.id))})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[{id:"insuranceDate",label:"Insurance Date"},{id:"inspectionDate",label:"Inspection Date"},{id:"taxDate",label:"Tax Date"},{id:"maintenanceDate",label:"Maintenance Date"}].map(N=>T.jsx("input",{type:"date",placeholder:N.label,className:S,value:s[N.id],onChange:G=>b(N.id,G.target.value),required:!0},N.id))}),T.jsxs("div",{className:"pt-6",children:[T.jsx("button",{type:"submit",disabled:u,className:"bg-primary hover:bg-accent text-white font-medium px-4 py-2 rounded w-full transition disabled:opacity-50",children:u?r==="edit"?"Saving changes...":"Saving...":r==="edit"?"Save Changes":"Save Vehicle"}),g&&T.jsx("p",{className:"text-accent mt-2 text-sm text-center",children:"Success!"}),m&&T.jsx("p",{className:"text-red-500 mt-2 text-sm text-center",children:m})]})]})},_b=({isOpen:r,onClose:e,title:n,icon:s,children:o})=>r?T.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 px-4 overflow-y-auto",children:T.jsx("div",{className:"flex min-h-full items-start md:items-center justify-center pt-20 md:pt-0",children:T.jsxs("div",{className:"relative w-full max-w-4xl max-h-screen overflow-y-auto bg-background text-text p-6 rounded-2xl shadow-2xl border border-border",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-text-muted hover:text-red-600 text-xl","aria-label":"Close modal",title:"Close",children:"Ã—"}),T.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s,T.jsx("h2",{className:"text-2xl font-semibold",children:n})]}),o]})})}):null,wD=({isOpen:r,onClose:e,onSuccess:n})=>T.jsx(_b,{isOpen:r,onClose:e,title:"Add Vehicle",icon:T.jsx(hb,{size:24,className:"text-primary"}),children:T.jsx(vb,{mode:"create",onSuccess:n})}),AD=({isOpen:r,onClose:e,vehicle:n,onSuccess:s})=>T.jsx(_b,{isOpen:r,onClose:e,title:"Edit Vehicle",icon:T.jsx(cb,{size:24,className:"text-primary"}),children:T.jsx(vb,{mode:"edit",defaultValues:n,onSuccess:s})}),ih=({label:r,date:e,done:n,onMarkAsDone:s})=>{let o="No date set",u="text-xs";if(e){const f=new Date,m=new Date(e);o=m.toLocaleDateString();const p=m<new Date(f.setHours(0,0,0,0));m.toDateString()===new Date().toDateString()?u+=" text-warning/70 font-medium":p?u+=" text-destructive/70 line-through":u+=" text-muted-foreground"}else u+=" text-muted-foreground";return T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium",children:r}),T.jsx("p",{className:u,children:o})]}),T.jsx("div",{className:"flex items-center justify-center",children:T.jsx("input",{type:"checkbox",checked:n,onClick:f=>f.stopPropagation(),onChange:s,className:"accent-accent w-4 h-4"})})]})},SD=({vehicle:r,onEdit:e})=>{const n=async()=>{window.confirm(`Are you sure you want to delete ${r.vehicleName||r.brand+" "+r.model}?`)&&await jh(Tr(Jt,"vehicles",r.id))},s=async o=>{const u=Tr(Jt,"vehicles",r.id),f=!r[o];await dg(u,{[o]:f})};return T.jsxs("div",{className:"p-4 rounded-xl bg-surface border border-border flex flex-col justify-between shadow-sm",children:[T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsxs("div",{className:"flex flex-col items-center w-28 shrink-0",children:[r.image?T.jsx("img",{src:r.image,alt:"Vehicle",className:"rounded-full w-28 h-28 object-cover border border-border"}):T.jsx("div",{className:"rounded-full w-28 h-28 bg-background flex items-center justify-center text-sm text-text-muted border border-dashed border-border",children:"No photo"}),T.jsx("p",{className:"text-xs text-text-muted mt-2",children:r.licensePlate})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h2",{className:"text-lg font-semibold text-text",children:r.vehicleName||`${r.brand} ${r.model}`}),T.jsxs("div",{className:"grid sm:grid-cols-[1fr_auto] grid-cols-1 gap-2 mt-4 items-center",children:[T.jsx("span",{className:"text-xs font-semibold text-text-muted sm:col-start-2",children:"Mark as done"}),T.jsx(ih,{label:"Insurance",date:r.insuranceDate,done:r.insuranceDone,onMarkAsDone:()=>s("insuranceDone")}),T.jsx(ih,{label:"Inspection",date:r.inspectionDate,done:r.inspectionDone,onMarkAsDone:()=>s("inspectionDone")}),T.jsx(ih,{label:"Car Circulation Unified Tax",date:r.taxDate,done:r.taxDone,onMarkAsDone:()=>s("taxDone")}),T.jsx(ih,{label:"Scheduled vehicle service",date:r.maintenanceDate,done:r.maintenanceDone,onMarkAsDone:()=>s("maintenanceDone")})]})]})]}),T.jsx("div",{className:"mt-4 flex justify-end items-center",children:T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:o=>{o.stopPropagation(),e(r)},className:"text-sm text-accent flex items-center gap-1 group",children:[T.jsx("span",{className:"text-xl leading-none",children:"ï¼‹"}),T.jsx("span",{className:"underline-offset-2 group-hover:underline",children:"More details"})]}),T.jsxs("button",{onClick:n,className:"text-sm text-destructive/70 hover:underline flex items-center gap-1",children:[T.jsx(fb,{size:16})," Delete"]})]})})]})},xD=()=>{const[r,e]=U.useState([]),[n,s]=U.useState(!1),[o,u]=U.useState(!1),[f,m]=U.useState(null);return U.useEffect(()=>{const g=wr().currentUser;if(!g)return;const E=wo(ts(Jt,"vehicles"),Ao("userId","==",g.uid)),b=Uk(E,S=>{const O=S.docs.map(N=>({id:N.id,...N.data()}));e(N=>{const G=[...O];return JSON.stringify(N)!==JSON.stringify(G)?G:N})});return()=>b()},[]),T.jsxs("div",{className:"p-6 space-y-6",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold",children:"My Garage"}),T.jsx("p",{className:"text-gray-500",children:"Manage your cars and motorcycles below."})]}),T.jsx("button",{onClick:()=>s(!0),className:"bg-accent/90 hover:bg-accent text-white font-medium px-4 py-2 rounded transition",children:"Add Vehicle"})]}),T.jsx(wD,{isOpen:n,onClose:()=>s(!1),onSuccess:()=>s(!1)}),o&&f&&T.jsx(AD,{isOpen:o,onClose:()=>{u(!1),m(null)},onSuccess:()=>{u(!1),m(null)},vehicle:f}),r.length===0?T.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-text-muted py-20 gap-6",children:[T.jsx("img",{src:ab,alt:"No vehicles",className:"w-40 h-auto opacity-70"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-medium",children:"You haven't added any vehicles yet."}),T.jsx("p",{className:"text-sm",children:"Click the button above to start your garage."})]})]}):T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:r.map(p=>T.jsx(SD,{vehicle:p,onEdit:g=>{m(g),u(!0)}},p.id))})]})},RD=async(r,e)=>{const n=Tr(Jt,"users",r);await fg(n,e,{merge:!0})};function ID(){const{user:r}=ia(),[e,n]=U.useState({displayName:"",photoUrl:"",phone:"",address:""}),[s,o]=U.useState(""),[u,f]=U.useState("");U.useEffect(()=>{(async()=>{if(!r)return;const E=Tr(Jt,"users",r.uid),b=await Pk(E);if(b.exists()){const S=b.data();n({displayName:S.displayName||"",photoUrl:S.photoUrl||"",phone:S.phone||"",address:S.address||""})}})()},[r]);const m=(g,E)=>{n(b=>({...b,[g]:E}))},p=async g=>{if(g.preventDefault(),o(""),f(""),!!r)try{await RD(r.uid,e),await oR(r,{displayName:e.displayName,photoURL:e.photoUrl}),o("Profile updated successfully.")}catch(E){console.error(E),f("Failed to update profile. Please try again later.")}};return T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Profile:        "}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[T.jsxs("form",{onSubmit:p,className:"space-y-4 max-w-sm w-full",children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),T.jsx("input",{type:"text",placeholder:"Your name",value:e.displayName,onChange:g=>m("displayName",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Profile Photo URL:"}),T.jsx("input",{type:"url",placeholder:"Photo URL",value:e.photoUrl,onChange:g=>m("photoUrl",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Phone Number:"}),T.jsx("input",{type:"tel",placeholder:"Phone number",value:e.phone,onChange:g=>m("phone",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Current Location (city, state):"}),T.jsx("input",{type:"text",placeholder:"Address",value:e.address,onChange:g=>m("address",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("button",{type:"submit",className:"px-4 py-2 rounded border border-primary text-primary bg-surface hover:bg-primary hover:text-white transition-colors",children:"Update Profile"}),s&&T.jsx("p",{className:"text-sm text-accent",children:s}),u&&T.jsx("p",{className:"text-sm text-destructive",children:u})]}),e.photoUrl?T.jsx("img",{src:e.photoUrl,alt:"Profile",className:"rounded-full shadow w-60 h-60 object-cover border border-border"}):T.jsx("div",{className:"w-40 h-40 bg-surface border border-dashed border-border flex items-center justify-center text-muted-foreground rounded-full",children:"No photo"})]})]})}function CD(){const e=wr().currentUser,[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(""),[p,g]=U.useState(""),E=async b=>{if(b.preventDefault(),m(""),g(""),!(!e||!e.email))try{const S=ea.credential(e.email,n);await nR(e,S),await lR(e,o),m("Password updated successfully."),s(""),u("")}catch(S){console.error(S),g("Failed to update password. Please check your current password and try again.")}};return T.jsx("section",{className:"space-y-4",children:T.jsxs("form",{onSubmit:E,className:"space-y-4 max-w-sm",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Current Password"}),T.jsx("input",{type:"password",value:n,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"New Password"}),T.jsx("input",{type:"password",value:o,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text",minLength:6,required:!0})]}),T.jsx("button",{type:"submit",className:"px-4 py-2 rounded border border-primary text-primary bg-surface hover:bg-primary hover:text-white transition-colors",children:"Update Password"}),f&&T.jsx("p",{className:"text-sm text-accent",children:f}),p&&T.jsx("p",{className:"text-sm text-destructive",children:p})]})})}function ND(){const r=wr(),e=Js(),n=r.currentUser,s=async()=>{if(!(!n||!window.confirm("Are you sure you want to permanently delete your account and all your data? This action cannot be undone.")))try{const u=await hu(wo(ts(Jt,"vehicles"),Ao("userId","==",n.uid)));await Promise.all(u.docs.map(m=>jh(m.ref)));const f=await hu(wo(ts(Jt,"trackedParts"),Ao("userId","==",n.uid)));await Promise.all(f.docs.map(m=>jh(m.ref))),await mR(n),e("/")}catch(u){console.error("Error deleting account:",u),alert("An error occurred while deleting your account. Please try again later.")}};return T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-destructive",children:"Delete Account"}),T.jsx("p",{className:"text-muted-foreground",children:"This action is irreversible. All your data will be permanently deleted."}),T.jsx("button",{onClick:s,className:"bg-destructive text-white px-4 py-2 rounded hover:bg-destructive/90 transition",children:"Delete Account"})]})}function kD(){return T.jsxs("div",{className:"p-6 max-w-5xl w-full mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-text mb-10",children:"Settings"}),T.jsxs("div",{className:"space-y-12",children:[T.jsx(ID,{}),T.jsx(CD,{}),T.jsx(ND,{})]})]})}function DD(){return T.jsx("div",{className:"flex items-center justify-center h-[60vh] text-2xl text-muted",children:"Expenses - Coming soon ðŸš§"})}function OD(){return T.jsx("div",{className:"flex items-center justify-center h-[60vh] text-2xl text-muted",children:"Documents - Coming soon ðŸ“„"})}const MD=T.jsx(ln,{element:T.jsx(uD,{}),children:T.jsxs(ln,{element:T.jsx(fD,{}),children:[T.jsx(ln,{path:"/dashboard",element:T.jsx(gD,{})}),T.jsx(ln,{path:"/maintenance",element:T.jsx(bD,{})}),T.jsx(ln,{path:"/vehicles",element:T.jsx(xD,{})}),T.jsx(ln,{path:"/expenses",element:T.jsx(DD,{})}),T.jsx(ln,{path:"/documents",element:T.jsx(OD,{})}),T.jsx(ln,{path:"/settings",element:T.jsx(kD,{})})]})});function LD(){const{loading:r}=ia();return r?T.jsx("div",{className:"text-center mt-10 text-muted-foreground",children:"Loading..."}):T.jsx("div",{className:"min-h-screen bg-background text-text font-sans",children:T.jsxs(cS,{children:[T.jsx(pb,{}),T.jsxs(zA,{children:[T.jsx(ln,{path:"/",element:T.jsx(Jk,{})}),T.jsx(ln,{path:"/login",element:T.jsx(tD,{})}),T.jsx(ln,{path:"/register",element:T.jsx(rD,{})}),T.jsx(ln,{path:"/forgot-password",element:T.jsx(sD,{})}),MD,T.jsx(ln,{path:"*",element:T.jsx(aD,{})})]})]})})}var km={exports:{}},Hl={},Dm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function PD(){return mE||(mE=1,function(r){function e(W,oe){var me=W.length;W.push(oe);e:for(;0<me;){var Be=me-1>>>1,D=W[Be];if(0<o(D,oe))W[Be]=oe,W[me]=D,me=Be;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var oe=W[0],me=W.pop();if(me!==oe){W[0]=me;e:for(var Be=0,D=W.length,re=D>>>1;Be<re;){var le=2*(Be+1)-1,ie=W[le],ye=le+1,Ne=W[ye];if(0>o(ie,me))ye<D&&0>o(Ne,ie)?(W[Be]=Ne,W[ye]=me,Be=ye):(W[Be]=ie,W[le]=me,Be=le);else if(ye<D&&0>o(Ne,me))W[Be]=Ne,W[ye]=me,Be=ye;else break e}}return oe}function o(W,oe){var me=W.sortIndex-oe.sortIndex;return me!==0?me:W.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,S=3,O=!1,N=!1,G=!1,F=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function pe(W){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=W)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function fe(W){if(G=!1,pe(W),!N)if(n(p)!==null)N=!0,xe||(xe=!0,z());else{var oe=n(g);oe!==null&&lt(fe,oe.startTime-W)}}var xe=!1,P=-1,x=5,I=-1;function M(){return F?!0:!(r.unstable_now()-I<x)}function V(){if(F=!1,xe){var W=r.unstable_now();I=W;var oe=!0;try{e:{N=!1,G&&(G=!1,ne(P),P=-1),O=!0;var me=S;try{t:{for(pe(W),b=n(p);b!==null&&!(b.expirationTime>W&&M());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,S=b.priorityLevel;var D=Be(b.expirationTime<=W);if(W=r.unstable_now(),typeof D=="function"){b.callback=D,pe(W),oe=!0;break t}b===n(p)&&s(p),pe(W)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var re=n(g);re!==null&&lt(fe,re.startTime-W),oe=!1}}break e}finally{b=null,S=me,O=!1}oe=void 0}}finally{oe?z():xe=!1}}}var z;if(typeof ae=="function")z=function(){ae(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Pt=k.port2;k.port1.onmessage=V,z=function(){Pt.postMessage(null)}}else z=function(){$(V,0)};function lt(W,oe){P=$(function(){W(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(W){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return W()}finally{S=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=S;S=W;try{return oe()}finally{S=me}},r.unstable_scheduleCallback=function(W,oe,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,W={id:E++,callback:oe,priorityLevel:W,startTime:me,expirationTime:D,sortIndex:-1},me>Be?(W.sortIndex=me,e(g,W),n(p)===null&&W===n(g)&&(G?(ne(P),P=-1):G=!0,lt(fe,me-Be))):(W.sortIndex=D,e(p,W),N||O||(N=!0,xe||(xe=!0,z()))),W},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(W){var oe=S;return function(){var me=S;S=oe;try{return W.apply(this,arguments)}finally{S=me}}}}(Om)),Om}var pE;function VD(){return pE||(pE=1,Dm.exports=PD()),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function UD(){if(gE)return Hl;gE=1;var r=VD(),e=lp(),n=TS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,w=h.child;w;){if(w===a){_=!0,a=h,l=d;break}if(w===l){_=!0,l=h,a=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===a){_=!0,a=d,l=h;break}if(w===l){_=!0,l=d,a=h;break}w=w.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case F:return"Profiler";case G:return"StrictMode";case fe:return"Suspense";case xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return i=t.displayName||null,i!==null?i:Pt(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Pt(t(i))}catch{}}return null}var lt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function re(t){return{current:t}}function le(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function ie(t,i){D++,Be[D]=t.current,t.current=i}var ye=re(null),Ne=re(null),we=re(null),Ct=re(null);function Je(t,i){switch(ie(we,i),ie(Ne,t),ie(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?e_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=e_(i),t=t_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ye),ie(ye,t)}function Zn(){le(ye),le(Ne),le(we)}function ui(t){t.memoizedState!==null&&ie(Ct,t);var i=ye.current,a=t_(i,t.type);i!==a&&(ie(Ne,t),ie(ye,a))}function Ar(t){Ne.current===t&&(le(ye),le(Ne)),Ct.current===t&&(le(Ct),Ll._currentValue=me)}var as=Object.prototype.hasOwnProperty,os=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Do=r.unstable_shouldYield,Ru=r.unstable_requestPaint,wn=r.unstable_now,mf=r.unstable_getCurrentPriorityLevel,Oo=r.unstable_ImmediatePriority,da=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,pf=r.unstable_LowPriority,ma=r.unstable_IdlePriority,Mo=r.log,Iu=r.unstable_setDisableYieldValue,ut=null,Ge=null;function dn(t){if(typeof Mo=="function"&&Iu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ut,t)}catch{}}var Gt=Math.clz32?Math.clz32:cs,Cu=Math.log,gf=Math.LN2;function cs(t){return t>>>=0,t===0?32:31-(Cu(t)/gf|0)|0}var hs=256,fs=4194304;function zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=zn(l):(_&=w,_!==0?h=zn(_):a||(a=w&~t,a!==0&&(h=zn(a))))):(w=l&~d,w!==0?h=zn(w):_!==0?h=zn(_):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ds(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Lo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),t}function Vo(){var t=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),t}function Sr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Gt(a),J=1<<X;w[X]=0,C[X]=-1;var K=H[X];if(K!==null)for(H[X]=null,X=0;X<K.length;X++){var Q=K[X];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&Jn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Jn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function ci(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hi(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function Nu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,gt="__reactProps$"+nt,An="__reactContainer$"+nt,zo="__reactEvents$"+nt,yf="__reactListeners$"+nt,fi="__reactHandles$"+nt,ku="__reactResources$"+nt,ms="__reactMarker$"+nt;function di(t){delete t[bt],delete t[gt],delete t[zo],delete t[yf],delete t[fi]}function Rr(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[An]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=s_(t);t!==null;){if(a=t[bt])return a;t=s_(t)}return i}t=a,a=t.parentNode}return null}function er(t){if(t=t[bt]||t[An]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function tr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[ku];return i||(i=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[ms]=!0}var Bo=new Set,ya={};function Bn(t,i){Ir(t,i),Ir(t+"Capture",i)}function Ir(t,i){for(ya[t]=i,t=0;t<i.length;t++)Bo.add(i[t])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},ps={};function Mu(t){return as.call(ps,t)?!0:as.call(Ou,t)?!1:Du.test(t)?ps[t]=!0:(Ou[t]=!0,!1)}function mi(t,i,a){if(Mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function nr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var gs,Lu;function Cr(t){if(gs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);gs=i&&i[1]||"",Lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+Lu}var va=!1;function _a(t,i){if(!t||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var K=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){K=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){K=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var C=_.split(`
`),H=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===H.length)for(l=C.length-1,h=H.length-1;1<=l&&0<=h&&C[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==H[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Cr(a):""}function qo(t){switch(t.tag){case 26:case 27:case 5:return Cr(t.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return Cr("Activity");default:return""}}function Ea(t){try{var i="";do i+=qo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ho(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function vf(t){var i=Ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ta(t){t._valueTracker||(t._valueTracker=vf(t))}function Fo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _f=/[\n"\\]/g;function yt(t){return t.replace(_f,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(t,i,a,l,h,d,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?pi(t,_,tn(i)):a!=null?pi(t,_,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+tn(w):t.removeAttribute("name")}function vs(t,i,a,l,h,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function pi(t,i,a){i==="number"&&ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Nr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function _s(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Es.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Go(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Pu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Pu(t,d,i[d])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var kr=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,Or=null;function Qo(t){var i=er(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Fo(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Nr(t,!!a.multiple,i,!1)}}}var rr=!1;function Vu(t,i,a){if(rr)return t(i,a);rr=!0;try{var l=t(i);return l}finally{if(rr=!1,(Dr!==null||Or!==null)&&(Nc(),Dr&&(i=Dr,t=Or,Or=Dr=null,Qo(i),t)))for(i=0;i<t.length;i++)Qo(t[i])}}function Ts(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(qn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Rn=!1}var ir=null,gi=null,Mr=null;function Yo(){if(Mr)return Mr;var t,i=gi,a=i.length,l,h="value"in ir?ir.value:ir.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Mr=h.slice(t,1<l?1-l:void 0)}function sr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ar(){return!0}function $o(){return!1}function Nt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ar:$o,this.isPropagationStopped=$o,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Nt(He),ws=E({},He,{view:0,detail:0}),Uu=Nt(ws),Aa,Sa,or,As=E({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(Aa=t.screenX-or.screenX,Sa=t.screenY-or.screenY):Sa=Aa=0,or=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),In=Nt(As),ju=E({},As,{dataTransfer:0}),bf=Nt(ju),Ss=E({},ws,{relatedTarget:0}),xa=Nt(Ss),Wo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Nt(Wo),zu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=Nt(zu),wf=E({},He,{data:0}),Xo=Nt(wf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function Rs(){return Zo}var Hu=E({},ws,{key:function(t){if(t.key){var i=xs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=Nt(Hu),Fu=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=Nt(Fu),Lr=E({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Gu=Nt(Lr),Ku=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Nt(Ku),Yu=E({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=Nt(Yu),nn=E({},He,{newState:0,oldState:0}),$u=Nt(nn),Wu=[9,13,27,32],lr=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,v=qn&&(!lr||c&&8<c&&11>=c),A=" ",B=!1;function Y(t,i){switch(t){case"keyup":return Wu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function wt(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function Ve(t,i){if(Pe)return t==="compositionend"||!lr&&Y(t,i)?(t=Yo(),Mr=gi=ir=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Pr(t,i,a,l){Dr?Or?Or.push(l):Or=[l]:Dr=l,i=Pc(i,"onChange"),0<i.length&&(a=new wa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ur=null;function el(t){$v(t,0)}function Xu(t){var i=tr(t);if(Fo(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(qn){var Af;if(qn){var Sf="oninput"in document;if(!Sf){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Sf=typeof vg.oninput=="function"}Af=Sf}else Af=!1;yg=Af&&(!document.documentMode||9<document.documentMode)}function _g(){Ut&&(Ut.detachEvent("onpropertychange",Eg),ur=Ut=null)}function Eg(t){if(t.propertyName==="value"&&Xu(ur)){var i=[];Pr(i,ur,t,xn(t)),Vu(el,i)}}function Eb(t,i,a){t==="focusin"?(_g(),Ut=i,ur=a,Ut.attachEvent("onpropertychange",Eg)):t==="focusout"&&_g()}function Tb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(ur)}function bb(t,i){if(t==="click")return Xu(i)}function wb(t,i){if(t==="input"||t==="change")return Xu(i)}function Ab(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:Ab;function tl(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!as.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function wg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ys(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ys(t.document)}return i}function xf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Sb=qn&&"documentMode"in document&&11>=document.documentMode,ka=null,Rf=null,nl=null,If=!1;function Sg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||ka==null||ka!==ys(l)||(l=ka,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Pc(Rf,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ka)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Cf={},xg={};qn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Cs(t){if(Cf[t])return Cf[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xg)return Cf[t]=i[a];return t}var Rg=Cs("animationend"),Ig=Cs("animationiteration"),Cg=Cs("animationstart"),xb=Cs("transitionrun"),Rb=Cs("transitionstart"),Ib=Cs("transitioncancel"),Ng=Cs("transitionend"),kg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Hn(t,i){kg.set(t,i),Bn(i,[t])}var Dg=new WeakMap;function Cn(t,i){if(typeof t=="object"&&t!==null){var a=Dg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ea(i)},Dg.set(t,i),i)}return{value:t,source:i,stack:Ea(i)}}var Nn=[],Oa=0,kf=0;function Zu(){for(var t=Oa,i=kf=Oa=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function Ju(t,i,a,l){Nn[Oa++]=t,Nn[Oa++]=i,Nn[Oa++]=a,Nn[Oa++]=l,kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Df(t,i,a,l){return Ju(t,i,a,l),ec(t)}function Ma(t,i){return Ju(t,null,null,i),ec(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(t){if(50<Rl)throw Rl=0,Ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={};function Cb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new Cb(t,i,a,l)}function Of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Of(t)&&(_=1);else if(typeof t=="string")_=kw(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=gn(31,a,i,h),t.elementType=I,t.lanes=d,t;case N:return Ns(a.children,h,d,i);case G:_=8,h|=24;break;case F:return t=gn(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case fe:return t=gn(13,a,i,h),t.elementType=fe,t.lanes=d,t;case xe:return t=gn(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case ae:_=10;break e;case ne:_=9;break e;case pe:_=11;break e;case P:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ns(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function Mf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function Lf(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Pa=[],Va=0,nc=null,rc=0,kn=[],Dn=0,ks=null,Ur=1,jr="";function Ds(t,i){Pa[Va++]=rc,Pa[Va++]=nc,nc=t,rc=i}function Lg(t,i,a){kn[Dn++]=Ur,kn[Dn++]=jr,kn[Dn++]=ks,ks=t;var l=Ur;t=jr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ur=1<<32-Gt(i)+h|a<<h|l,jr=d+t}else Ur=1<<d|a<<h|l,jr=t}function Pf(t){t.return!==null&&(Ds(t,1),Lg(t,1,0))}function Vf(t){for(;t===nc;)nc=Pa[--Va],Pa[Va]=null,rc=Pa[--Va],Pa[Va]=null;for(;t===ks;)ks=kn[--Dn],kn[Dn]=null,jr=kn[--Dn],kn[Dn]=null,Ur=kn[--Dn],kn[Dn]=null}var rn=null,ct=null,qe=!1,Os=null,cr=!1,Uf=Error(s(519));function Ms(t){var i=Error(s(418,""));throw sl(Cn(i,t)),Uf}function Pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[gt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Oe(Cl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),vs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),_s(i,l.value,l.defaultValue,l.children),Ta(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Jv(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=Vc),i=!0):i=!1,i||Ms(t)}function Vg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:rn=rn.return}}function rl(t){if(t!==rn)return!1;if(!qe)return Vg(t),qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&ct&&Ms(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Di(t.type)?(t=im,im=null,ct=t):ct=i):ct=rn?Gn(t.stateNode.nextSibling):null;return!0}function il(){ct=rn=null,qe=!1}function Ug(){var t=Os;return t!==null&&(on===null?on=t:on.push.apply(on,t),Os=null),t}function sl(t){Os===null?Os=[t]:Os.push(t)}var jf=re(null),Ls=null,zr=null;function yi(t,i,a){ie(jf,i._currentValue),i._currentValue=a}function Br(t){t._currentValue=jf.current,le(jf)}function zf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var C=0;C<i.length;C++)if(w.context===i[C]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),zf(d.return,a,t),l||(_=null);break e}d=w.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),zf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function al(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var w=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ct.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}h=h.return}t!==null&&Bf(i,t,a,l),i.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){Ls=t,zr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return jg(Ls,t)}function sc(t,i){return Ls===null&&Ps(t),jg(t,i)}function jg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zr===null){if(t===null)throw Error(s(308));zr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zr=zr.next=i;return a}var Nb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},kb=r.unstable_scheduleCallback,Db=r.unstable_NormalPriority,St={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new Nb,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&kb(Db,function(){t.controller.abort()})}var ll=null,Hf=0,Ua=0,ja=null;function Ob(t,i){if(ll===null){var a=ll=[];Hf=0,Ua=Gd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,i.then(zg,zg),i}function zg(){if(--Hf===0&&ll!==null){ja!==null&&(ja.status="fulfilled");var t=ll;ll=null,Ua=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Mb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Ob(t,i),Bg!==null&&Bg(t,i)};var Vs=re(null);function Ff(){var t=Vs.current;return t!==null?t:et.pooledCache}function ac(t,i){i===null?ie(Vs,Vs.current):ie(Vs,i.pool)}function qg(){var t=Ff();return t===null?null:{parent:St._currentValue,pool:t}}var ul=Error(s(460)),Hg=Error(s(474)),oc=Error(s(542)),Gf={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lc(){}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(lc,lc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qg(t),t;default:if(typeof i.status=="string")i.then(lc,lc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Qg(t),t}throw cl=i,ul}}var cl=null;function Kg(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Qg(t){if(t===ul||t===oc)throw Error(s(483))}var vi=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function _i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),Og(t,null,a),i}return Ju(t,l,i,a),ec(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $f=!1;function fl(){if($f){var t=ja;if(t!==null)throw t}}function dl(t,i,a,l){$f=!1;var h=t.updateQueue;vi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,H=C.next;C.next=null,_===null?d=H:_.next=H,_=C;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==_&&(w===null?X.firstBaseUpdate=H:w.next=H,X.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;_=0,X=H=C=null,w=d;do{var K=w.lane&-536870913,Q=K!==w.lane;if(Q?(Ue&K)===K:(l&K)===K){K!==0&&K===Ua&&($f=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Te=t,ve=w;K=i;var Xe=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){J=Te.call(Xe,J,K);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,K=typeof Te=="function"?Te.call(Xe,J,K):Te,K==null)break e;J=E({},J,K);break e;case 2:vi=!0}}K=w.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(H=X=Q,C=J):X=X.next=Q,_|=K;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(C=J),h.baseState=C,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Ii|=_,t.lanes=_,t.memoizedState=J}}function Yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],i)}var za=re(null),uc=re(0);function Wg(t,i){t=Yr,ie(uc,t),ie(za,i),Yr=t|i.baseLanes}function Wf(){ie(uc,Yr),ie(za,za.current)}function Xf(){Yr=uc.current,le(za),le(uc)}var Ti=0,Ie=null,$e=null,vt=null,cc=!1,Ba=!1,Us=!1,hc=0,ml=0,qa=null,Lb=0;function dt(){throw Error(s(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,h,d){return Ti=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?Oy:My,Us=!1,d=a(l,h),Us=!1,Ba&&(d=Zg(i,a,l,h)),Xg(t),d}function Xg(t){W.H=yc;var i=$e!==null&&$e.next!==null;if(Ti=0,vt=$e=Ie=null,cc=!1,ml=0,qa=null,i)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&ic(t)&&(Dt=!0))}function Zg(t,i,a,l){Ie=t;var h=0;do{if(Ba&&(qa=null),ml=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=qb,d=i(a,l)}while(Ba);return d}function Pb(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),i}function ed(){var t=hc!==0;return hc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}cc=!1}Ti=0,vt=$e=Ie=null,Ba=!1,ml=hc=0,qa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function _t(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=vt===null?Ie.memoizedState:vt.next;if(i!==null)vt=i,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,qa===null&&(qa=[]),t=Gg(qa,t,i),i=Ie,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?Oy:My),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ae)return Kt(t)}throw Error(s(438,String(t)))}function id(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rd(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function qr(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=_t();return sd(i,$e,t)}function sd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=_=null,C=null,H=i,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ue&J)===J:(Ti&J)===J){var K=H.revertLane;if(K===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Ua&&(X=!0);else if((Ti&K)===K){H=H.next,K===Ua&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(w=C=J,_=d):C=C.next=J,Ie.lanes|=K,Ii|=K;J=H.action,Us&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else K={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(w=C=K,_=d):C=C.next=K,Ie.lanes|=J,Ii|=J;H=H.next}while(H!==null&&H!==i);if(C===null?_=d:C.next=w,!pn(d,t.memoizedState)&&(Dt=!0,X&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Jg(t,i,a){var l=Ie,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn(($e||h).memoizedState,a);_&&(h.memoizedState=a,Dt=!0),h=h.queue;var w=ny.bind(null,l,h,t);if(gl(2048,8,w,[t]),h.getSnapshot!==i||_||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,mc(),ty.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Ti&124)!==0||ey(l,i,a)}return a}function ey(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=rd(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ty(t,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&iy(t)}function ny(t,i,a){return a(function(){ry(i)&&iy(t)})}function ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function iy(t){var i=Ma(t,2);i!==null&&Tn(i,t,2)}function od(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Us){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:t},i}function sy(t,i,a,l){return t.baseState=a,sd(t,$e,typeof l=="function"?l:qr)}function Vb(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ay(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ay(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var w=a(h,l),C=W.S;C!==null&&C(_,w),oy(t,i,w)}catch(H){ld(t,i,H)}finally{W.T=d}}else try{d=a(h,l),oy(t,i,d)}catch(H){ld(t,i,H)}}function oy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(t,i,l)},function(l){return ld(t,i,l)}):ly(t,i,a)}function ly(t,i,a){i.status="fulfilled",i.value=a,uy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ay(t,a)))}function ld(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,uy(i),i=i.next;while(i!==l)}t.action=null}function uy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cy(t,i){return i}function hy(t,i){if(qe){var a=et.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,d=cr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Gn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:i},a.queue=l,a=Ny.bind(null,Ie,l),l.dispatch=a,l=od(!1),d=dd.bind(null,Ie,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Vb.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function fy(t){var i=_t();return dy(i,$e,t)}function dy(t,i,a){if(i=sd(t,i,cy)[0],t=dc(qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(_){throw _===ul?oc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ha(9,mc(),Ub.bind(null,h,a),null)),[l,d,t]}function Ub(t,i){t.action=i}function my(t){var i=_t(),a=$e;if(a!==null)return dy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=rd(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function mc(){return{destroy:void 0,resource:void 0}}function py(){return _t().memoizedState}function pc(t,i,a,l){var h=sn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ha(1|i,mc(),a,l)}function gl(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Zf(l,$e.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ha(1|i,d,a,l))}function gy(t,i){pc(8390656,8,t,i)}function yy(t,i){gl(2048,8,t,i)}function vy(t,i){return gl(4,2,t,i)}function _y(t,i){return gl(4,4,t,i)}function Ey(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ty(t,i,a){a=a!=null?a.concat([t]):null,gl(4,4,Ey.bind(null,i,t),a)}function ud(){}function by(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function wy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Us){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Ti&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xv(),Ie.lanes|=t,Ii|=t,a)}function Ay(t,i,a,l){return pn(a,i)?a:za.current!==null?(t=cd(t,a,l),pn(t,i)||(Dt=!0),t):(Ti&42)===0?(Dt=!0,t.memoizedState=a):(t=xv(),Ie.lanes|=t,Ii|=t,i)}function Sy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=W.T,w={};W.T=w,dd(t,!1,i,a);try{var C=h(),H=W.S;if(H!==null&&H(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=Mb(C,l);yl(t,i,X,En(t))}else yl(t,i,l,En(t))}catch(J){yl(t,i,{then:function(){},status:"rejected",reason:J},En())}finally{oe.p=d,W.T=_}}function jb(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=xy(t).queue;Sy(t,h,i,me,a===null?jb:function(){return Ry(t),a(l)})}function xy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ry(t){var i=xy(t).next.queue;yl(t,i,{},En())}function fd(){return Kt(Ll)}function Iy(){return _t().memoizedState}function Cy(){return _t().memoizedState}function zb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=_i(a);var l=Ei(i,t,a);l!==null&&(Tn(l,i,a),hl(l,i,a)),i={cache:qf()},t.payload=i;return}i=i.return}}function Bb(t,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?ky(i,a):(a=Df(t,i,a,l),a!==null&&(Tn(a,t,l),Dy(a,i,l)))}function Ny(t,i,a){var l=En();yl(t,i,a,l)}function yl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))ky(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,w=d(_,a);if(h.hasEagerState=!0,h.eagerState=w,pn(w,_))return Ju(t,i,h,0),et===null&&Zu(),!1}catch{}finally{}if(a=Df(t,i,h,l),a!==null)return Tn(a,t,l),Dy(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Df(t,a,l,2),i!==null&&Tn(i,t,2)}function gc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function ky(t,i){Ba=cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var yc={readContext:Kt,use:fc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Oy={readContext:Kt,use:fc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:gy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,pc(4194308,4,Ey.bind(null,i,t),a)},useLayoutEffect:function(t,i){return pc(4194308,4,t,i)},useInsertionEffect:function(t,i){pc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Us){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Us){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Bb.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=od(t);var i=t.queue,a=Ny.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=sn();return cd(a,t,i)},useTransition:function(){var t=od(!1);return t=Sy.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=sn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Ue&124)!==0||ey(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,mc(),ty.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(qe){var a=jr,l=Ur;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i="Â«"+i+"R"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+="Â»"}else a=Lb++,i="Â«"+i+"r"+a.toString(32)+"Â»";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:hy,useActionState:hy,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return sn().memoizedState=zb.bind(null,Ie)}},My={readContext:Kt,use:fc,useCallback:by,useContext:Kt,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:wy,useReducer:dc,useRef:py,useState:function(){return dc(qr)},useDebugValue:ud,useDeferredValue:function(t,i){var a=_t();return Ay(a,$e.memoizedState,t,i)},useTransition:function(){var t=dc(qr)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Jg,useId:Iy,useHostTransitionStatus:fd,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=_t();return sy(a,$e,t,i)},useMemoCache:id,useCacheRefresh:Cy},qb={readContext:Kt,use:fc,useCallback:by,useContext:Kt,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:vy,useLayoutEffect:_y,useMemo:wy,useReducer:ad,useRef:py,useState:function(){return ad(qr)},useDebugValue:ud,useDeferredValue:function(t,i){var a=_t();return $e===null?cd(a,t,i):Ay(a,$e.memoizedState,t,i)},useTransition:function(){var t=ad(qr)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Jg,useId:Iy,useHostTransitionStatus:fd,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=_t();return $e!==null?sy(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Cy},Fa=null,vl=0;function vc(t){var i=vl;return vl+=1,Fa===null&&(Fa=[]),Gg(Fa,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function _c(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ly(t){var i=t._init;return i(t._payload)}function Py(t){function i(j,L){if(t){var q=j.deletions;q===null?(j.deletions=[L],j.flags|=16):q.push(L)}}function a(j,L){if(!t)return null;for(;L!==null;)i(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function h(j,L){return j=Vr(j,L),j.index=0,j.sibling=null,j}function d(j,L,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<L?(j.flags|=67108866,L):q):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function w(j,L,q,Z){return L===null||L.tag!==6?(L=Mf(q,j.mode,Z),L.return=j,L):(L=h(L,q),L.return=j,L)}function C(j,L,q,Z){var he=q.type;return he===N?X(j,L,q.props.children,Z,q.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===x&&Ly(he)===L.type)?(L=h(L,q.props),_l(L,q),L.return=j,L):(L=tc(q.type,q.key,q.props,null,j.mode,Z),_l(L,q),L.return=j,L)}function H(j,L,q,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=Lf(q,j.mode,Z),L.return=j,L):(L=h(L,q.children||[]),L.return=j,L)}function X(j,L,q,Z,he){return L===null||L.tag!==7?(L=Ns(q,j.mode,Z,he),L.return=j,L):(L=h(L,q),L.return=j,L)}function J(j,L,q){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Mf(""+L,j.mode,q),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return q=tc(L.type,L.key,L.props,null,j.mode,q),_l(q,L),q.return=j,q;case O:return L=Lf(L,j.mode,q),L.return=j,L;case x:var Z=L._init;return L=Z(L._payload),J(j,L,q)}if(lt(L)||z(L))return L=Ns(L,j.mode,q,null),L.return=j,L;if(typeof L.then=="function")return J(j,vc(L),q);if(L.$$typeof===ae)return J(j,sc(j,L),q);_c(j,L)}return null}function K(j,L,q,Z){var he=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:w(j,L,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===he?C(j,L,q,Z):null;case O:return q.key===he?H(j,L,q,Z):null;case x:return he=q._init,q=he(q._payload),K(j,L,q,Z)}if(lt(q)||z(q))return he!==null?null:X(j,L,q,Z,null);if(typeof q.then=="function")return K(j,L,vc(q),Z);if(q.$$typeof===ae)return K(j,L,sc(j,q),Z);_c(j,q)}return null}function Q(j,L,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,w(L,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return j=j.get(Z.key===null?q:Z.key)||null,C(L,j,Z,he);case O:return j=j.get(Z.key===null?q:Z.key)||null,H(L,j,Z,he);case x:var ke=Z._init;return Z=ke(Z._payload),Q(j,L,q,Z,he)}if(lt(Z)||z(Z))return j=j.get(q)||null,X(L,j,Z,he,null);if(typeof Z.then=="function")return Q(j,L,q,vc(Z),he);if(Z.$$typeof===ae)return Q(j,L,q,sc(L,Z),he);_c(L,Z)}return null}function Te(j,L,q,Z){for(var he=null,ke=null,de=L,_e=L=0,Mt=null;de!==null&&_e<q.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var ze=K(j,de,q[_e],Z);if(ze===null){de===null&&(de=Mt);break}t&&de&&ze.alternate===null&&i(j,de),L=d(ze,L,_e),ke===null?he=ze:ke.sibling=ze,ke=ze,de=Mt}if(_e===q.length)return a(j,de),qe&&Ds(j,_e),he;if(de===null){for(;_e<q.length;_e++)de=J(j,q[_e],Z),de!==null&&(L=d(de,L,_e),ke===null?he=de:ke.sibling=de,ke=de);return qe&&Ds(j,_e),he}for(de=l(de);_e<q.length;_e++)Mt=Q(de,j,_e,q[_e],Z),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),L=d(Mt,L,_e),ke===null?he=Mt:ke.sibling=Mt,ke=Mt);return t&&de.forEach(function(Vi){return i(j,Vi)}),qe&&Ds(j,_e),he}function ve(j,L,q,Z){if(q==null)throw Error(s(151));for(var he=null,ke=null,de=L,_e=L=0,Mt=null,ze=q.next();de!==null&&!ze.done;_e++,ze=q.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Vi=K(j,de,ze.value,Z);if(Vi===null){de===null&&(de=Mt);break}t&&de&&Vi.alternate===null&&i(j,de),L=d(Vi,L,_e),ke===null?he=Vi:ke.sibling=Vi,ke=Vi,de=Mt}if(ze.done)return a(j,de),qe&&Ds(j,_e),he;if(de===null){for(;!ze.done;_e++,ze=q.next())ze=J(j,ze.value,Z),ze!==null&&(L=d(ze,L,_e),ke===null?he=ze:ke.sibling=ze,ke=ze);return qe&&Ds(j,_e),he}for(de=l(de);!ze.done;_e++,ze=q.next())ze=Q(de,j,_e,ze.value,Z),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),L=d(ze,L,_e),ke===null?he=ze:ke.sibling=ze,ke=ze);return t&&de.forEach(function(Hw){return i(j,Hw)}),qe&&Ds(j,_e),he}function Xe(j,L,q,Z){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var he=q.key;L!==null;){if(L.key===he){if(he=q.type,he===N){if(L.tag===7){a(j,L.sibling),Z=h(L,q.props.children),Z.return=j,j=Z;break e}}else if(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===x&&Ly(he)===L.type){a(j,L.sibling),Z=h(L,q.props),_l(Z,q),Z.return=j,j=Z;break e}a(j,L);break}else i(j,L);L=L.sibling}q.type===N?(Z=Ns(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=tc(q.type,q.key,q.props,null,j.mode,Z),_l(Z,q),Z.return=j,j=Z)}return _(j);case O:e:{for(he=q.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(j,L.sibling),Z=h(L,q.children||[]),Z.return=j,j=Z;break e}else{a(j,L);break}else i(j,L);L=L.sibling}Z=Lf(q,j.mode,Z),Z.return=j,j=Z}return _(j);case x:return he=q._init,q=he(q._payload),Xe(j,L,q,Z)}if(lt(q))return Te(j,L,q,Z);if(z(q)){if(he=z(q),typeof he!="function")throw Error(s(150));return q=he.call(q),ve(j,L,q,Z)}if(typeof q.then=="function")return Xe(j,L,vc(q),Z);if(q.$$typeof===ae)return Xe(j,L,sc(j,q),Z);_c(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,L!==null&&L.tag===6?(a(j,L.sibling),Z=h(L,q),Z.return=j,j=Z):(a(j,L),Z=Mf(q,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,L)}return function(j,L,q,Z){try{vl=0;var he=Xe(j,L,q,Z);return Fa=null,he}catch(de){if(de===ul||de===oc)throw de;var ke=gn(29,de,null,j.mode);return ke.lanes=Z,ke.return=j,ke}finally{}}}var Ga=Py(!0),Vy=Py(!1),On=re(null),hr=null;function bi(t){var i=t.alternate;ie(xt,xt.current&1),ie(On,t),hr===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(hr=t)}function Uy(t){if(t.tag===22){if(ie(xt,xt.current),ie(On,t),hr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(hr=t)}}else wi()}function wi(){ie(xt,xt.current),ie(On,On.current)}function Hr(t){le(On),hr===t&&(hr=null),le(xt)}var xt=re(0);function Ec(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function md(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=En(),h=_i(l);h.payload=i,a!=null&&(h.callback=a),i=Ei(t,h,l),i!==null&&(Tn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=En(),h=_i(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ei(t,h,l),i!==null&&(Tn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),l=_i(a);l.tag=2,i!=null&&(l.callback=i),i=Ei(t,l,a),i!==null&&(Tn(i,t,a),hl(i,t,a))}};function jy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function zy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function By(t){Tc(t)}function qy(t){console.error(t)}function Hy(t){Tc(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,i,a){return a=_i(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function Gy(t){return t=_i(t),t.tag=3,t}function Ky(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Fy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof h!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function Hb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&al(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return hr===null?zd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===Gf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),zd(),!1}if(qe)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uf&&(t=Error(s(422),{cause:l}),sl(Cn(t,a)))):(l!==Uf&&(i=Error(s(423),{cause:l}),sl(Cn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=gd(t.stateNode,l,h),Yf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),xl===null?xl=[d]:xl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Cn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=gd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ci===null||!Ci.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Ky(h,t,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var Qy=Error(s(461)),Dt=!1;function jt(t,i,a,l){i.child=t===null?Vy(i,null,a,l):Ga(i,t.child,a,l)}function Yy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Ps(i),l=Jf(t,i,a,_,d,h),w=ed(),t!==null&&!Dt?(td(t,i,h),Fr(t,i,h)):(qe&&w&&Pf(i),i.flags|=1,jt(t,i,l,h),i.child)}function $y(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Wy(t,i,d,l,h)):(t=tc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(_,l)&&t.ref===i.ref)return Fr(t,i,h)}return i.flags|=1,t=Vr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Wy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Fr(t,i,h)}return yd(t,i,a,l,h)}function Xy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Zy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):Wf(),Uy(i);else return i.lanes=i.childLanes=536870912,Zy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ac(i,d.cachePool),Wg(i,d),wi(),i.memoizedState=null):(t!==null&&ac(i,null),Wf(),wi());return jt(t,i,h,a),i.child}function Zy(t,i,a,l){var h=Ff();return h=h===null?null:{parent:St._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ac(i,null),Wf(),Uy(i),t!==null&&al(t,i,l,!0),null}function wc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yd(t,i,a,l,h){return Ps(i),a=Jf(t,i,a,l,void 0,h),l=ed(),t!==null&&!Dt?(td(t,i,h),Fr(t,i,h)):(qe&&l&&Pf(i),i.flags|=1,jt(t,i,a,h),i.child)}function Jy(t,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Zg(i,l,a,h),Xg(t),l=ed(),t!==null&&!Dt?(td(t,i,d),Fr(t,i,d)):(qe&&l&&Pf(i),i.flags|=1,jt(t,i,a,d),i.child)}function ev(t,i,a,l,h){if(Ps(i),i.stateNode===null){var d=La,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):La,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(md(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,C=js(a,w);d.props=C;var H=d.context,X=a.contextType;_=La,typeof X=="object"&&X!==null&&(_=Kt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||H!==_)&&zy(i,d,l,_),vi=!1;var K=i.memoizedState;d.state=K,dl(i,l,d,h),fl(),H=i.memoizedState,w||K!==H||vi?(typeof J=="function"&&(md(i,a,J,l),H=i.memoizedState),(C=vi||jy(i,a,C,l,K,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(t,i),_=i.memoizedProps,X=js(a,_),d.props=X,J=i.pendingProps,K=d.context,H=a.contextType,C=La,typeof H=="object"&&H!==null&&(C=Kt(H)),w=a.getDerivedStateFromProps,(H=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||K!==C)&&zy(i,d,l,C),vi=!1,K=i.memoizedState,d.state=K,dl(i,l,d,h),fl();var Q=i.memoizedState;_!==J||K!==Q||vi||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof w=="function"&&(md(i,a,w,l),Q=i.memoizedState),(X=vi||jy(i,a,X,l,K,Q,C)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ga(i,t.child,null,h),i.child=Ga(i,null,a,h)):jt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fr(t,i,h),t}function tv(t,i,a,l){return il(),i.flags|=256,jt(t,i,a,l),i.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:qg()}}function Ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function nv(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?bi(i):wi(),qe){var w=ct,C;if(C=w){e:{for(C=w,w=cr;C.nodeType!==8;){if(!w){w=null;break e}if(C=Gn(C.nextSibling),C===null){w=null;break e}}w=C}w!==null?(i.memoizedState={dehydrated:w,treeContext:ks!==null?{id:Ur,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},C=gn(18,null,null,0),C.stateNode=w,C.return=i,i.child=C,rn=i,ct=null,C=!0):C=!1}C||Ms(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return rm(w)?i.lanes=32:i.lanes=536870912,null;Hr(i)}return w=l.children,l=l.fallback,h?(wi(),h=i.mode,w=Ac({mode:"hidden",children:w},h),l=Ns(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=_d(a),h.childLanes=Ed(t,_,a),i.memoizedState=vd,l):(bi(i),Td(i,w))}if(C=t.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(d)i.flags&256?(bi(i),i.flags&=-257,i=bd(t,i,a)):i.memoizedState!==null?(wi(),i.child=t.child,i.flags|=128,i=null):(wi(),h=l.fallback,w=i.mode,l=Ac({mode:"visible",children:l.children},w),h=Ns(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ga(i,t.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=Ed(t,_,a),i.memoizedState=vd,i=h);else if(bi(i),rm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),i=bd(t,i,a)}else if(Dt||al(t,i,a,!1),_=(a&t.childLanes)!==0,Dt||_){if(_=et,_!==null&&(l=a&-a,l=(l&42)!==0?1:ci(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ma(t,l),Tn(_,t,l),Qy;w.data==="$?"||zd(),i=bd(t,i,a)}else w.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ct=Gn(w.nextSibling),rn=i,qe=!0,Os=null,cr=!1,t!==null&&(kn[Dn++]=Ur,kn[Dn++]=jr,kn[Dn++]=ks,Ur=t.id,jr=t.overflow,ks=i),i=Td(i,l.children),i.flags|=4096);return i}return h?(wi(),h=l.fallback,w=i.mode,C=t.child,H=C.sibling,l=Vr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?h=Vr(H,h):(h=Ns(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=_d(a):(C=w.cachePool,C!==null?(H=St._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=qg(),w={baseLanes:w.baseLanes|a,cachePool:C}),h.memoizedState=w,h.childLanes=Ed(t,_,a),i.memoizedState=vd,l):(bi(i),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Td(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=gn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bd(t,i,a){return Ga(i,t.child,null,a),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function rv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),zf(t.return,i,a)}function wd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function iv(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rv(t,a,i);else if(t.tag===19)rv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(xt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ec(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ec(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(i,!0,a,null,d);break;case"together":wd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ii|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(al(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Vr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function Fb(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),yi(i,St,t.memoizedState.cache),il();break;case 27:case 5:ui(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:yi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(bi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?nv(t,i,a):(bi(i),t=Fr(t,i,a),t!==null?t.sibling:null);bi(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(al(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return iv(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,Xy(t,i,a);case 24:yi(i,St,t.memoizedState.cache)}return Fr(t,i,a)}function sv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Ad(t,a)&&(i.flags&128)===0)return Dt=!1,Fb(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,qe&&(i.flags&1048576)!==0&&Lg(i,rc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Of(l)?(t=js(l,t),i.tag=1,i=ev(null,i,l,t,a)):(i.tag=0,i=yd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pe){i.tag=11,i=Yy(null,i,l,t,a);break e}else if(h===P){i.tag=14,i=$y(null,i,l,t,a);break e}}throw i=Pt(l)||l,Error(s(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),ev(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Qf(t,i),dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,yi(i,St,l),l!==d.cache&&Bf(i,[St],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=tv(t,i,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),i),sl(h),i=tv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Gn(t.firstChild),rn=i,qe=!0,Os=null,cr=!0,a=Vy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(il(),l===h){i=Fr(t,i,a);break e}jt(t,i,l,a)}i=i.child}return i;case 26:return wc(t,i),t===null?(a=u_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Uc(we.current).createElement(a),l[bt]=i,l[gt]=t,Bt(l,a,t),ft(l),i.stateNode=l):i.memoizedState=u_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ui(i),t===null&&qe&&(l=i.stateNode=a_(i.type,i.pendingProps,we.current),rn=i,cr=!0,h=ct,Di(i.type)?(im=h,ct=Gn(l.firstChild)):ct=h),jt(t,i,i.pendingProps.children,a),wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=vw(l,i.type,i.pendingProps,cr),l!==null?(i.stateNode=l,rn=i,ct=Gn(l.firstChild),cr=!1,h=!0):h=!1),h||Ms(i)),ui(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,Pb,null,null,a),Ll._currentValue=h),wc(t,i),jt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=_w(a,i.pendingProps,cr),a!==null?(i.stateNode=a,rn=i,ct=null,t=!0):t=!1),t||Ms(i)),null;case 13:return nv(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ga(i,null,l,a):jt(t,i,l,a),i.child;case 11:return Yy(t,i,i.type,i.pendingProps,a);case 7:return jt(t,i,i.pendingProps,a),i.child;case 8:return jt(t,i,i.pendingProps.children,a),i.child;case 12:return jt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,yi(i,i.type,l.value),jt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=Kt(h),l=l(h),i.flags|=1,jt(t,i,l,a),i.child;case 14:return $y(t,i,i.type,i.pendingProps,a);case 15:return Wy(t,i,i.type,i.pendingProps,a);case 19:return iv(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Ac(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Vr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Xy(t,i,a);case 24:return Ps(i),l=Kt(St),t===null?(h=Ff(),h===null&&(h=et,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),yi(i,St,h)):((t.lanes&a)!==0&&(Qf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),yi(i,St,l)):(l=d.cache,yi(i,St,l),l!==h.cache&&Bf(i,[St],a,!0))),jt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gr(t){t.flags|=4}function av(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(i)){if(i=On.current,i!==null&&((Ue&4194048)===Ue?hr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==hr))throw cl=Gf,Hg;t.flags|=8192}}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vo():536870912,t.lanes|=i,$a|=i)}function El(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Gb(t,i,a){var l=i.pendingProps;switch(Vf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Br(St),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(i)?Gr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ug())),st(i),null;case 26:return a=i.memoizedState,t===null?(Gr(i),a!==null?(st(i),av(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gr(i),st(i),av(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&Gr(i),st(i),i.flags&=-16777217),null;case 27:Ar(i),a=we.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}t=ye.current,rl(i)?Pg(i):(t=a_(h,l,a),i.stateNode=t,Gr(i))}return st(i),null;case 5:if(Ar(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return st(i),null}if(t=ye.current,rl(i))Pg(i);else{switch(h=Uc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gr(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,rl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Jv(t.nodeValue,a)),t||Ms(i)}else t=Uc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Ug(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Hr(i),i):(Hr(i),null)}if(Hr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),st(i),null;case 4:return Zn(),t===null&&$d(i.stateNode.containerInfo),st(i),null;case 10:return Br(i.type),st(i),null;case 19:if(le(xt),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)El(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ec(t),d!==null){for(i.flags|=128,El(h,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return ie(xt,xt.current&1|2),i.child}t=t.sibling}h.tail!==null&&wn()>Ic&&(i.flags|=128,l=!0,El(h,!1),i.lanes=4194304)}else{if(!l)if(t=Ec(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return st(i),null}else 2*wn()-h.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,l=!0,El(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,t=xt.current,ie(xt,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return Hr(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Br(St),st(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Kb(t,i){switch(Vf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Br(St),Zn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ar(i),null;case 13:if(Hr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));il()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(xt),null;case 4:return Zn(),null;case 10:return Br(i.type),null;case 22:case 23:return Hr(i),Xf(),t!==null&&le(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Br(St),null;case 25:return null;default:return null}}function ov(t,i){switch(Vf(i),i.tag){case 3:Br(St),Zn();break;case 26:case 27:case 5:Ar(i);break;case 4:Zn();break;case 13:Hr(i);break;case 19:le(xt);break;case 10:Br(i.type);break;case 22:case 23:Hr(i),Xf(),t!==null&&le(Vs);break;case 24:Br(St)}}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(i,i.return,w)}}function Ai(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,h=i;var C=a,H=w;try{H()}catch(X){Ze(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(i,i.return,X)}}function lv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(l){Ze(t,t.return,l)}}}function uv(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function fr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function cv(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Sd(t,i,a){try{var l=t.stateNode;dw(l,t.type,a,i),l[gt]=i}catch(h){Ze(t,t.return,h)}}function hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Di(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Di(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Vc));else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Di(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function fv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,a),i[bt]=t,i[gt]=a}catch(d){Ze(t,t.return,d)}}var Kr=!1,mt=!1,Id=!1,dv=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Qb(t,i){if(t=t.containerInfo,Zd=Fc,t=Ag(t),xf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,w=-1,C=-1,H=0,X=0,J=t,K=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(w=_+h),J!==d||l!==0&&J.nodeType!==3||(C=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Q=J.firstChild)!==null;)K=J,J=Q;for(;;){if(J===t)break t;if(K===a&&++H===h&&(w=_),K===d&&++X===l&&(C=_),(Q=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=Q}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Fc=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function mv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Si(t,a),l&4&&Tl(5,a);break;case 1:if(Si(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&lv(a),l&512&&bl(a,a.return);break;case 3:if(Si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&fv(a);case 26:case 5:Si(t,a),i===null&&l&4&&cv(a),l&512&&bl(a,a.return);break;case 12:Si(t,a);break;case 13:Si(t,a),l&4&&yv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nw.bind(null,a),Ew(t,a))));break;case 22:if(l=a.memoizedState!==null||Kr,!l){i=i!==null&&i.memoizedState!==null||mt,h=Kr;var d=mt;Kr=l,(mt=i)&&!d?xi(t,a,(a.subtreeFlags&8772)!==0):Si(t,a),Kr=h,mt=d}break;case 30:break;default:Si(t,a)}}function pv(t){var i=t.alternate;i!==null&&(t.alternate=null,pv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&di(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function Qr(t,i,a){for(a=a.child;a!==null;)gv(t,i,a),a=a.sibling}function gv(t,i,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||fr(a,i),Qr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||fr(a,i);var l=rt,h=an;Di(a.type)&&(rt=a.stateNode,an=!1),Qr(t,i,a),kl(a.stateNode),rt=l,an=h;break;case 5:mt||fr(a,i);case 6:if(l=rt,h=an,rt=null,Qr(t,i,a),rt=l,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:rt!==null&&(an?(t=rt,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),jl(t)):i_(rt,a.stateNode));break;case 4:l=rt,h=an,rt=a.stateNode.containerInfo,an=!0,Qr(t,i,a),rt=l,an=h;break;case 0:case 11:case 14:case 15:mt||Ai(2,a,i),mt||Ai(4,a,i),Qr(t,i,a);break;case 1:mt||(fr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&uv(a,i,l)),Qr(t,i,a);break;case 21:Qr(t,i,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Qr(t,i,a),mt=l;break;default:Qr(t,i,a)}}function yv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){Ze(i,i.return,a)}}function Yb(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new dv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new dv),i;default:throw Error(s(435,t.tag))}}function Cd(t,i){var a=Yb(t);i.forEach(function(l){var h=rw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Di(w.type)){rt=w.stateNode,an=!1;break e}break;case 5:rt=w.stateNode,an=!1;break e;case 3:case 4:rt=w.stateNode.containerInfo,an=!0;break e}w=w.return}if(rt===null)throw Error(s(160));gv(d,_,h),rt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)vv(i,t),i=i.sibling}var Fn=null;function vv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),l&4&&(Ai(3,t,t.return),Tl(3,t),Ai(5,t,t.return));break;case 1:yn(i,t),vn(t),l&512&&(mt||a===null||fr(a,a.return)),l&64&&Kr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(yn(i,t),vn(t),l&512&&(mt||a===null||fr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ms]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[bt]=t,ft(d),l=d;break e;case"link":var _=f_("link","href",h).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=f_("meta","content",h).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,ft(d),l=d}t.stateNode=l}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?d_(h,t.type,t.stateNode):h_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(i,t),vn(t),l&512&&(mt||a===null||fr(a,a.return)),a!==null&&l&4&&Sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,t),vn(t),l&512&&(mt||a===null||fr(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(Q){Ze(t,t.return,Q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(yn(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){Ze(t,t.return,Q)}}break;case 3:if(Bc=null,h=Fn,Fn=jc(i.containerInfo),yn(i,t),Fn=h,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(Q){Ze(t,t.return,Q)}Id&&(Id=!1,_v(t));break;case 4:l=Fn,Fn=jc(t.stateNode.containerInfo),yn(i,t),vn(t),Fn=l;break;case 12:yn(i,t),vn(t);break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=Kr,X=mt;if(Kr=H||h,mt=X||C,yn(i,t),mt=X,Kr=H,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Kr||mt||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=C.stateNode;var J=C.memoizedProps.style,K=J!=null&&J.hasOwnProperty("display")?J.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){Ze(C,C.return,Q)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(Q){Ze(C,C.return,Q)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cd(t,a))));break;case 19:yn(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cd(t,l)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(hv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(t);xc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var w=xd(t);xc(t,w,_);break;case 3:case 4:var C=a.stateNode.containerInfo,H=xd(t);Rd(t,H,C);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function _v(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;_v(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Si(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)mv(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ai(4,i,i.return),zs(i);break;case 1:fr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&uv(i,i.return,a),zs(i);break;case 27:kl(i.stateNode);case 26:case 5:fr(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function xi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:xi(h,d,a),Tl(4,d);break;case 1:if(xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yg(C[h],w)}catch(H){Ze(l,l.return,H)}}a&&_&64&&lv(d),bl(d,d.return);break;case 27:fv(d);case 26:case 5:xi(h,d,a),a&&l===null&&_&4&&cv(d),bl(d,d.return);break;case 12:xi(h,d,a);break;case 13:xi(h,d,a),a&&_&4&&yv(h,d);break;case 22:d.memoizedState===null&&xi(h,d,a),bl(d,d.return);break;case 30:break;default:xi(h,d,a)}i=i.sibling}}function Nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function kd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function dr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ev(t,i,a,l),i=i.sibling}function Ev(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:dr(t,i,a,l),h&2048&&Tl(9,i);break;case 1:dr(t,i,a,l);break;case 3:dr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){dr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else dr(t,i,a,l);break;case 13:dr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?dr(t,i,a,l):wl(t,i):d._visibility&2?dr(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Nd(_,i);break;case 24:dr(t,i,a,l),h&2048&&kd(i.alternate,i);break;default:dr(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,w=a,C=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,w,C,h),Tl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ka(d,_,w,C,h):wl(d,_):(X._visibility|=2,Ka(d,_,w,C,h)),h&&H&2048&&Nd(_.alternate,_);break;case 24:Ka(d,_,w,C,h),h&&H&2048&&kd(_.alternate,_);break;default:Ka(d,_,w,C,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&Nd(l.alternate,l);break;case 24:wl(a,l),h&2048&&kd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Al=8192;function Qa(t){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)Tv(t),t=t.sibling}function Tv(t){switch(t.tag){case 26:Qa(t),t.flags&Al&&t.memoizedState!==null&&Ow(Fn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var i=Fn;Fn=jc(t.stateNode.containerInfo),Qa(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Al,Al=16777216,Qa(t),Al=i):Qa(t));break;default:Qa(t)}}function bv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Av(l,t)}bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Sl(t);break;default:Sl(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Av(l,t)}bv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ai(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function Av(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:Ai(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(pv(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var $b={getCacheForType:function(t){var i=Kt(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Wb=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,De=null,Ue=0,Qe=0,_n=null,Ri=!1,Ya=!1,Dd=!1,Yr=0,ht=0,Ii=0,Bs=0,Od=0,Mn=0,$a=0,xl=null,on=null,Md=!1,Ld=0,Ic=1/0,Cc=null,Ci=null,zt=0,Ni=null,Wa=null,Xa=0,Pd=0,Vd=null,Sv=null,Rl=0,Ud=null;function En(){if((Ke&2)!==0&&Ue!==0)return Ue&-Ue;if(W.T!==null){var t=Ua;return t!==0?t:Gd()}return hi()}function xv(){Mn===0&&(Mn=(Ue&536870912)===0||qe?Po():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function Tn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Za(t,0),ki(t,Ue,Mn,!1)),xr(t,a),((Ke&2)===0||t!==et)&&(t===et&&((Ke&2)===0&&(Bs|=a),ht===4&&ki(t,Ue,Mn,!1)),mr(t))}function Rv(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ds(t,i),h=l?Jb(t,i):Bd(t,i,!0),d=l;do{if(h===0){Ya&&!l&&ki(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Xb(a)){h=Bd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=t;h=xl;var C=w.current.memoizedState.isDehydrated;if(C&&(Za(w,_).flags|=256),_=Bd(w,_,!1),_!==2){if(Dd&&!C){w.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Za(t,0),ki(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ki(l,i,Mn,!Ri);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ld+300-wn(),10<h)){if(ki(l,i,Mn,!Ri),pa(l,0,!0)!==0)break e;l.timeoutHandle=n_(Iv.bind(null,l,a,on,Cc,Md,i,Mn,Bs,$a,Ri,d,2,-0,0),h);break e}Iv(l,a,on,Cc,Md,i,Mn,Bs,$a,Ri,d,0,-0,0)}}break}while(!0);mr(t)}function Iv(t,i,a,l,h,d,_,w,C,H,X,J,K,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:Dw},Tv(i),J=Mw(),J!==null)){t.cancelPendingCommit=J(Lv.bind(null,t,i,d,a,l,h,_,w,C,X,1,K,Q)),ki(t,d,_,!H);return}Lv(t,i,d,a,l,h,_,w,C)}function Xb(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ki(t,i,a,l){i&=~Od,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Jn(t,a,i)}function Nc(){return(Ke&6)===0?(Il(0),!1):!0}function jd(){if(De!==null){if(Qe===0)var t=De.return;else t=De,zr=Ls=null,nd(t),Fa=null,vl=0,t=De;for(;t!==null;)ov(t.alternate,t),t=t.return;De=null}}function Za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,pw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jd(),et=t,De=a=Vr(t.current,null),Ue=i,Qe=0,_n=null,Ri=!1,Ya=ds(t,i),Dd=!1,$a=Mn=Od=Bs=Ii=ht=0,on=xl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Yr=i,Zu(),a}function Cv(t,i){Ie=null,W.H=yc,i===ul||i===oc?(i=Kg(),Qe=3):i===Hg?(i=Kg(),Qe=4):Qe=i===Qy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,De===null&&(ht=1,bc(t,Cn(i,t.current)))}function Nv(){var t=W.H;return W.H=yc,t===null?yc:t}function kv(){var t=W.A;return W.A=$b,t}function zd(){ht=4,Ri||(Ue&4194048)!==Ue&&On.current!==null||(Ya=!0),(Ii&134217727)===0&&(Bs&134217727)===0||et===null||ki(et,Ue,Mn,!1)}function Bd(t,i,a){var l=Ke;Ke|=2;var h=Nv(),d=kv();(et!==t||Ue!==i)&&(Cc=null,Za(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&De!==null){var w=De,C=_n;switch(Qe){case 8:jd(),_=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var H=Qe;if(Qe=0,_n=null,Ja(t,w,C,H),a&&Ya){_=0;break e}break;default:H=Qe,Qe=0,_n=null,Ja(t,w,C,H)}}Zb(),_=ht;break}catch(X){Cv(t,X)}while(!0);return i&&t.shellSuspendCounter++,zr=Ls=null,Ke=l,W.H=h,W.A=d,De===null&&(et=null,Ue=0,Zu()),_}function Zb(){for(;De!==null;)Dv(De)}function Jb(t,i){var a=Ke;Ke|=2;var l=Nv(),h=kv();et!==t||Ue!==i?(Cc=null,Ic=wn()+500,Za(t,i)):Ya=ds(t,i);e:do try{if(Qe!==0&&De!==null){i=De;var d=_n;t:switch(Qe){case 1:Qe=0,_n=null,Ja(t,i,d,1);break;case 2:case 9:if(Fg(d)){Qe=0,_n=null,Ov(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),mr(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Fg(d)?(Qe=0,_n=null,Ov(i)):(Qe=0,_n=null,Ja(t,i,d,7));break;case 5:var _=null;switch(De.tag){case 26:_=De.memoizedState;case 5:case 27:var w=De;if(!_||m_(_)){Qe=0,_n=null;var C=w.sibling;if(C!==null)De=C;else{var H=w.return;H!==null?(De=H,kc(H)):De=null}break t}}Qe=0,_n=null,Ja(t,i,d,5);break;case 6:Qe=0,_n=null,Ja(t,i,d,6);break;case 8:jd(),ht=6;break e;default:throw Error(s(462))}}ew();break}catch(X){Cv(t,X)}while(!0);return zr=Ls=null,W.H=l,W.A=h,Ke=a,De!==null?0:(et=null,Ue=0,Zu(),ht)}function ew(){for(;De!==null&&!Do();)Dv(De)}function Dv(t){var i=sv(t.alternate,t,Yr);t.memoizedProps=t.pendingProps,i===null?kc(t):De=i}function Ov(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:nd(i);default:ov(a,i),i=De=Mg(i,Yr),i=sv(a,i,Yr)}t.memoizedProps=t.pendingProps,i===null?kc(t):De=i}function Ja(t,i,a,l){zr=Ls=null,nd(i),Fa=null,vl=0;var h=i.return;try{if(Hb(t,h,i,a,Ue)){ht=1,bc(t,Cn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,bc(t,Cn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Ya||(Ue&536870912)!==0?t=!1:(Ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),Mv(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){Mv(i,Ri);return}t=i.return;var a=Gb(i.alternate,i,Yr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function Mv(t,i){do{var a=Kb(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function Lv(t,i,a,l,h,d,_,w,C){t.cancelPendingCommit=null;do Dc();while(zt!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=kf,Uo(t,a,d,_,w,C),t===et&&(De=et=null,Ue=0),Wa=i,Ni=t,Xa=a,Pd=d,Vd=h,Sv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iw(us,function(){return zv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=oe.p,oe.p=2,_=Ke,Ke|=4;try{Qb(t,i,a)}finally{Ke=_,oe.p=h,W.T=l}}zt=1,Pv(),Vv(),Uv()}}function Pv(){if(zt===1){zt=0;var t=Ni,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{vv(i,t);var d=Jd,_=Ag(t.containerInfo),w=d.focusedElem,C=d.selectionRange;if(_!==w&&w&&w.ownerDocument&&wg(w.ownerDocument.documentElement,w)){if(C!==null&&xf(w)){var H=C.start,X=C.end;if(X===void 0&&(X=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(X,w.value.length);else{var J=w.ownerDocument||document,K=J&&J.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Te=w.textContent.length,ve=Math.min(C.start,Te),Xe=C.end===void 0?ve:Math.min(C.end,Te);!Q.extend&&ve>Xe&&(_=Xe,Xe=ve,ve=_);var j=bg(w,ve),L=bg(w,Xe);if(j&&L&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==L.node||Q.focusOffset!==L.offset)){var q=J.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),ve>Xe?(Q.addRange(q),Q.extend(L.node,L.offset)):(q.setEnd(L.node,L.offset),Q.addRange(q))}}}}for(J=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<J.length;w++){var Z=J[w];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Fc=!!Zd,Jd=Zd=null}finally{Ke=h,oe.p=l,W.T=a}}t.current=i,zt=2}}function Vv(){if(zt===2){zt=0;var t=Ni,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{mv(t,i.alternate,i)}finally{Ke=h,oe.p=l,W.T=a}}zt=3}}function Uv(){if(zt===4||zt===3){zt=0,Ru();var t=Ni,i=Wa,a=Xa,l=Sv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Wa=Ni=null,jv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ci=null),ga(a),i=i.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,h=oe.p,oe.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];d(w.value,{componentStack:w.stack})}}finally{W.T=i,oe.p=h}}(Xa&3)!==0&&Dc(),mr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ud?Rl++:(Rl=0,Ud=t):Rl=0,Il(0)}}function jv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Dc(t){return Pv(),Vv(),Uv(),zv()}function zv(){if(zt!==5)return!1;var t=Ni,i=Pd;Pd=0;var a=ga(Xa),l=W.T,h=oe.p;try{oe.p=32>a?32:a,W.T=null,a=Vd,Vd=null;var d=Ni,_=Xa;if(zt=0,Wa=Ni=null,Xa=0,(Ke&6)!==0)throw Error(s(331));var w=Ke;if(Ke|=4,wv(d.current),Ev(d,d.current,_,a),Ke=w,Il(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{oe.p=h,W.T=l,jv(t,i)}}function Bv(t,i,a){i=Cn(a,i),i=gd(t.stateNode,i,2),t=Ei(t,i,2),t!==null&&(xr(t,2),mr(t))}function Ze(t,i,a){if(t.tag===3)Bv(t,t,a);else for(;i!==null;){if(i.tag===3){Bv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ci===null||!Ci.has(l))){t=Cn(a,t),a=Gy(2),l=Ei(i,a,2),l!==null&&(Ky(a,l,i,t),xr(l,2),mr(l));break}}i=i.return}}function qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Wb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Dd=!0,h.add(a),t=tw.bind(null,t,i,a),i.then(t,t))}function tw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>wn()-Ld?(Ke&2)===0&&Za(t,0):Od|=a,$a===Ue&&($a=0)),mr(t)}function qv(t,i){i===0&&(i=Vo()),t=Ma(t,i),t!==null&&(xr(t,i),mr(t))}function nw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),qv(t,a)}function rw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),qv(t,a)}function iw(t,i){return os(t,i)}var Oc=null,eo=null,Hd=!1,Mc=!1,Fd=!1,qs=0;function mr(t){t!==eo&&t.next===null&&(eo===null?Oc=eo=t:eo=eo.next=t),Mc=!0,Hd||(Hd=!0,aw())}function Il(t,i){if(!Fd&&Mc){Fd=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(_&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Kv(l,d))}else d=Ue,d=pa(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,Kv(l,d));l=l.next}while(a);Fd=!1}}function sw(){Hv()}function Hv(){Mc=Hd=!1;var t=0;qs!==0&&(mw()&&(t=qs),qs=0);for(var i=wn(),a=null,l=Oc;l!==null;){var h=l.next,d=Fv(l,i);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}Il(t)}function Fv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Gt(d),w=1<<_,C=h[_];C===-1?((w&a)===0||(w&l)!==0)&&(h[_]=Lo(w,i)):C<=i&&(t.expiredLanes|=w),d&=~w}if(i=et,a=Ue,a=pa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ds(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ls(l),ga(a)){case 2:case 8:a=da;break;case 32:a=us;break;case 268435456:a=ma;break;default:a=us}return l=Gv.bind(null,t),a=os(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ls(l),t.callbackPriority=2,t.callbackNode=null,2}function Gv(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Ue;return l=pa(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Rv(t,l,i),Fv(t,wn()),t.callbackNode!=null&&t.callbackNode===a?Gv.bind(null,t):null)}function Kv(t,i){if(Dc())return null;Rv(t,i,!0)}function aw(){gw(function(){(Ke&6)!==0?os(Oo,sw):Hv()})}function Gd(){return qs===0&&(qs=Po()),qs}function Qv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function Yv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ow(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Qv((h[gt]||null).action),_=l.submitter;_&&(i=(i=_[gt]||null)?Qv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var w=new wa("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=_?Yv(h,_):new FormData(h);hd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=_?Yv(h,_):new FormData(h),hd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Kd=0;Kd<Nf.length;Kd++){var Qd=Nf[Kd],lw=Qd.toLowerCase(),uw=Qd[0].toUpperCase()+Qd.slice(1);Hn(lw,"on"+uw)}Hn(Rg,"onAnimationEnd"),Hn(Ig,"onAnimationIteration"),Hn(Cg,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(xb,"onTransitionRun"),Hn(Rb,"onTransitionStart"),Hn(Ib,"onTransitionCancel"),Hn(Ng,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function $v(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var w=l[_],C=w.instance,H=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=H;try{d(h)}catch(X){Tc(X)}h.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(w=l[_],C=w.instance,H=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=H;try{d(h)}catch(X){Tc(X)}h.currentTarget=null,d=C}}}}function Oe(t,i){var a=i[zo];a===void 0&&(a=i[zo]=new Set);var l=t+"__bubble";a.has(l)||(Wv(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),Wv(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Lc]){t[Lc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(cw.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Yd("selectionchange",!1,i))}}function Wv(t,i,a,l){switch(E_(i)){case 2:var h=Vw;break;case 8:h=Uw;break;default:h=um}a=h.bind(null,i,a,t),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;w!==null;){if(_=Rr(w),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}w=w.parentNode}}l=l.return}Vu(function(){var H=d,X=xn(a),J=[];e:{var K=kg.get(t);if(K!==void 0){var Q=wa,Te=t;switch(t){case"keypress":if(sr(a)===0)break e;case"keydown":case"keyup":Q=Ca;break;case"focusin":Te="focus",Q=xa;break;case"focusout":Te="blur",Q=xa;break;case"beforeblur":case"afterblur":Q=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Gu;break;case Rg:case Ig:case Cg:Q=Ra;break;case Ng:Q=Qu;break;case"scroll":case"scrollend":Q=Uu;break;case"wheel":Q=Na;break;case"copy":case"cut":case"paste":Q=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Jo;break;case"toggle":case"beforetoggle":Q=$u}var ve=(i&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),j=ve?K!==null?K+"Capture":null:K;ve=[];for(var L=H,q;L!==null;){var Z=L;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=Ts(L,j),Z!=null&&ve.push(Nl(L,Z,q))),Xe)break;L=L.return}0<ve.length&&(K=new Q(K,Te,null,a,X),J.push({event:K,listeners:ve}))}}if((i&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&a!==kr&&(Te=a.relatedTarget||a.fromElement)&&(Rr(Te)||Te[An]))break e;if((Q||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Te=a.relatedTarget||a.toElement,Q=H,Te=Te?Rr(Te):null,Te!==null&&(Xe=u(Te),ve=Te.tag,Te!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(Q=null,Te=H),Q!==Te)){if(ve=In,Z="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Jo,Z="onPointerLeave",j="onPointerEnter",L="pointer"),Xe=Q==null?K:tr(Q),q=Te==null?K:tr(Te),K=new ve(Z,L+"leave",Q,a,X),K.target=Xe,K.relatedTarget=q,Z=null,Rr(X)===H&&(ve=new ve(j,L+"enter",Te,a,X),ve.target=q,ve.relatedTarget=Xe,Z=ve),Xe=Z,Q&&Te)t:{for(ve=Q,j=Te,L=0,q=ve;q;q=to(q))L++;for(q=0,Z=j;Z;Z=to(Z))q++;for(;0<L-q;)ve=to(ve),L--;for(;0<q-L;)j=to(j),q--;for(;L--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=to(ve),j=to(j)}ve=null}else ve=null;Q!==null&&Xv(J,K,Q,ve,!1),Te!==null&&Xe!==null&&Xv(J,Xe,Te,ve,!0)}}e:{if(K=H?tr(H):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var he=gg;else if(At(K))if(yg)he=wb;else{he=Tb;var ke=Eb}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?H&&Ko(H.elementType)&&(he=gg):he=bb;if(he&&(he=he(t,H))){Pr(J,he,a,X);break e}ke&&ke(t,K,H),t==="focusout"&&H&&K.type==="number"&&H.memoizedProps.value!=null&&pi(K,"number",K.value)}switch(ke=H?tr(H):window,t){case"focusin":(At(ke)||ke.contentEditable==="true")&&(ka=ke,Rf=H,nl=null);break;case"focusout":nl=Rf=ka=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Sg(J,a,X);break;case"selectionchange":if(Sb)break;case"keydown":case"keyup":Sg(J,a,X)}var de;if(lr)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?Y(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(de=Yo()):(ir=X,gi="value"in ir?ir.value:ir.textContent,Pe=!0)),ke=Pc(H,_e),0<ke.length&&(_e=new Xo(_e,t,null,a,X),J.push({event:_e,listeners:ke}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?wt(t,a):Ve(t,a))&&(_e=Pc(H,"onBeforeInput"),0<_e.length&&(ke=new Xo("onBeforeInput","beforeinput",null,a,X),J.push({event:ke,listeners:_e}),ke.data=de)),ow(J,t,H,a,X)}$v(J,i)})}function Nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(t,a),h!=null&&l.unshift(Nl(t,h,d)),h=Ts(t,i),h!=null&&l.push(Nl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Xv(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var w=a,C=w.alternate,H=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||H===null||(C=H,h?(H=Ts(a,d),H!=null&&_.unshift(Nl(a,H,C))):h||(H=Ts(a,d),H!=null&&_.push(Nl(a,H,C)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var hw=/\r\n?/g,fw=/\u0000|\uFFFD/g;function Zv(t){return(typeof t=="string"?t:""+t).replace(hw,`
`).replace(fw,"")}function Jv(t,i){return i=Zv(i),Zv(t)===i}function Vc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(t,""+l);break;case"className":nr(t,"class",l);break;case"tabIndex":nr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(t,a,l);break;case"style":Go(t,l,d);break;case"data":if(i!=="object"){nr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),mi(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,mi(t,a,l))}}function Xd(t,i,a,l,h,d){switch(a){case"style":Go(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):mi(t,a,l)}}}function Bt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var w=d=_=h=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":C=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(t,i,l,X,a,null)}}vs(t,d,w,C,H,_,h,!1),Ta(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:We(t,i,h,w,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Nr(t,!!l,i,!1):a!=null&&Nr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,_,w,a,null)}_s(t,l,h,d),Ta(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Oe(Cl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,H,l,a,null)}return;default:if(Ko(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Xd(t,i,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function dw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,w=null,C=null,H=null,X=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,J)}}for(var K in l){var Q=l[K];if(J=a[K],l.hasOwnProperty(K)&&(Q!=null||J!=null))switch(K){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&We(t,i,K,Q,l,J)}}mn(t,_,w,C,H,X,d,h);return;case"select":Q=_=w=K=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":K=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==C&&We(t,i,h,d,l,C)}i=w,a=_,l=Q,K!=null?Nr(t,!!a,K,!1):!!l!=!!a&&(i!=null?Nr(t,!!a,i,!0):Nr(t,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":K=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,_,h,l,d)}Ye(t,K,Q);return;case"option":for(var Te in a)if(K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,i,Te,null,l,K)}for(C in l)if(K=l[C],Q=a[C],l.hasOwnProperty(C)&&K!==Q&&(K!=null||Q!=null))switch(C){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:We(t,i,C,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve)&&We(t,i,ve,null,l,K);for(H in l)if(K=l[H],Q=a[H],l.hasOwnProperty(H)&&K!==Q&&(K!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(t,i,H,K,l,Q)}return;default:if(Ko(i)){for(var Xe in a)K=a[Xe],a.hasOwnProperty(Xe)&&K!==void 0&&!l.hasOwnProperty(Xe)&&Xd(t,i,Xe,void 0,l,K);for(X in l)K=l[X],Q=a[X],!l.hasOwnProperty(X)||K===Q||K===void 0&&Q===void 0||Xd(t,i,X,K,l,Q);return}}for(var j in a)K=a[j],a.hasOwnProperty(j)&&K!=null&&!l.hasOwnProperty(j)&&We(t,i,j,null,l,K);for(J in l)K=l[J],Q=a[J],!l.hasOwnProperty(J)||K===Q||K==null&&Q==null||We(t,i,J,K,l,Q)}var Zd=null,Jd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function e_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function mw(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,pw=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,gw=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(yw)}:n_;function yw(t){setTimeout(function(){throw t})}function Di(t){return t==="head"}function i_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&kl(_.documentElement),a&2&&kl(_.body),a&4)for(a=_.head,kl(a),_=a.firstChild;_;){var w=_.nextSibling,C=_.nodeName;_[ms]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=w}}if(h===0){t.removeChild(d),jl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);jl(i)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),di(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function vw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ms])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function _w(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ew(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var im=null;function s_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function a_(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);di(t)}var Ln=new Map,o_=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var $r=oe.d;oe.d={f:Tw,r:bw,D:ww,C:Aw,L:Sw,m:xw,X:Iw,S:Rw,M:Cw};function Tw(){var t=$r.f(),i=Nc();return t||i}function bw(t){var i=er(t);i!==null&&i.tag===5&&i.type==="form"?Ry(i):$r.r(t)}var no=typeof document>"u"?null:document;function l_(t,i,a){var l=no;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ft(i),l.head.appendChild(i)))}}function ww(t){$r.D(t),l_("dns-prefetch",t,null)}function Aw(t,i){$r.C(t,i),l_("preconnect",t,i)}function Sw(t,i,a){$r.L(t,i,a);var l=no;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=io(t)}Ln.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Bt(i,"link",t),ft(i),l.head.appendChild(i)))}}function xw(t,i){$r.m(t,i);var a=no;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(t)}if(!Ln.has(d)&&(t=E({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Bt(l,"link",t),ft(l),a.head.appendChild(l)}}}function Rw(t,i,a){$r.S(t,i,a);var l=no;if(l&&t){var h=en(l).hoistableStyles,d=ro(t);i=i||"default";var _=h.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Dl(d)))w.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&sm(t,a);var C=_=l.createElement("link");ft(C),Bt(C,"link",t),C._p=new Promise(function(H,X){C.onload=H,C.onerror=X}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:w},h.set(d,_)}}}function Iw(t,i){$r.X(t,i);var a=no;if(a&&t){var l=en(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=E({src:t,async:!0},i),(i=Ln.get(h))&&am(t,i),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Cw(t,i){$r.M(t,i);var a=no;if(a&&t){var l=en(a).hoistableScripts,h=io(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&am(t,i),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function u_(t,i,a,l){var h=(h=we.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=en(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Nw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+yt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Nw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",a),ft(i),t.head.appendChild(i))}function io(t){return'[src="'+yt(t)+'"]'}function Ol(t){return"script[async]"+t}function h_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Bt(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=c_(a),(h=Ln.get(h))&&sm(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var _=d;return _._p=new Promise(function(w,C){_.onload=w,_.onerror=C}),Bt(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=io(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,ft(h),h):(l=a,(h=Ln.get(d))&&(l=E({},a),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function f_(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ms]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function d_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function kw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function Dw(){}function Ow(t,i,a){if(Ml===null)throw Error(s(475));var l=Ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ro(a.href),d=t.querySelector(Dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=c_(a),(h=Ln.get(h))&&sm(a,h),d=d.createElement("link"),ft(d);var _=d;_._p=new Promise(function(w,C){_.onload=w,_.onerror=C}),Bt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=qc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Mw(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function om(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(Lw,t),Hc=null,qc.call(t))}function Lw(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ll={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Pw(t,i,a,l,h,d,_,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function p_(t,i,a,l,h,d,_,w,C,H,X,J){return t=new Pw(t,i,a,_,w,C,H,J),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=qf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function g_(t){return t?(t=La,t):La}function y_(t,i,a,l,h,d){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=_i(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ei(t,l,i),a!==null&&(Tn(a,t,i),hl(a,t,i))}function v_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lm(t,i){v_(t,i),(t=t.alternate)&&v_(t,i)}function __(t){if(t.tag===13){var i=Ma(t,67108864);i!==null&&Tn(i,t,67108864),lm(t,67108864)}}var Fc=!0;function Vw(t,i,a,l){var h=W.T;W.T=null;var d=oe.p;try{oe.p=2,um(t,i,a,l)}finally{oe.p=d,W.T=h}}function Uw(t,i,a,l){var h=W.T;W.T=null;var d=oe.p;try{oe.p=8,um(t,i,a,l)}finally{oe.p=d,W.T=h}}function um(t,i,a,l){if(Fc){var h=cm(l);if(h===null)Wd(t,i,l,Gc,a),T_(t,l);else if(zw(h,t,i,a,l))l.stopPropagation();else if(T_(t,l),i&4&&-1<jw.indexOf(t)){for(;h!==null;){var d=er(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=zn(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var C=1<<31-Gt(_);w.entanglements[1]|=C,_&=~C}mr(d),(Ke&6)===0&&(Ic=wn()+500,Il(0))}}break;case 13:w=Ma(d,2),w!==null&&Tn(w,d,2),Nc(),lm(d,2)}if(d=cm(l),d===null&&Wd(t,i,l,Gc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Wd(t,i,l,null,a)}}function cm(t){return t=xn(t),hm(t)}var Gc=null;function hm(t){if(Gc=null,t=Rr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mf()){case Oo:return 2;case da:return 8;case us:case pf:return 32;case ma:return 268435456;default:return 32}default:return 32}}var fm=!1,Oi=null,Mi=null,Li=null,Pl=new Map,Vl=new Map,Pi=[],jw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(t,i){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=er(i),i!==null&&__(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function zw(t,i,a,l,h){switch(i){case"focusin":return Oi=Ul(Oi,t,i,a,l,h),!0;case"dragenter":return Mi=Ul(Mi,t,i,a,l,h),!0;case"mouseover":return Li=Ul(Li,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Pl.set(d,Ul(Pl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Ul(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function b_(t){var i=Rr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Nu(t.priority,function(){if(a.tag===13){var l=En();l=ci(l);var h=Ma(a,l);h!==null&&Tn(h,a,l),lm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);kr=l,a.target.dispatchEvent(l),kr=null}else return i=er(a),i!==null&&__(i),t.blockedOn=a,!1;i.shift()}return!0}function w_(t,i,a){Kc(t)&&a.delete(i)}function Bw(){fm=!1,Oi!==null&&Kc(Oi)&&(Oi=null),Mi!==null&&Kc(Mi)&&(Mi=null),Li!==null&&Kc(Li)&&(Li=null),Pl.forEach(w_),Vl.forEach(w_)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bw)))}var Yc=null;function A_(t){Yc!==t&&(Yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=er(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function i(C){return Qc(C,t)}Oi!==null&&Qc(Oi,t),Mi!==null&&Qc(Mi,t),Li!==null&&Qc(Li,t),Pl.forEach(i),Vl.forEach(i);for(var a=0;a<Pi.length;a++){var l=Pi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pi.length&&(a=Pi[0],a.blockedOn===null);)b_(a),a.blockedOn===null&&Pi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[gt]||null;if(typeof d=="function")_||A_(a);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[gt]||null)w=_.formAction;else if(hm(h)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),A_(a)}}}function dm(t){this._internalRoot=t}$c.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();y_(a,l,t,i,null,null)},$c.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;y_(t.current,2,null,t,null,null),Nc(),i[An]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=hi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Pi.length&&i!==0&&i<Pi[a].priority;a++);Pi.splice(a,0,t),a===0&&b_(t)}};var S_=e.version;if(S_!=="19.1.0")throw Error(s(527,S_,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var qw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{ut=Wc.inject(qw),Ge=Wc}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=By,d=qy,_=Hy,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=p_(t,1,!1,null,null,a,l,h,d,_,w,null),t[An]=i.current,$d(t),new dm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=By,_=qy,w=Hy,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=p_(t,1,!0,i,a??null,l,h,d,_,w,C,H),i.context=g_(null),a=i.current,l=En(),l=ci(l),h=_i(l),h.callback=null,Ei(a,h,l),a=l,i.current.lanes=a,xr(i,a),mr(i),t[An]=i.current,$d(t),new $c(i)},Hl.version="19.1.0",Hl}var yE;function jD(){if(yE)return km.exports;yE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),km.exports=UD(),km.exports}var zD=jD();const BD=vE(zD),qD=({children:r})=>{const[e,n]=U.useState(null),[s,o]=U.useState(!0);return U.useEffect(()=>{const u=fR(xu,f=>{n(f),o(!1)});return()=>u()},[]),T.jsx(ME.Provider,{value:{user:e,loading:s},children:r})};BD.createRoot(document.getElementById("root")).render(T.jsx(R.StrictMode,{children:T.jsx(qD,{children:T.jsx(LD,{})})}));
