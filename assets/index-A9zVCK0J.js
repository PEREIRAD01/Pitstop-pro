(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function r0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var im={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function AA(){if(fv)return Nl;fv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var dv;function SA(){return dv||(dv=1,im.exports=AA()),im.exports}var S=SA(),sm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function RA(){if(mv)return xe;mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Q={};function G(N,ne,le){this.props=N,this.context=ne,this.refs=Q,this.updater=le||M}G.prototype.isReactComponent={},G.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},G.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function X(){}X.prototype=G.prototype;function te(N,ne,le){this.props=N,this.context=ne,this.refs=Q,this.updater=le||M}var ae=te.prototype=new X;ae.constructor=te,P(ae,G.prototype),ae.isPureReactComponent=!0;var pe=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function k(N,ne,le,ie,ye,Ne){return le=Ne.ref,{$$typeof:i,type:N,key:ne,ref:le!==void 0?le:null,props:Ne}}function R(N,ne){return k(N.type,ne,void 0,void 0,void 0,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function D(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return ne[le]})}var V=/\/+/g;function U(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):ne.toString(36)}function C(){}function Vt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ot(N,ne,le,ie,ye){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case i:case e:we=!0;break;case E:return we=N._init,ot(we(N._payload),ne,le,ie,ye)}}if(we)return ye=ye(N),we=ie===""?"."+U(N,0):ie,pe(ye)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),ot(ye,ne,le,"",function(Zn){return Zn})):ye!=null&&(x(ye)&&(ye=R(ye,le+(ye.key==null||N&&N.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+we)),ne.push(ye)),1;we=0;var Ct=ie===""?".":ie+":";if(pe(N))for(var Je=0;Je<N.length;Je++)ie=N[Je],Ne=Ct+U(ie,Je),we+=ot(ie,ne,le,Ne,ye);else if(Je=A(N),typeof Je=="function")for(N=Je.call(N),Je=0;!(ie=N.next()).done;)ie=ie.value,Ne=Ct+U(ie,Je++),we+=ot(ie,ne,le,Ne,ye);else if(Ne==="object"){if(typeof N.then=="function")return ot(Vt(N),ne,le,ie,ye);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function Y(N,ne,le){if(N==null)return N;var ie=[],ye=0;return ot(N,ie,"","",function(Ne){return ne.call(le,Ne,ye++)}),ie}function oe(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Be(){}return xe.Children={map:Y,forEach:function(N,ne,le){Y(N,function(){ne.apply(this,arguments)},le)},count:function(N){var ne=0;return Y(N,function(){ne++}),ne},toArray:function(N){return Y(N,function(ne){return ne})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},xe.Component=G,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=te,xe.StrictMode=s,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return fe.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cloneElement=function(N,ne,le){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=P({},N.props),ye=N.key,Ne=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!Re.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(ie[we]=ne[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var Ct=Array(we),Je=0;Je<we;Je++)Ct[Je]=arguments[Je+2];ie.children=Ct}return k(N.type,ye,void 0,void 0,Ne,ie)},xe.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},xe.createElement=function(N,ne,le){var ie,ye={},Ne=null;if(ne!=null)for(ie in ne.key!==void 0&&(Ne=""+ne.key),ne)Re.call(ne,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ye[ie]=ne[ie]);var we=arguments.length-2;if(we===1)ye.children=le;else if(1<we){for(var Ct=Array(we),Je=0;Je<we;Je++)Ct[Je]=arguments[Je+2];ye.children=Ct}if(N&&N.defaultProps)for(ie in we=N.defaultProps,we)ye[ie]===void 0&&(ye[ie]=we[ie]);return k(N,Ne,void 0,void 0,null,ye)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:m,render:N}},xe.isValidElement=x,xe.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:oe}},xe.memo=function(N,ne){return{$$typeof:g,type:N,compare:ne===void 0?null:ne}},xe.startTransition=function(N){var ne=fe.T,le={};fe.T=le;try{var ie=N(),ye=fe.S;ye!==null&&ye(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,me)}catch(Ne){me(Ne)}finally{fe.T=ne}},xe.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},xe.use=function(N){return fe.H.use(N)},xe.useActionState=function(N,ne,le){return fe.H.useActionState(N,ne,le)},xe.useCallback=function(N,ne){return fe.H.useCallback(N,ne)},xe.useContext=function(N){return fe.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,ne){return fe.H.useDeferredValue(N,ne)},xe.useEffect=function(N,ne,le){var ie=fe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,ne)},xe.useId=function(){return fe.H.useId()},xe.useImperativeHandle=function(N,ne,le){return fe.H.useImperativeHandle(N,ne,le)},xe.useInsertionEffect=function(N,ne){return fe.H.useInsertionEffect(N,ne)},xe.useLayoutEffect=function(N,ne){return fe.H.useLayoutEffect(N,ne)},xe.useMemo=function(N,ne){return fe.H.useMemo(N,ne)},xe.useOptimistic=function(N,ne){return fe.H.useOptimistic(N,ne)},xe.useReducer=function(N,ne,le){return fe.H.useReducer(N,ne,le)},xe.useRef=function(N){return fe.H.useRef(N)},xe.useState=function(N){return fe.H.useState(N)},xe.useSyncExternalStore=function(N,ne,le){return fe.H.useSyncExternalStore(N,ne,le)},xe.useTransition=function(){return fe.H.useTransition()},xe.version="19.1.0",xe}var pv;function Jm(){return pv||(pv=1,sm.exports=RA()),sm.exports}var z=Jm();const re=r0(z);var am={exports:{}},Dl={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function xA(){return gv||(gv=1,function(i){function e(Y,oe){var me=Y.length;Y.push(oe);e:for(;0<me;){var Be=me-1>>>1,N=Y[Be];if(0<o(N,oe))Y[Be]=oe,Y[me]=N,me=Be;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],me=Y.pop();if(me!==oe){Y[0]=me;e:for(var Be=0,N=Y.length,ne=N>>>1;Be<ne;){var le=2*(Be+1)-1,ie=Y[le],ye=le+1,Ne=Y[ye];if(0>o(ie,me))ye<N&&0>o(Ne,ie)?(Y[Be]=Ne,Y[ye]=me,Be=ye):(Y[Be]=ie,Y[le]=me,Be=le);else if(ye<N&&0>o(Ne,me))Y[Be]=Ne,Y[ye]=me,Be=ye;else break e}}return oe}function o(Y,oe){var me=Y.sortIndex-oe.sortIndex;return me!==0?me:Y.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,A=3,M=!1,P=!1,Q=!1,G=!1,X=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function pe(Y){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Y)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function fe(Y){if(Q=!1,pe(Y),!P)if(n(p)!==null)P=!0,Re||(Re=!0,U());else{var oe=n(g);oe!==null&&ot(fe,oe.startTime-Y)}}var Re=!1,k=-1,R=5,x=-1;function D(){return G?!0:!(i.unstable_now()-x<R)}function V(){if(G=!1,Re){var Y=i.unstable_now();x=Y;var oe=!0;try{e:{P=!1,Q&&(Q=!1,te(k),k=-1),M=!0;var me=A;try{t:{for(pe(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&D());){var Be=b.callback;if(typeof Be=="function"){b.callback=null,A=b.priorityLevel;var N=Be(b.expirationTime<=Y);if(Y=i.unstable_now(),typeof N=="function"){b.callback=N,pe(Y),oe=!0;break t}b===n(p)&&s(p),pe(Y)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var ne=n(g);ne!==null&&ot(fe,ne.startTime-Y),oe=!1}}break e}finally{b=null,A=me,M=!1}oe=void 0}}finally{oe?U():Re=!1}}}var U;if(typeof ae=="function")U=function(){ae(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Vt=C.port2;C.port1.onmessage=V,U=function(){Vt.postMessage(null)}}else U=function(){X(V,0)};function ot(Y,oe){k=X(function(){Y(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var me=A;A=oe;try{return Y()}finally{A=me}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return oe()}finally{A=me}},i.unstable_scheduleCallback=function(Y,oe,me){var Be=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,Y){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,Y={id:E++,callback:oe,priorityLevel:Y,startTime:me,expirationTime:N,sortIndex:-1},me>Be?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&(Q?(te(k),k=-1):Q=!0,ot(fe,me-Be))):(Y.sortIndex=N,e(p,Y),P||M||(P=!0,Re||(Re=!0,U()))),Y},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(Y){var oe=A;return function(){var me=A;A=oe;try{return Y.apply(this,arguments)}finally{A=me}}}}(lm)),lm}var yv;function IA(){return yv||(yv=1,om.exports=xA()),om.exports}var um={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function CA(){if(_v)return Qt;_v=1;var i=Jm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var vv;function NA(){if(vv)return um.exports;vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),um.exports=CA(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function DA(){if(Ev)return Dl;Ev=1;var i=IA(),e=Jm(),n=NA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),te=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case G:return"Profiler";case Q:return"StrictMode";case fe:return"Suspense";case Re:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case te:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:Vt(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Vt(t(r))}catch{}}return null}var ot=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],N=-1;function ne(t){return{current:t}}function le(t){0>N||(t.current=Be[N],Be[N]=null,N--)}function ie(t,r){N++,Be[N]=t.current,t.current=r}var ye=ne(null),Ne=ne(null),we=ne(null),Ct=ne(null);function Je(t,r){switch(ie(we,r),ie(Ne,t),ie(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?z_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=z_(r),t=B_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ye),ie(ye,t)}function Zn(){le(ye),le(Ne),le(we)}function ai(t){t.memoizedState!==null&&ie(Ct,t);var r=ye.current,a=B_(r,t.type);r!==a&&(ie(Ne,t),ie(ye,a))}function br(t){Ne.current===t&&(le(ye),le(Ne)),Ct.current===t&&(le(Ct),Sl._currentValue=me)}var ns=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,is=i.unstable_cancelCallback,bo=i.unstable_shouldYield,Eu=i.unstable_requestPaint,En=i.unstable_now,rf=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,ta=i.unstable_UserBlockingPriority,ss=i.unstable_NormalPriority,sf=i.unstable_LowPriority,na=i.unstable_IdlePriority,Ao=i.log,Tu=i.unstable_setDisableYieldValue,lt=null,Ge=null;function cn(t){if(typeof Ao=="function"&&Tu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,t)}catch{}}var Gt=Math.clz32?Math.clz32:as,bu=Math.log,af=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(bu(t)/af|0)|0}var os=256,ls=4194304;function Ln(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ra(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):a||(a=T&~t,a!==0&&(h=Ln(a))))):(T=l&~d,T!==0?h=Ln(T):v!==0?h=Ln(v):a||(a=l&~t,a!==0&&(h=Ln(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function us(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function So(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function xo(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function wr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ar(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Gt(a),Z=1<<$;T[$]=0,I[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var F=H[$];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Jn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Jn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ia(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function li(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:av(t.type))}function wu(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,gt="__reactProps$"+nt,Tn="__reactContainer$"+nt,No="__reactEvents$"+nt,of="__reactListeners$"+nt,ui="__reactHandles$"+nt,Au="__reactResources$"+nt,cs="__reactMarker$"+nt;function ci(t){delete t[bt],delete t[gt],delete t[No],delete t[of],delete t[ui]}function Sr(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Tn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=G_(t);t!==null;){if(a=t[bt])return a;t=G_(t)}return r}t=a,a=t.parentNode}return null}function er(t){if(t=t[bt]||t[Tn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function tr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[Au];return r||(r=t[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(t){t[cs]=!0}var Do=new Set,sa={};function Un(t,r){Rr(t,r),Rr(t+"Capture",r)}function Rr(t,r){for(sa[t]=r,t=0;t<r.length;t++)Do.add(r[t])}var Su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ru={},hs={};function xu(t){return ns.call(hs,t)?!0:ns.call(Ru,t)?!1:Su.test(t)?hs[t]=!0:(Ru[t]=!0,!1)}function hi(t,r,a){if(xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function nr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var fs,Iu;function xr(t){if(fs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",Iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+Iu}var aa=!1;function oa(t,r){if(!t||aa)return"";aa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var H=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){H=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){H=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),q=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{aa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return oa(t.type,!1);case 11:return oa(t.type.render,!1);case 1:return oa(t.type,!0);case 31:return xr("Activity");default:return""}}function la(t){try{var r="";do r+=Oo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ko(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function lf(t){var r=ko(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ua(t){t._valueTracker||(t._valueTracker=lf(t))}function Mo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=ko(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var uf=/[\n"\\]/g;function yt(t){return t.replace(uf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function hn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?fi(t,v,Jt(r)):a!=null?fi(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function ms(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function fi(t,r,a){r==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ir(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function ps(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||gs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Po(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Cu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Cu(t,d,r[d])}function Vo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(t){return hf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cr=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nr=null,Dr=null;function Lo(t){var r=er(t);if(r&&(t=r.stateNode)){var a=t[gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Mo(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ir(t,!!a.multiple,r,!1)}}}var rr=!1;function Nu(t,r,a){if(rr)return t(r,a);rr=!0;try{var l=t(r);return l}finally{if(rr=!1,(Nr!==null||Dr!==null)&&(wc(),Nr&&(r=Nr,t=Dr,Dr=Nr=null,Lo(r),t)))for(r=0;r<t.length;r++)Lo(t[r])}}function ys(t,r){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(jn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){An=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{An=!1}var ir=null,di=null,Or=null;function Uo(){if(Or)return Or;var t,r=di,a=r.length,l,h="value"in ir?ir.value:ir.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function sr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ar(){return!0}function jo(){return!1}function Nt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ar:jo,this.isPropagationStopped=jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ha=Nt(He),vs=E({},He,{view:0,detail:0}),Du=Nt(vs),fa,da,or,Es=E({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(fa=t.screenX-or.screenX,da=t.screenY-or.screenY):da=fa=0,or=t),fa)},movementY:function(t){return"movementY"in t?t.movementY:da}}),Sn=Nt(Es),Ou=E({},Es,{dataTransfer:0}),ff=Nt(Ou),Ts=E({},vs,{relatedTarget:0}),ma=Nt(Ts),zo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Nt(zo),ku=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ga=Nt(ku),df=E({},He,{data:0}),Bo=Nt(df),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Pu[t])?!!r[t]:!1}function ws(){return qo}var Vu=E({},vs,{key:function(t){if(t.key){var r=bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ya=Nt(Vu),Lu=E({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Nt(Lu),kr=E({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Uu=Nt(kr),ju=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),zu=Nt(ju),Bu=E({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_a=Nt(Bu),en=E({},He,{newState:0,oldState:0}),qu=Nt(en),Hu=[9,13,27,32],lr=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var y=jn&&"TextEvent"in window&&!c,_=jn&&(!lr||c&&8<c&&11>=c),w=" ",j=!1;function K(t,r){switch(t){case"keyup":return Hu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function wt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(j=!0,w);case"textInput":return t=r.data,t===w&&j?null:t;default:return null}}function Le(t,r){if(Ve)return t==="compositionend"||!lr&&K(t,r)?(t=Uo(),Or=di=ir=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dt[t.type]:r==="textarea"}function Mr(t,r,a,l){Nr?Dr?Dr.push(l):Dr=[l]:Nr=l,r=Cc(r,"onChange"),0<r.length&&(a=new ha("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ut=null,ur=null;function Fo(t){P_(t,0)}function Fu(t){var r=tr(t);if(Mo(r))return t}function ng(t,r){if(t==="change")return r}var rg=!1;if(jn){var mf;if(jn){var pf="oninput"in document;if(!pf){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),pf=typeof ig.oninput=="function"}mf=pf}else mf=!1;rg=mf&&(!document.documentMode||9<document.documentMode)}function sg(){Ut&&(Ut.detachEvent("onpropertychange",ag),ur=Ut=null)}function ag(t){if(t.propertyName==="value"&&Fu(ur)){var r=[];Mr(r,ur,t,wn(t)),Nu(Fo,r)}}function ew(t,r,a){t==="focusin"?(sg(),Ut=r,ur=a,Ut.attachEvent("onpropertychange",ag)):t==="focusout"&&sg()}function tw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(ur)}function nw(t,r){if(t==="click")return Fu(r)}function rw(t,r){if(t==="input"||t==="change")return Fu(r)}function iw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fn=typeof Object.is=="function"?Object.is:iw;function Go(t,r){if(fn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ns.call(r,h)||!fn(t[h],r[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,r){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ug(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ds(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ds(t.document)}return r}function gf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var sw=jn&&"documentMode"in document&&11>=document.documentMode,va=null,yf=null,Ko=null,_f=!1;function hg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||va==null||va!==ds(l)||(l=va,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Cc(yf,"onSelect"),0<l.length&&(r=new ha("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=va)))}function As(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ea={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},vf={},fg={};jn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ss(t){if(vf[t])return vf[t];if(!Ea[t])return t;var r=Ea[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in fg)return vf[t]=r[a];return t}var dg=Ss("animationend"),mg=Ss("animationiteration"),pg=Ss("animationstart"),aw=Ss("transitionrun"),ow=Ss("transitionstart"),lw=Ss("transitioncancel"),gg=Ss("transitionend"),yg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function zn(t,r){yg.set(t,r),Un(r,[t])}var _g=new WeakMap;function Rn(t,r){if(typeof t=="object"&&t!==null){var a=_g.get(t);return a!==void 0?a:(r={value:t,source:r,stack:la(r)},_g.set(t,r),r)}return{value:t,source:r,stack:la(r)}}var xn=[],Ta=0,Tf=0;function Gu(){for(var t=Ta,r=Tf=Ta=0;r<t;){var a=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var h=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function Ku(t,r,a,l){xn[Ta++]=t,xn[Ta++]=r,xn[Ta++]=a,xn[Ta++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bf(t,r,a,l){return Ku(t,r,a,l),Qu(t)}function ba(t,r){return Ku(t,null,null,r),Qu(t)}function vg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Qu(t){if(50<yl)throw yl=0,Id=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var wa={};function uw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,a,l){return new uw(t,r,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,r){var a=t.alternate;return a===null?(a=dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Yu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")wf(t)&&(v=1);else if(typeof t=="string")v=hA(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=dn(31,a,r,h),t.elementType=x,t.lanes=d,t;case P:return Rs(a.children,h,d,r);case Q:v=8,h|=24;break;case G:return t=dn(12,a,r,h|2),t.elementType=G,t.lanes=d,t;case fe:return t=dn(13,a,r,h),t.elementType=fe,t.lanes=d,t;case Re:return t=dn(19,a,r,h),t.elementType=Re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case ae:v=10;break e;case te:v=9;break e;case pe:v=11;break e;case k:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=dn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Rs(t,r,a,l){return t=dn(7,t,l,r),t.lanes=a,t}function Af(t,r,a){return t=dn(6,t,null,r),t.lanes=a,t}function Sf(t,r,a){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Aa=[],Sa=0,$u=null,Xu=0,In=[],Cn=0,xs=null,Vr=1,Lr="";function Is(t,r){Aa[Sa++]=Xu,Aa[Sa++]=$u,$u=t,Xu=r}function Tg(t,r,a){In[Cn++]=Vr,In[Cn++]=Lr,In[Cn++]=xs,xs=t;var l=Vr;t=Lr;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vr=1<<32-Gt(r)+h|a<<h|l,Lr=d+t}else Vr=1<<d|a<<h|l,Lr=t}function Rf(t){t.return!==null&&(Is(t,1),Tg(t,1,0))}function xf(t){for(;t===$u;)$u=Aa[--Sa],Aa[Sa]=null,Xu=Aa[--Sa],Aa[Sa]=null;for(;t===xs;)xs=In[--Cn],In[Cn]=null,Lr=In[--Cn],In[Cn]=null,Vr=In[--Cn],In[Cn]=null}var tn=null,ut=null,qe=!1,Cs=null,cr=!1,If=Error(s(519));function Ns(t){var r=Error(s(418,""));throw $o(Rn(r,t)),If}function bg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[gt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<vl.length;a++)ke(vl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ua(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),ps(r,l.value,l.defaultValue,l.children),ua(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||j_(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Nc),r=!0):r=!1,r||Ns(t)}function wg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:cr=!1;return;case 27:case 3:cr=!0;return;default:tn=tn.return}}function Qo(t){if(t!==tn)return!1;if(!qe)return wg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ns(t),wg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Ci(t.type)?(t=Yd,Yd=null,ut=t):ut=r):ut=tn?qn(t.stateNode.nextSibling):null;return!0}function Yo(){ut=tn=null,qe=!1}function Ag(){var t=Cs;return t!==null&&(on===null?on=t:on.push.apply(on,t),Cs=null),t}function $o(t){Cs===null?Cs=[t]:Cs.push(t)}var Cf=ne(null),Ds=null,Ur=null;function mi(t,r,a){ie(Cf,r._currentValue),r._currentValue=a}function jr(t){t._currentValue=Cf.current,le(Cf)}function Nf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Df(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Nf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Nf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Df(r,t,a,l),r.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,Ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Sg(Ds,t)}function Zu(t,r){return Ds===null&&Os(t),Sg(t,r)}function Sg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ur===null){if(t===null)throw Error(s(308));Ur=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ur=Ur.next=r;return a}var cw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},hw=i.unstable_scheduleCallback,fw=i.unstable_NormalPriority,St={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new cw,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&hw(fw,function(){t.controller.abort()})}var Zo=null,kf=0,Ra=0,xa=null;function dw(t,r){if(Zo===null){var a=Zo=[];kf=0,Ra=Pd(),xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return kf++,r.then(Rg,Rg),r}function Rg(){if(--kf===0&&Zo!==null){xa!==null&&(xa.status="fulfilled");var t=Zo;Zo=null,Ra=0,xa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function mw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&dw(t,r),xg!==null&&xg(t,r)};var ks=ne(null);function Mf(){var t=ks.current;return t!==null?t:et.pooledCache}function Ju(t,r){r===null?ie(ks,ks.current):ie(ks,r.pool)}function Ig(){var t=Mf();return t===null?null:{parent:St._currentValue,pool:t}}var Jo=Error(s(460)),Cg=Error(s(474)),ec=Error(s(542)),Pf={then:function(){}};function Ng(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tc(){}function Dg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(tc,tc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,kg(t),t;default:if(typeof r.status=="string")r.then(tc,tc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,kg(t),t}throw el=r,Jo}}var el=null;function Og(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function kg(t){if(t===Jo||t===ec)throw Error(s(483))}var pi=!1;function Vf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Qu(t),vg(t,null,a),r}return Ku(t,l,r,a),Qu(t)}function tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function Uf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var jf=!1;function nl(){if(jf){var t=xa;if(t!==null)throw t}}function rl(t,r,a,l){jf=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,$=q=I=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Ue&H)===H:(l&H)===H){H!==0&&H===Ra&&(jf=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Te=t,_e=T;H=r;var We=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){Z=Te.call(We,Z,H);break e}Z=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(We,Z,H):Te,H==null)break e;Z=E({},Z,H);break e;case 2:pi=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=F,I=Z):$=$.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Si|=v,t.lanes=v,t.memoizedState=Z}}function Mg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Pg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Mg(a[t],r)}var Ia=ne(null),nc=ne(0);function Vg(t,r){t=Kr,ie(nc,t),ie(Ia,r),Kr=t|r.baseLanes}function zf(){ie(nc,Kr),ie(Ia,Ia.current)}function Bf(){Kr=nc.current,le(Ia),le(nc)}var _i=0,Ie=null,$e=null,_t=null,rc=!1,Ca=!1,Ms=!1,ic=0,il=0,Na=null,pw=0;function dt(){throw Error(s(321))}function qf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!fn(t[a],r[a]))return!1;return!0}function Hf(t,r,a,l,h,d){return _i=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?vy:Ey,Ms=!1,d=a(l,h),Ms=!1,Ca&&(d=Ug(r,a,l,h)),Lg(t),d}function Lg(t){Y.H=cc;var r=$e!==null&&$e.next!==null;if(_i=0,_t=$e=Ie=null,rc=!1,il=0,Na=null,r)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Wu(t)&&(Ot=!0))}function Ug(t,r,a,l){Ie=t;var h=0;do{if(Ca&&(Na=null),il=0,Ca=!1,25<=h)throw Error(s(301));if(h+=1,_t=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=bw,d=r(a,l)}while(Ca);return d}function gw(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Ff(){var t=ic!==0;return ic=0,t}function Gf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Kf(t){if(rc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}rc=!1}_i=0,_t=$e=Ie=null,Ca=!1,il=ic=0,Na=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ie.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=_t===null?Ie.memoizedState:_t.next;if(r!==null)_t=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},_t===null?Ie.memoizedState=_t=t:_t=_t.next=t}return _t}function Qf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=il;return il+=1,Na===null&&(Na=[]),t=Dg(Na,t,r),r=Ie,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?vy:Ey),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===ae)return Kt(t)}throw Error(s(438,String(t)))}function Yf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=D;return r.index++,a}function zr(t,r){return typeof r=="function"?r(t):r}function ac(t){var r=vt();return $f(r,$e,t)}function $f(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,q=r,$=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Ue&Z)===Z:(_i&Z)===Z){var H=q.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ra&&($=!0);else if((_i&H)===H){q=q.next,H===Ra&&($=!0);continue}else Z={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ie.lanes|=H,Si|=H;Z=q.action,Ms&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else H={lane:Z,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(T=I=H,v=d):I=I.next=H,Ie.lanes|=Z,Si|=Z;q=q.next}while(q!==null&&q!==r);if(I===null?v=d:I.next=T,!fn(d,t.memoizedState)&&(Ot=!0,$&&(a=xa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xf(t){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function jg(t,r,a){var l=Ie,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!fn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Ot=!0),h=h.queue;var T=qg.bind(null,l,h,t);if(al(2048,8,T,[t]),h.getSnapshot!==r||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Da(9,oc(),Bg.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(_i&124)!==0||zg(l,r,a)}return a}function zg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Qf(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Bg(t,r,a,l){r.value=a,r.getSnapshot=l,Hg(r)&&Fg(t)}function qg(t,r,a){return a(function(){Hg(r)&&Fg(t)})}function Hg(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!fn(t,a)}catch{return!0}}function Fg(t){var r=ba(t,2);r!==null&&_n(r,t,2)}function Wf(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),Ms){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:t},r}function Gg(t,r,a,l){return t.baseState=a,$f(t,$e,typeof l=="function"?l:zr)}function yw(t,r,a,l,h){if(uc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Kg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Kg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),I=Y.S;I!==null&&I(v,T),Qg(t,r,T)}catch(q){Zf(t,r,q)}finally{Y.T=d}}else try{d=a(h,l),Qg(t,r,d)}catch(q){Zf(t,r,q)}}function Qg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Yg(t,r,l)},function(l){return Zf(t,r,l)}):Yg(t,r,a)}function Yg(t,r,a){r.status="fulfilled",r.value=a,$g(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Kg(t,a)))}function Zf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,$g(r),r=r.next;while(r!==l)}t.action=null}function $g(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Xg(t,r){return r}function Wg(t,r){if(qe){var a=et.formState;if(a!==null){e:{var l=Ie;if(qe){if(ut){t:{for(var h=ut,d=cr;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=qn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xg,lastRenderedState:r},a.queue=l,a=gy.bind(null,Ie,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Ie,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=yw.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Zg(t){var r=vt();return Jg(r,$e,t)}function Jg(t,r,a){if(r=$f(t,r,Xg)[0],t=ac(zr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(v){throw v===Jo?ec:v}else l=r;r=vt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Da(9,oc(),_w.bind(null,h,a),null)),[l,d,t]}function _w(t,r){t.action=r}function ey(t){var r=vt(),a=$e;if(a!==null)return Jg(r,a,t);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Da(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Qf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function oc(){return{destroy:void 0,resource:void 0}}function ty(){return vt().memoizedState}function lc(t,r,a,l){var h=sn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Da(1|r,oc(),a,l)}function al(t,r,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&qf(l,$e.memoizedState.deps)?h.memoizedState=Da(r,d,a,l):(Ie.flags|=t,h.memoizedState=Da(1|r,d,a,l))}function ny(t,r){lc(8390656,8,t,r)}function ry(t,r){al(2048,8,t,r)}function iy(t,r){return al(4,2,t,r)}function sy(t,r){return al(4,4,t,r)}function ay(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function oy(t,r,a){a=a!=null?a.concat([t]):null,al(4,4,ay.bind(null,r,t),a)}function Jf(){}function ly(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&qf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function uy(t,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&qf(r,l[1]))return l[0];if(l=t(),Ms){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function ed(t,r,a){return a===void 0||(_i&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=f_(),Ie.lanes|=t,Si|=t,a)}function cy(t,r,a,l){return fn(a,r)?a:Ia.current!==null?(t=ed(t,a,l),fn(t,r)||(Ot=!0),t):(_i&42)===0?(Ot=!0,t.memoizedState=a):(t=f_(),Ie.lanes|=t,Si|=t,r)}function hy(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,rd(t,!1,r,a);try{var I=h(),q=Y.S;if(q!==null&&q(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=mw(I,l);ol(t,r,$,yn(t))}else ol(t,r,l,yn(t))}catch(Z){ol(t,r,{then:function(){},status:"rejected",reason:Z},yn())}finally{oe.p=d,Y.T=v}}function vw(){}function td(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=fy(t).queue;hy(t,h,r,me,a===null?vw:function(){return dy(t),a(l)})}function fy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function dy(t){var r=fy(t).next.queue;ol(t,r,{},yn())}function nd(){return Kt(Sl)}function my(){return vt().memoizedState}function py(){return vt().memoizedState}function Ew(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();t=gi(a);var l=yi(r,t,a);l!==null&&(_n(l,r,a),tl(l,r,a)),r={cache:Of()},t.payload=r;return}r=r.return}}function Tw(t,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?yy(r,a):(a=bf(t,r,a,l),a!==null&&(_n(a,t,l),_y(a,r,l)))}function gy(t,r,a){var l=yn();ol(t,r,a,l)}function ol(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))yy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return Ku(t,r,h,0),et===null&&Gu(),!1}catch{}finally{}if(a=bf(t,r,h,l),a!==null)return _n(a,t,l),_y(a,r,l),!0}return!1}function rd(t,r,a,l){if(l={lane:2,revertLane:Pd(),action:l,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(r)throw Error(s(479))}else r=bf(t,a,l,2),r!==null&&_n(r,t,2)}function uc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function yy(t,r){Ca=rc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function _y(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var cc={readContext:Kt,use:sc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},vy={readContext:Kt,use:sc,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:ny,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,lc(4194308,4,ay.bind(null,r,t),a)},useLayoutEffect:function(t,r){return lc(4194308,4,t,r)},useInsertionEffect:function(t,r){lc(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(Ms){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(Ms){cn(!0);try{a(r)}finally{cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Tw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=Wf(t);var r=t.queue,a=gy.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Jf,useDeferredValue:function(t,r){var a=sn();return ed(a,t,r)},useTransition:function(){var t=Wf(!1);return t=hy.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=sn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Ue&124)!==0||zg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ny(qg.bind(null,l,d,t),[t]),l.flags|=2048,Da(9,oc(),Bg.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=et.identifierPrefix;if(qe){var a=Lr,l=Vr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ic++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=pw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:nd,useFormState:Wg,useActionState:Wg,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=rd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Yf,useCacheRefresh:function(){return sn().memoizedState=Ew.bind(null,Ie)}},Ey={readContext:Kt,use:sc,useCallback:ly,useContext:Kt,useEffect:ry,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:ac,useRef:ty,useState:function(){return ac(zr)},useDebugValue:Jf,useDeferredValue:function(t,r){var a=vt();return cy(a,$e.memoizedState,t,r)},useTransition:function(){var t=ac(zr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:jg,useId:my,useHostTransitionStatus:nd,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,r){var a=vt();return Gg(a,$e,t,r)},useMemoCache:Yf,useCacheRefresh:py},bw={readContext:Kt,use:sc,useCallback:ly,useContext:Kt,useEffect:ry,useImperativeHandle:oy,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Xf,useRef:ty,useState:function(){return Xf(zr)},useDebugValue:Jf,useDeferredValue:function(t,r){var a=vt();return $e===null?ed(a,t,r):cy(a,$e.memoizedState,t,r)},useTransition:function(){var t=Xf(zr)[0],r=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:jg,useId:my,useHostTransitionStatus:nd,useFormState:ey,useActionState:ey,useOptimistic:function(t,r){var a=vt();return $e!==null?Gg(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:py},Oa=null,ll=0;function hc(t){var r=ll;return ll+=1,Oa===null&&(Oa=[]),Dg(Oa,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function fc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ty(t){var r=t._init;return r(t._payload)}function by(t){function r(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Pr(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,B,W){return O===null||O.tag!==6?(O=Af(B,L.mode,W),O.return=L,O):(O=h(O,B),O.return=L,O)}function I(L,O,B,W){var he=B.type;return he===P?$(L,O,B.props.children,W,B.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ty(he)===O.type)?(O=h(O,B.props),ul(O,B),O.return=L,O):(O=Yu(B.type,B.key,B.props,null,L.mode,W),ul(O,B),O.return=L,O)}function q(L,O,B,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Sf(B,L.mode,W),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function $(L,O,B,W,he){return O===null||O.tag!==7?(O=Rs(B,L.mode,W,he),O.return=L,O):(O=h(O,B),O.return=L,O)}function Z(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Af(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return B=Yu(O.type,O.key,O.props,null,L.mode,B),ul(B,O),B.return=L,B;case M:return O=Sf(O,L.mode,B),O.return=L,O;case R:var W=O._init;return O=W(O._payload),Z(L,O,B)}if(ot(O)||U(O))return O=Rs(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return Z(L,hc(O),B);if(O.$$typeof===ae)return Z(L,Zu(L,O),B);fc(L,O)}return null}function H(L,O,B,W){var he=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:T(L,O,""+B,W);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case A:return B.key===he?I(L,O,B,W):null;case M:return B.key===he?q(L,O,B,W):null;case R:return he=B._init,B=he(B._payload),H(L,O,B,W)}if(ot(B)||U(B))return he!==null?null:$(L,O,B,W,null);if(typeof B.then=="function")return H(L,O,hc(B),W);if(B.$$typeof===ae)return H(L,O,Zu(L,B),W);fc(L,B)}return null}function F(L,O,B,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(B)||null,T(O,L,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return L=L.get(W.key===null?B:W.key)||null,I(O,L,W,he);case M:return L=L.get(W.key===null?B:W.key)||null,q(O,L,W,he);case R:var De=W._init;return W=De(W._payload),F(L,O,B,W,he)}if(ot(W)||U(W))return L=L.get(B)||null,$(O,L,W,he,null);if(typeof W.then=="function")return F(L,O,B,hc(W),he);if(W.$$typeof===ae)return F(L,O,B,Zu(O,W),he);fc(O,W)}return null}function Te(L,O,B,W){for(var he=null,De=null,de=O,ve=O=0,Mt=null;de!==null&&ve<B.length;ve++){de.index>ve?(Mt=de,de=null):Mt=de.sibling;var ze=H(L,de,B[ve],W);if(ze===null){de===null&&(de=Mt);break}t&&de&&ze.alternate===null&&r(L,de),O=d(ze,O,ve),De===null?he=ze:De.sibling=ze,De=ze,de=Mt}if(ve===B.length)return a(L,de),qe&&Is(L,ve),he;if(de===null){for(;ve<B.length;ve++)de=Z(L,B[ve],W),de!==null&&(O=d(de,O,ve),De===null?he=de:De.sibling=de,De=de);return qe&&Is(L,ve),he}for(de=l(de);ve<B.length;ve++)Mt=F(de,L,ve,B[ve],W),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?ve:Mt.key),O=d(Mt,O,ve),De===null?he=Mt:De.sibling=Mt,De=Mt);return t&&de.forEach(function(Mi){return r(L,Mi)}),qe&&Is(L,ve),he}function _e(L,O,B,W){if(B==null)throw Error(s(151));for(var he=null,De=null,de=O,ve=O=0,Mt=null,ze=B.next();de!==null&&!ze.done;ve++,ze=B.next()){de.index>ve?(Mt=de,de=null):Mt=de.sibling;var Mi=H(L,de,ze.value,W);if(Mi===null){de===null&&(de=Mt);break}t&&de&&Mi.alternate===null&&r(L,de),O=d(Mi,O,ve),De===null?he=Mi:De.sibling=Mi,De=Mi,de=Mt}if(ze.done)return a(L,de),qe&&Is(L,ve),he;if(de===null){for(;!ze.done;ve++,ze=B.next())ze=Z(L,ze.value,W),ze!==null&&(O=d(ze,O,ve),De===null?he=ze:De.sibling=ze,De=ze);return qe&&Is(L,ve),he}for(de=l(de);!ze.done;ve++,ze=B.next())ze=F(de,L,ve,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?ve:ze.key),O=d(ze,O,ve),De===null?he=ze:De.sibling=ze,De=ze);return t&&de.forEach(function(wA){return r(L,wA)}),qe&&Is(L,ve),he}function We(L,O,B,W){if(typeof B=="object"&&B!==null&&B.type===P&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case A:e:{for(var he=B.key;O!==null;){if(O.key===he){if(he=B.type,he===P){if(O.tag===7){a(L,O.sibling),W=h(O,B.props.children),W.return=L,L=W;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&Ty(he)===O.type){a(L,O.sibling),W=h(O,B.props),ul(W,B),W.return=L,L=W;break e}a(L,O);break}else r(L,O);O=O.sibling}B.type===P?(W=Rs(B.props.children,L.mode,W,B.key),W.return=L,L=W):(W=Yu(B.type,B.key,B.props,null,L.mode,W),ul(W,B),W.return=L,L=W)}return v(L);case M:e:{for(he=B.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),W=h(O,B.children||[]),W.return=L,L=W;break e}else{a(L,O);break}else r(L,O);O=O.sibling}W=Sf(B,L.mode,W),W.return=L,L=W}return v(L);case R:return he=B._init,B=he(B._payload),We(L,O,B,W)}if(ot(B))return Te(L,O,B,W);if(U(B)){if(he=U(B),typeof he!="function")throw Error(s(150));return B=he.call(B),_e(L,O,B,W)}if(typeof B.then=="function")return We(L,O,hc(B),W);if(B.$$typeof===ae)return We(L,O,Zu(L,B),W);fc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),W=h(O,B),W.return=L,L=W):(a(L,O),W=Af(B,L.mode,W),W.return=L,L=W),v(L)):a(L,O)}return function(L,O,B,W){try{ll=0;var he=We(L,O,B,W);return Oa=null,he}catch(de){if(de===Jo||de===ec)throw de;var De=dn(29,de,null,L.mode);return De.lanes=W,De.return=L,De}finally{}}}var ka=by(!0),wy=by(!1),Nn=ne(null),hr=null;function vi(t){var r=t.alternate;ie(Rt,Rt.current&1),ie(Nn,t),hr===null&&(r===null||Ia.current!==null||r.memoizedState!==null)&&(hr=t)}function Ay(t){if(t.tag===22){if(ie(Rt,Rt.current),ie(Nn,t),hr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(hr=t)}}else Ei()}function Ei(){ie(Rt,Rt.current),ie(Nn,Nn.current)}function Br(t){le(Nn),hr===t&&(hr=null),le(Rt)}var Rt=ne(0);function dc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Qd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function id(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var sd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=yn(),h=gi(l);h.payload=r,a!=null&&(h.callback=a),r=yi(t,h,l),r!==null&&(_n(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=yn(),h=gi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=yi(t,h,l),r!==null&&(_n(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=yn(),l=gi(a);l.tag=2,r!=null&&(l.callback=r),r=yi(t,l,a),r!==null&&(_n(r,t,a),tl(r,t,a))}};function Sy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function Ry(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&sd.enqueueReplaceState(r,r.state,null)}function Ps(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xy(t){mc(t)}function Iy(t){console.error(t)}function Cy(t){mc(t)}function pc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Ny(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ad(t,r,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,r)},a}function Dy(t){return t=gi(t),t.tag=3,t}function Oy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ny(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ny(r,a,l),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ww(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Xo(r,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return hr===null?Nd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Pf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Od(t,l,h)),!1;case 22:return a.flags|=65536,l===Pf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Od(t,l,h)),!1}throw Error(s(435,a.tag))}return Od(t,l,h),Nd(),!1}if(qe)return r=Nn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==If&&(t=Error(s(422),{cause:l}),$o(Rn(t,a)))):(l!==If&&(r=Error(s(423),{cause:l}),$o(Rn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=ad(t.stateNode,l,h),Uf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),gl===null?gl=[d]:gl.push(d),ct!==4&&(ct=2),r===null)return!0;l=Rn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ad(a.stateNode,l,t),Uf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dy(h),Oy(h,t,a,l),Uf(a,h),!1}a=a.return}while(a!==null);return!1}var ky=Error(s(461)),Ot=!1;function jt(t,r,a,l){r.child=t===null?wy(r,null,a,l):ka(r,t.child,a,l)}function My(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Os(r),l=Hf(t,r,a,v,d,h),T=Ff(),t!==null&&!Ot?(Gf(t,r,h),qr(t,r,h)):(qe&&T&&Rf(r),r.flags|=1,jt(t,r,l,h),r.child)}function Py(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!wf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Vy(t,r,d,l,h)):(t=Yu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!md(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===r.ref)return qr(t,r,h)}return r.flags|=1,t=Pr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Vy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,md(t,h))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,qr(t,r,h)}return od(t,r,a,l,h)}function Ly(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Uy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(r,d!==null?d.cachePool:null),d!==null?Vg(r,d):zf(),Ay(r);else return r.lanes=r.childLanes=536870912,Uy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ju(r,d.cachePool),Vg(r,d),Ei(),r.memoizedState=null):(t!==null&&Ju(r,null),zf(),Ei());return jt(t,r,h,a),r.child}function Uy(t,r,a,l){var h=Mf();return h=h===null?null:{parent:St._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ju(r,null),zf(),Ay(r),t!==null&&Xo(t,r,l,!0),null}function gc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function od(t,r,a,l,h){return Os(r),a=Hf(t,r,a,l,void 0,h),l=Ff(),t!==null&&!Ot?(Gf(t,r,h),qr(t,r,h)):(qe&&l&&Rf(r),r.flags|=1,jt(t,r,a,h),r.child)}function jy(t,r,a,l,h,d){return Os(r),r.updateQueue=null,a=Ug(r,l,a,h),Lg(t),l=Ff(),t!==null&&!Ot?(Gf(t,r,d),qr(t,r,d)):(qe&&l&&Rf(r),r.flags|=1,jt(t,r,a,d),r.child)}function zy(t,r,a,l,h){if(Os(r),r.stateNode===null){var d=wa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Vf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):wa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(id(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&sd.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=Ps(a,T);d.props=I;var q=d.context,$=a.contextType;v=wa,typeof $=="object"&&$!==null&&(v=Kt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==v)&&Ry(r,d,l,v),pi=!1;var H=r.memoizedState;d.state=H,rl(r,l,d,h),nl(),q=r.memoizedState,T||H!==q||pi?(typeof Z=="function"&&(id(r,a,Z,l),q=r.memoizedState),(I=pi||Sy(r,a,I,l,H,q,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Lf(t,r),v=r.memoizedProps,$=Ps(a,v),d.props=$,Z=r.pendingProps,H=d.context,q=a.contextType,I=wa,typeof q=="object"&&q!==null&&(I=Kt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==I)&&Ry(r,d,l,I),pi=!1,H=r.memoizedState,d.state=H,rl(r,l,d,h),nl();var F=r.memoizedState;v!==Z||H!==F||pi||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof T=="function"&&(id(r,a,T,l),F=r.memoizedState),($=pi||Sy(r,a,$,l,H,F,I)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=I,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,gc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ka(r,t.child,null,h),r.child=ka(r,null,a,h)):jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qr(t,r,h),t}function By(t,r,a,l){return Yo(),r.flags|=256,jt(t,r,a,l),r.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ud(t){return{baseLanes:t,cachePool:Ig()}}function cd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Dn),t}function qy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?vi(r):Ei(),qe){var T=ut,I;if(I=T){e:{for(I=T,T=cr;I.nodeType!==8;){if(!T){T=null;break e}if(I=qn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:xs!==null?{id:Vr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,tn=r,ut=null,I=!0):I=!1}I||Ns(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Qd(T)?r.lanes=32:r.lanes=536870912,null;Br(r)}return T=l.children,l=l.fallback,h?(Ei(),h=r.mode,T=yc({mode:"hidden",children:T},h),l=Rs(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=ud(a),h.childLanes=cd(t,v,a),r.memoizedState=ld,l):(vi(r),hd(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(vi(r),r.flags&=-257,r=fd(t,r,a)):r.memoizedState!==null?(Ei(),r.child=t.child,r.flags|=128,r=null):(Ei(),h=l.fallback,T=r.mode,l=yc({mode:"visible",children:l.children},T),h=Rs(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ka(r,t.child,null,a),l=r.child,l.memoizedState=ud(a),l.childLanes=cd(t,v,a),r.memoizedState=ld,r=h);else if(vi(r),Qd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),r=fd(t,r,a)}else if(Ot||Xo(t,r,a,!1),v=(a&t.childLanes)!==0,Ot||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:oi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ba(t,l),_n(v,t,l),ky;T.data==="$?"||Nd(),r=fd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ut=qn(T.nextSibling),tn=r,qe=!0,Cs=null,cr=!1,t!==null&&(In[Cn++]=Vr,In[Cn++]=Lr,In[Cn++]=xs,Vr=t.id,Lr=t.overflow,xs=r),r=hd(r,l.children),r.flags|=4096);return r}return h?(Ei(),h=l.fallback,T=r.mode,I=t.child,q=I.sibling,l=Pr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Pr(q,h):(h=Rs(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=ud(a):(I=T.cachePool,I!==null?(q=St._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Ig(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=cd(t,v,a),r.memoizedState=ld,l):(vi(r),a=t.child,t=a.sibling,a=Pr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function hd(t,r){return r=yc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function yc(t,r){return t=dn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function fd(t,r,a){return ka(r,t.child,null,a),t=hd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Hy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Nf(t.return,r,a)}function dd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Fy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,r);else if(t.tag===19)Hy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Rt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),dd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}dd(r,!0,a,null,d);break;case"together":dd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Si|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Xo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Pr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Pr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function md(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function Aw(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),mi(r,St,t.memoizedState.cache),Yo();break;case 27:case 5:ai(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:mi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?qy(t,r,a):(vi(r),t=qr(t,r,a),t!==null?t.sibling:null);vi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Xo(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Fy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Rt,Rt.current),l)break;return null;case 22:case 23:return r.lanes=0,Ly(t,r,a);case 24:mi(r,St,t.memoizedState.cache)}return qr(t,r,a)}function Gy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!md(t,a)&&(r.flags&128)===0)return Ot=!1,Aw(t,r,a);Ot=(t.flags&131072)!==0}else Ot=!1,qe&&(r.flags&1048576)!==0&&Tg(r,Xu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")wf(l)?(t=Ps(l,t),r.tag=1,r=zy(null,r,l,t,a)):(r.tag=0,r=od(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pe){r.tag=11,r=My(null,r,l,t,a);break e}else if(h===k){r.tag=14,r=Py(null,r,l,t,a);break e}}throw r=Vt(l)||l,Error(s(306,r,""))}}return r;case 0:return od(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ps(l,r.pendingProps),zy(t,r,l,h,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Lf(t,r),rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,mi(r,St,l),l!==d.cache&&Df(r,[St],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=By(t,r,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),r),$o(h),r=By(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=qn(t.firstChild),tn=r,qe=!0,Cs=null,cr=!0,a=wy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){r=qr(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return gc(t,r),t===null?(a=$_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Dc(we.current).createElement(a),l[bt]=r,l[gt]=t,Bt(l,a,t),ft(l),r.stateNode=l):r.memoizedState=$_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ai(r),t===null&&qe&&(l=r.stateNode=K_(r.type,r.pendingProps,we.current),tn=r,cr=!0,h=ut,Ci(r.type)?(Yd=h,ut=qn(l.firstChild)):ut=h),jt(t,r,r.pendingProps.children,a),gc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=Zw(l,r.type,r.pendingProps,cr),l!==null?(r.stateNode=l,tn=r,ut=qn(l.firstChild),cr=!1,h=!0):h=!1),h||Ns(r)),ai(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:v!==null&&Fd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Hf(t,r,gw,null,null,a),Sl._currentValue=h),gc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=Jw(a,r.pendingProps,cr),a!==null?(r.stateNode=a,tn=r,ut=null,t=!0):t=!1),t||Ns(r)),null;case 13:return qy(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ka(r,null,l,a):jt(t,r,l,a),r.child;case 11:return My(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,mi(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Os(r),h=Kt(h),l=l(h),r.flags|=1,jt(t,r,l,a),r.child;case 14:return Py(t,r,r.type,r.pendingProps,a);case 15:return Vy(t,r,r.type,r.pendingProps,a);case 19:return Fy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=yc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Pr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Ly(t,r,a);case 24:return Os(r),l=Kt(St),t===null?(h=Mf(),h===null&&(h=et,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Vf(r),mi(r,St,h)):((t.lanes&a)!==0&&(Lf(t,r),rl(r,null,null,a),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),mi(r,St,l)):(l=d.cache,mi(r,St,l),l!==h.cache&&Df(r,[St],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Hr(t){t.flags|=4}function Ky(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ev(r)){if(r=Nn.current,r!==null&&((Ue&4194048)===Ue?hr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==hr))throw el=Pf,Cg;t.flags|=8192}}function _c(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?xo():536870912,t.lanes|=r,La|=r)}function cl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Sw(t,r,a){var l=r.pendingProps;switch(xf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),jr(St),Zn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(r)?Hr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ag())),st(r),null;case 26:return a=r.memoizedState,t===null?(Hr(r),a!==null?(st(r),Ky(r,a)):(st(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Hr(r),st(r),Ky(r,a)):(st(r),r.flags&=-16777217):(t.memoizedProps!==l&&Hr(r),st(r),r.flags&=-16777217),null;case 27:br(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=ye.current,Qo(r)?bg(r):(t=K_(h,l,a),r.stateNode=t,Hr(r))}return st(r),null;case 5:if(br(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(t=ye.current,Qo(r))bg(r);else{switch(h=Dc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=r,t[gt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hr(r)}}return st(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,Qo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||Ns(r)}else t=Dc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else Yo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=Ag(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Br(r),r):(Br(r),null)}if(Br(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),_c(r,r.updateQueue),st(r),null;case 4:return Zn(),t===null&&jd(r.stateNode.containerInfo),st(r),null;case 10:return jr(r.type),st(r),null;case 19:if(le(Rt),h=r.memoizedState,h===null)return st(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=dc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,_c(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Eg(a,t),a=a.sibling;return ie(Rt,Rt.current&1|2),r.child}t=t.sibling}h.tail!==null&&En()>Tc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=dc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,_c(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return st(r),null}else 2*En()-h.renderingStartTime>Tc&&a!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=En(),r.sibling=null,t=Rt.current,ie(Rt,l?t&1|2:t&1),r):(st(r),null);case 22:case 23:return Br(r),Bf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&_c(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),jr(St),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Rw(t,r){switch(xf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return jr(St),Zn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return br(r),null;case 13:if(Br(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Yo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(Rt),null;case 4:return Zn(),null;case 10:return jr(r.type),null;case 22:case 23:return Br(r),Bf(),t!==null&&le(ks),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return jr(St),null;case 25:return null;default:return null}}function Qy(t,r){switch(xf(r),r.tag){case 3:jr(St),Zn();break;case 26:case 27:case 5:br(r);break;case 4:Zn();break;case 13:Br(r);break;case 19:le(Rt);break;case 10:jr(r.type);break;case 22:case 23:Br(r),Bf(),t!==null&&le(ks);break;case 24:jr(St)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(r,r.return,T)}}function Ti(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,q=T;try{q()}catch($){Ze(h,I,$)}}}l=l.next}while(l!==d)}}catch($){Ze(r,r.return,$)}}function Yy(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Pg(r,a)}catch(l){Ze(t,t.return,l)}}}function $y(t,r,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function fr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function Xy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function pd(t,r,a){try{var l=t.stateNode;Qw(l,t.type,a,r),l[gt]=r}catch(h){Ze(t,t.return,h)}}function Wy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Nc));else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(yd(t,r,a),t=t.sibling;t!==null;)yd(t,r,a),t=t.sibling}function vc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vc(t,r,a),t=t.sibling;t!==null;)vc(t,r,a),t=t.sibling}function Zy(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Bt(r,l,a),r[bt]=t,r[gt]=a}catch(d){Ze(t,t.return,d)}}var Fr=!1,mt=!1,_d=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function xw(t,r){if(t=t.containerInfo,qd=Lc,t=cg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,q=0,$=0,Z=t,H=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)H=Z,Z=F;for(;;){if(Z===t)break t;if(H===a&&++q===h&&(T=v),H===d&&++$===l&&(I=v),(F=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Hd={focusedElem:t,selectionRange:a},Lc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ps(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function e_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bi(t,a),l&4&&hl(5,a);break;case 1:if(bi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ps(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&Yy(a),l&512&&fl(a,a.return);break;case 3:if(bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Pg(t,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&Zy(a);case 26:case 5:bi(t,a),r===null&&l&4&&Xy(a),l&512&&fl(a,a.return);break;case 12:bi(t,a);break;case 13:bi(t,a),l&4&&r_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Vw.bind(null,a),eA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fr,!l){r=r!==null&&r.memoizedState!==null||mt,h=Fr;var d=mt;Fr=l,(mt=r)&&!d?wi(t,a,(a.subtreeFlags&8772)!==0):bi(t,a),Fr=h,mt=d}break;case 30:break;default:bi(t,a)}}function t_(t){var r=t.alternate;r!==null&&(t.alternate=null,t_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ci(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function Gr(t,r,a){for(a=a.child;a!==null;)n_(t,r,a),a=a.sibling}function n_(t,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:mt||fr(a,r),Gr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||fr(a,r);var l=rt,h=an;Ci(a.type)&&(rt=a.stateNode,an=!1),Gr(t,r,a),Tl(a.stateNode),rt=l,an=h;break;case 5:mt||fr(a,r);case 6:if(l=rt,h=an,rt=null,Gr(t,r,a),rt=l,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:rt!==null&&(an?(t=rt,F_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):F_(rt,a.stateNode));break;case 4:l=rt,h=an,rt=a.stateNode.containerInfo,an=!0,Gr(t,r,a),rt=l,an=h;break;case 0:case 11:case 14:case 15:mt||Ti(2,a,r),mt||Ti(4,a,r),Gr(t,r,a);break;case 1:mt||(fr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&$y(a,r,l)),Gr(t,r,a);break;case 21:Gr(t,r,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Gr(t,r,a),mt=l;break;default:Gr(t,r,a)}}function r_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Ze(r,r.return,a)}}function Iw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Jy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Jy),r;default:throw Error(s(435,t.tag))}}function vd(t,r){var a=Iw(t);r.forEach(function(l){var h=Lw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Ci(T.type)){rt=T.stateNode,an=!1;break e}break;case 5:rt=T.stateNode,an=!1;break e;case 3:case 4:rt=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(rt===null)throw Error(s(160));n_(d,v,h),rt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)i_(r,t),r=r.sibling}var Bn=null;function i_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(Ti(3,t,t.return),hl(3,t),Ti(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(mt||a===null||fr(a,a.return)),l&64&&Fr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(mn(r,t),pn(t),l&512&&(mt||a===null||fr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[bt]=t,ft(d),l=d;break e;case"link":var v=Z_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Z_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,ft(d),l=d}t.stateNode=l}else J_(h,t.type,t.stateNode);else t.stateNode=W_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?J_(h,t.type,t.stateNode):W_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(mt||a===null||fr(a,a.return)),a!==null&&l&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(mt||a===null||fr(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(_d=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(Mc=null,h=Bn,Bn=Oc(r.containerInfo),mn(r,t),Bn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(F){Ze(t,t.return,F)}_d&&(_d=!1,s_(t));break;case 4:l=Bn,Bn=Oc(t.stateNode.containerInfo),mn(r,t),pn(t),Bn=l;break;case 12:mn(r,t),pn(t);break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sd=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Fr,$=mt;if(Fr=q||h,mt=$||I,mn(r,t),mt=$,Fr=q,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Fr||mt||Vs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(I,I.return,F)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){Ze(I,I.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vd(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vd(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Wy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(t);vc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(bn(v,""),a.flags&=-33);var T=gd(t);vc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=gd(t);yd(t,q,I);break;default:throw Error(s(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function s_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;s_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function bi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)e_(t,r.alternate,r),r=r.sibling}function Vs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ti(4,r,r.return),Vs(r);break;case 1:fr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&$y(r,r.return,a),Vs(r);break;case 27:Tl(r.stateNode);case 26:case 5:fr(r,r.return),Vs(r);break;case 22:r.memoizedState===null&&Vs(r);break;case 30:Vs(r);break;default:Vs(r)}t=t.sibling}}function wi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:wi(h,d,a),hl(4,d);break;case 1:if(wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Mg(I[h],T)}catch(q){Ze(l,l.return,q)}}a&&v&64&&Yy(d),fl(d,d.return);break;case 27:Zy(d);case 26:case 5:wi(h,d,a),a&&l===null&&v&4&&Xy(d),fl(d,d.return);break;case 12:wi(h,d,a);break;case 13:wi(h,d,a),a&&v&4&&r_(h,d);break;case 22:d.memoizedState===null&&wi(h,d,a),fl(d,d.return);break;case 30:break;default:wi(h,d,a)}r=r.sibling}}function Ed(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function Td(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function dr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a_(t,r,a,l),r=r.sibling}function a_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:dr(t,r,a,l),h&2048&&hl(9,r);break;case 1:dr(t,r,a,l);break;case 3:dr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){dr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else dr(t,r,a,l);break;case 13:dr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?dr(t,r,a,l):dl(t,r):d._visibility&2?dr(t,r,a,l):(d._visibility|=2,Ma(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Ed(v,r);break;case 24:dr(t,r,a,l),h&2048&&Td(r.alternate,r);break;default:dr(t,r,a,l)}}function Ma(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:Ma(d,v,T,I,h),hl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ma(d,v,T,I,h):dl(d,v):($._visibility|=2,Ma(d,v,T,I,h)),h&&q&2048&&Ed(v.alternate,v);break;case 24:Ma(d,v,T,I,h),h&&q&2048&&Td(v.alternate,v);break;default:Ma(d,v,T,I,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&Ed(l.alternate,l);break;case 24:dl(a,l),h&2048&&Td(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var ml=8192;function Pa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)o_(t),t=t.sibling}function o_(t){switch(t.tag){case 26:Pa(t),t.flags&ml&&t.memoizedState!==null&&dA(Bn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t);break;case 3:case 4:var r=Bn;Bn=Oc(t.stateNode.containerInfo),Pa(t),Bn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Pa(t),ml=r):Pa(t));break;default:Pa(t)}}function l_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,c_(l,t)}l_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)u_(t),t=t.sibling}function u_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ec(t)):pl(t);break;default:pl(t)}}function Ec(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,c_(l,t)}l_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ti(8,r,r.return),Ec(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ec(r));break;default:Ec(r)}t=t.sibling}}function c_(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Ti(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(t_(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var Cw={getCacheForType:function(t){var r=Kt(St),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Nw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,Oe=null,Ue=0,Qe=0,gn=null,Ai=!1,Va=!1,bd=!1,Kr=0,ct=0,Si=0,Ls=0,wd=0,Dn=0,La=0,gl=null,on=null,Ad=!1,Sd=0,Tc=1/0,bc=null,Ri=null,zt=0,xi=null,Ua=null,ja=0,Rd=0,xd=null,h_=null,yl=0,Id=null;function yn(){if((Ke&2)!==0&&Ue!==0)return Ue&-Ue;if(Y.T!==null){var t=Ra;return t!==0?t:Pd()}return li()}function f_(){Dn===0&&(Dn=(Ue&536870912)===0||qe?Ro():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Dn}function _n(t,r,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(za(t,0),Ii(t,Ue,Dn,!1)),Ar(t,a),((Ke&2)===0||t!==et)&&(t===et&&((Ke&2)===0&&(Ls|=a),ct===4&&Ii(t,Ue,Dn,!1)),mr(t))}function d_(t,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||us(t,r),h=l?kw(t,r):Dd(t,r,!0),d=l;do{if(h===0){Va&&!l&&Ii(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Dw(a)){h=Dd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(za(T,v).flags|=256),v=Dd(T,v,!1),v!==2){if(bd&&!I){T.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){za(t,0),Ii(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ii(l,r,Dn,!Ai);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Sd+300-En(),10<h)){if(Ii(l,r,Dn,!Ai),ra(l,0,!0)!==0)break e;l.timeoutHandle=q_(m_.bind(null,l,a,on,bc,Ad,r,Dn,Ls,La,Ai,d,2,-0,0),h);break e}m_(l,a,on,bc,Ad,r,Dn,Ls,La,Ai,d,0,-0,0)}}break}while(!0);mr(t)}function m_(t,r,a,l,h,d,v,T,I,q,$,Z,H,F){if(t.timeoutHandle=-1,Z=r.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:fA},o_(r),Z=mA(),Z!==null)){t.cancelPendingCommit=Z(T_.bind(null,t,r,d,a,l,h,v,T,I,$,1,H,F)),Ii(t,d,v,!q);return}T_(t,r,d,a,l,h,v,T,I)}function Dw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(t,r,a,l){r&=~wd,r&=~Ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Jn(t,a,r)}function wc(){return(Ke&6)===0?(_l(0),!1):!0}function Cd(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,Ur=Ds=null,Kf(t),Oa=null,ll=0,t=Oe;for(;t!==null;)Qy(t.alternate,t),t=t.return;Oe=null}}function za(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,$w(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cd(),et=t,Oe=a=Pr(t.current,null),Ue=r,Qe=0,gn=null,Ai=!1,Va=us(t,r),bd=!1,La=Dn=wd=Ls=Si=ct=0,on=gl=null,Ad=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return Kr=r,Gu(),a}function p_(t,r){Ie=null,Y.H=cc,r===Jo||r===ec?(r=Og(),Qe=3):r===Cg?(r=Og(),Qe=4):Qe=r===ky?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,Oe===null&&(ct=1,pc(t,Rn(r,t.current)))}function g_(){var t=Y.H;return Y.H=cc,t===null?cc:t}function y_(){var t=Y.A;return Y.A=Cw,t}function Nd(){ct=4,Ai||(Ue&4194048)!==Ue&&Nn.current!==null||(Va=!0),(Si&134217727)===0&&(Ls&134217727)===0||et===null||Ii(et,Ue,Dn,!1)}function Dd(t,r,a){var l=Ke;Ke|=2;var h=g_(),d=y_();(et!==t||Ue!==r)&&(bc=null,za(t,r)),r=!1;var v=ct;e:do try{if(Qe!==0&&Oe!==null){var T=Oe,I=gn;switch(Qe){case 8:Cd(),v=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(r=!0);var q=Qe;if(Qe=0,gn=null,Ba(t,T,I,q),a&&Va){v=0;break e}break;default:q=Qe,Qe=0,gn=null,Ba(t,T,I,q)}}Ow(),v=ct;break}catch($){p_(t,$)}while(!0);return r&&t.shellSuspendCounter++,Ur=Ds=null,Ke=l,Y.H=h,Y.A=d,Oe===null&&(et=null,Ue=0,Gu()),v}function Ow(){for(;Oe!==null;)__(Oe)}function kw(t,r){var a=Ke;Ke|=2;var l=g_(),h=y_();et!==t||Ue!==r?(bc=null,Tc=En()+500,za(t,r)):Va=us(t,r);e:do try{if(Qe!==0&&Oe!==null){r=Oe;var d=gn;t:switch(Qe){case 1:Qe=0,gn=null,Ba(t,r,d,1);break;case 2:case 9:if(Ng(d)){Qe=0,gn=null,v_(r);break}r=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),mr(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Ng(d)?(Qe=0,gn=null,v_(r)):(Qe=0,gn=null,Ba(t,r,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||ev(v)){Qe=0,gn=null;var I=T.sibling;if(I!==null)Oe=I;else{var q=T.return;q!==null?(Oe=q,Ac(q)):Oe=null}break t}}Qe=0,gn=null,Ba(t,r,d,5);break;case 6:Qe=0,gn=null,Ba(t,r,d,6);break;case 8:Cd(),ct=6;break e;default:throw Error(s(462))}}Mw();break}catch($){p_(t,$)}while(!0);return Ur=Ds=null,Y.H=l,Y.A=h,Ke=a,Oe!==null?0:(et=null,Ue=0,Gu(),ct)}function Mw(){for(;Oe!==null&&!bo();)__(Oe)}function __(t){var r=Gy(t.alternate,t,Kr);t.memoizedProps=t.pendingProps,r===null?Ac(t):Oe=r}function v_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=jy(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=jy(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Kf(r);default:Qy(a,r),r=Oe=Eg(r,Kr),r=Gy(a,r,Kr)}t.memoizedProps=t.pendingProps,r===null?Ac(t):Oe=r}function Ba(t,r,a,l){Ur=Ds=null,Kf(r),Oa=null,ll=0;var h=r.return;try{if(ww(t,h,r,a,Ue)){ct=1,pc(t,Rn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ct=1,pc(t,Rn(a,t.current)),Oe=null;return}r.flags&32768?(qe||l===1?t=!0:Va||(Ue&536870912)!==0?t=!1:(Ai=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),E_(r,t)):Ac(r)}function Ac(t){var r=t;do{if((r.flags&32768)!==0){E_(r,Ai);return}t=r.return;var a=Sw(r.alternate,r,Kr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ct===0&&(ct=5)}function E_(t,r){do{var a=Rw(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ct=6,Oe=null}function T_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Sc();while(zt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Tf,Io(t,a,d,v,T,I),t===et&&(Oe=et=null,Ue=0),Ua=r,xi=t,ja=a,Rd=d,xd=h,h_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Uw(ss,function(){return R_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,v=Ke,Ke|=4;try{xw(t,r,a)}finally{Ke=v,oe.p=h,Y.T=l}}zt=1,b_(),w_(),A_()}}function b_(){if(zt===1){zt=0;var t=xi,r=Ua,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{i_(r,t);var d=Hd,v=cg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&ug(T.ownerDocument.documentElement,T)){if(I!==null&&gf(T)){var q=I.start,$=I.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var Z=T.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var F=H.getSelection(),Te=T.textContent.length,_e=Math.min(I.start,Te),We=I.end===void 0?_e:Math.min(I.end,Te);!F.extend&&_e>We&&(v=We,We=_e,_e=v);var L=lg(T,_e),O=lg(T,We);if(L&&O&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var B=Z.createRange();B.setStart(L.node,L.offset),F.removeAllRanges(),_e>We?(F.addRange(B),F.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),F.addRange(B))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Lc=!!qd,Hd=qd=null}finally{Ke=h,oe.p=l,Y.T=a}}t.current=r,zt=2}}function w_(){if(zt===2){zt=0;var t=xi,r=Ua,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{e_(t,r.alternate,r)}finally{Ke=h,oe.p=l,Y.T=a}}zt=3}}function A_(){if(zt===4||zt===3){zt=0,Eu();var t=xi,r=Ua,a=ja,l=h_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Ua=xi=null,S_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ri=null),ia(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,oe.p=h}}(ja&3)!==0&&Sc(),mr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Id?yl++:(yl=0,Id=t):yl=0,_l(0)}}function S_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function Sc(t){return b_(),w_(),A_(),R_()}function R_(){if(zt!==5)return!1;var t=xi,r=Rd;Rd=0;var a=ia(ja),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=xd,xd=null;var d=xi,v=ja;if(zt=0,Ua=xi=null,ja=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,u_(d.current),a_(d,d.current,v,a),Ke=T,_l(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{oe.p=h,Y.T=l,S_(t,r)}}function x_(t,r,a){r=Rn(a,r),r=ad(t.stateNode,r,2),t=yi(t,r,2),t!==null&&(Ar(t,2),mr(t))}function Ze(t,r,a){if(t.tag===3)x_(t,t,a);else for(;r!==null;){if(r.tag===3){x_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){t=Rn(a,t),a=Dy(2),l=yi(r,a,2),l!==null&&(Oy(a,l,r,t),Ar(l,2),mr(l));break}}r=r.return}}function Od(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Nw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(bd=!0,h.add(a),t=Pw.bind(null,t,r,a),r.then(t,t))}function Pw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>En()-Sd?(Ke&2)===0&&za(t,0):wd|=a,La===Ue&&(La=0)),mr(t)}function I_(t,r){r===0&&(r=xo()),t=ba(t,r),t!==null&&(Ar(t,r),mr(t))}function Vw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),I_(t,a)}function Lw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),I_(t,a)}function Uw(t,r){return rs(t,r)}var Rc=null,qa=null,kd=!1,xc=!1,Md=!1,Us=0;function mr(t){t!==qa&&t.next===null&&(qa===null?Rc=qa=t:qa=qa.next=t),xc=!0,kd||(kd=!0,zw())}function _l(t,r){if(!Md&&xc){Md=!0;do for(var a=!1,l=Rc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,O_(l,d))}else d=Ue,d=ra(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,O_(l,d));l=l.next}while(a);Md=!1}}function jw(){C_()}function C_(){xc=kd=!1;var t=0;Us!==0&&(Yw()&&(t=Us),Us=0);for(var r=En(),a=null,l=Rc;l!==null;){var h=l.next,d=N_(l,r);d===0?(l.next=null,a===null?Rc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=h}_l(t)}function N_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=So(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=et,a=Ue,a=ra(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&is(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&is(l),ia(a)){case 2:case 8:a=ta;break;case 32:a=ss;break;case 268435456:a=na;break;default:a=ss}return l=D_.bind(null,t),a=rs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&is(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Sc()&&t.callbackNode!==a)return null;var l=Ue;return l=ra(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,r),N_(t,En()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function O_(t,r){if(Sc())return null;d_(t,r,!0)}function zw(){Xw(function(){(Ke&6)!==0?rs(wo,jw):C_()})}function Pd(){return Us===0&&(Us=Ro()),Us}function k_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ca(""+t)}function M_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Bw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=k_((h[gt]||null).action),v=l.submitter;v&&(r=(r=v[gt]||null)?k_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ha("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=v?M_(h,v):new FormData(h);td(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?M_(h,v):new FormData(h),td(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<Ef.length;Vd++){var Ld=Ef[Vd],qw=Ld.toLowerCase(),Hw=Ld[0].toUpperCase()+Ld.slice(1);zn(qw,"on"+Hw)}zn(dg,"onAnimationEnd"),zn(mg,"onAnimationIteration"),zn(pg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(aw,"onTransitionRun"),zn(ow,"onTransitionStart"),zn(lw,"onTransitionCancel"),zn(gg,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Un("onBeforeInput",["compositionend","keypress","textInput","paste"]),Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function P_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,q=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch($){mc($)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,q=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch($){mc($)}h.currentTarget=null,d=I}}}}function ke(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||(V_(r,t,2,!1),a.add(l))}function Ud(t,r,a){var l=0;r&&(l|=4),V_(a,t,l,r)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Ic]){t[Ic]=!0,Do.forEach(function(a){a!=="selectionchange"&&(Fw.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ic]||(r[Ic]=!0,Ud("selectionchange",!1,r))}}function V_(t,r,a,l){switch(av(r)){case 2:var h=yA;break;case 8:h=_A;break;default:h=Jd}a=h.bind(null,r,a,t),h=void 0,!An||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function zd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Sr(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Nu(function(){var q=d,$=wn(a),Z=[];e:{var H=yg.get(t);if(H!==void 0){var F=ha,Te=t;switch(t){case"keypress":if(sr(a)===0)break e;case"keydown":case"keyup":F=ya;break;case"focusin":Te="focus",F=ma;break;case"focusout":Te="blur",F=ma;break;case"beforeblur":case"afterblur":F=ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Uu;break;case dg:case mg:case pg:F=pa;break;case gg:F=zu;break;case"scroll":case"scrollend":F=Du;break;case"wheel":F=_a;break;case"copy":case"cut":case"paste":F=ga;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ho;break;case"toggle":case"beforetoggle":F=qu}var _e=(r&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),L=_e?H!==null?H+"Capture":null:H;_e=[];for(var O=q,B;O!==null;){var W=O;if(B=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||B===null||L===null||(W=ys(O,L),W!=null&&_e.push(El(O,W,B))),We)break;O=O.return}0<_e.length&&(H=new F(H,Te,null,a,$),Z.push({event:H,listeners:_e}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Cr&&(Te=a.relatedTarget||a.fromElement)&&(Sr(Te)||Te[Tn]))break e;if((F||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Te=a.relatedTarget||a.toElement,F=q,Te=Te?Sr(Te):null,Te!==null&&(We=u(Te),_e=Te.tag,Te!==We||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(F=null,Te=q),F!==Te)){if(_e=Sn,W="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ho,W="onPointerLeave",L="onPointerEnter",O="pointer"),We=F==null?H:tr(F),B=Te==null?H:tr(Te),H=new _e(W,O+"leave",F,a,$),H.target=We,H.relatedTarget=B,W=null,Sr($)===q&&(_e=new _e(L,O+"enter",Te,a,$),_e.target=B,_e.relatedTarget=We,W=_e),We=W,F&&Te)t:{for(_e=F,L=Te,O=0,B=_e;B;B=Ha(B))O++;for(B=0,W=L;W;W=Ha(W))B++;for(;0<O-B;)_e=Ha(_e),O--;for(;0<B-O;)L=Ha(L),B--;for(;O--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Ha(_e),L=Ha(L)}_e=null}else _e=null;F!==null&&L_(Z,H,F,_e,!1),Te!==null&&We!==null&&L_(Z,We,Te,_e,!0)}}e:{if(H=q?tr(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var he=ng;else if(At(H))if(rg)he=rw;else{he=tw;var De=ew}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Vo(q.elementType)&&(he=ng):he=nw;if(he&&(he=he(t,q))){Mr(Z,he,a,$);break e}De&&De(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&fi(H,"number",H.value)}switch(De=q?tr(q):window,t){case"focusin":(At(De)||De.contentEditable==="true")&&(va=De,yf=q,Ko=null);break;case"focusout":Ko=yf=va=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,hg(Z,a,$);break;case"selectionchange":if(sw)break;case"keydown":case"keyup":hg(Z,a,$)}var de;if(lr)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(de=Uo()):(ir=$,di="value"in ir?ir.value:ir.textContent,Ve=!0)),De=Cc(q,ve),0<De.length&&(ve=new Bo(ve,t,null,a,$),Z.push({event:ve,listeners:De}),de?ve.data=de:(de=se(a),de!==null&&(ve.data=de)))),(de=y?wt(t,a):Le(t,a))&&(ve=Cc(q,"onBeforeInput"),0<ve.length&&(De=new Bo("onBeforeInput","beforeinput",null,a,$),Z.push({event:De,listeners:ve}),De.data=de)),Bw(Z,t,q,a,$)}P_(Z,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Cc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(t,a),h!=null&&l.unshift(El(t,h,d)),h=ys(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,q=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||q===null||(I=q,h?(q=ys(a,d),q!=null&&v.unshift(El(a,q,I))):h||(q=ys(a,d),q!=null&&v.push(El(a,q,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Gw=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(Gw,`
`).replace(Kw,"")}function j_(t,r){return r=U_(r),U_(t)===r}function Nc(){}function Xe(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&bn(t,""+l);break;case"className":nr(t,"class",l);break;case"tabIndex":nr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(r!=="object"){nr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Xe(t,r,"name",h.name,h,null),Xe(t,r,"formEncType",h.formEncType,h,null),Xe(t,r,"formMethod",h.formMethod,h,null),Xe(t,r,"formTarget",h.formTarget,h,null)):(Xe(t,r,"encType",h.encType,h,null),Xe(t,r,"method",h.method,h,null),Xe(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,hi(t,a,l))}}function Bd(t,r,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hi(t,a,l)}}}function Bt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,d,v,a,null)}}h&&Xe(t,r,"srcSet",a.srcSet,a,null),l&&Xe(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var T=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":I=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Xe(t,r,l,$,a,null)}}ms(t,d,T,I,q,v,h,!1),ua(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ir(t,!!l,r,!1):a!=null&&Ir(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,r,v,T,a,null)}ps(t,l,h,d),ua(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,r,I,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)ke(vl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Xe(t,r,q,l,a,null)}return;default:if(Vo(r)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Bd(t,r,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,r,T,l,a,null))}function Qw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,q=null,$=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(F)||Xe(t,r,F,null,l,Z)}}for(var H in l){var F=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(F!=null||Z!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":$=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==Z&&Xe(t,r,H,F,l,Z)}}hn(t,v,T,I,q,$,d,h);return;case"select":F=v=T=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||Xe(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Xe(t,r,h,d,l,I)}r=T,a=v,l=F,H!=null?Ir(t,!!a,H,!1):!!l!=!!a&&(r!=null?Ir(t,!!a,r,!0):Ir(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,r,v,h,l,d)}Ye(t,H,F);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Xe(t,r,Te,null,l,H)}for(I in l)if(H=l[I],F=a[I],l.hasOwnProperty(I)&&H!==F&&(H!=null||F!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,r,I,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Xe(t,r,_e,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:Xe(t,r,q,H,l,F)}return;default:if(Vo(r)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Bd(t,r,We,void 0,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H===void 0&&F===void 0||Bd(t,r,$,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xe(t,r,L,null,l,H);for(Z in l)H=l[Z],F=a[Z],!l.hasOwnProperty(Z)||H===F||H==null&&F==null||Xe(t,r,Z,H,l,F)}var qd=null,Hd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Fd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Gd=null;function Yw(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,$w=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(Ww)}:q_;function Ww(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function F_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[cs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function Kd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Zw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Jw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function Qd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function eA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Yd=null;function G_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function K_(t,r,a){switch(r=Dc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ci(t)}var On=new Map,Q_=new Set;function Oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qr=oe.d;oe.d={f:tA,r:nA,D:rA,C:iA,L:sA,m:aA,X:lA,S:oA,M:uA};function tA(){var t=Qr.f(),r=wc();return t||r}function nA(t){var r=er(t);r!==null&&r.tag===5&&r.type==="form"?dy(r):Qr.r(t)}var Fa=typeof document>"u"?null:document;function Y_(t,r,a){var l=Fa;if(l&&typeof r=="string"&&r){var h=yt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Q_.has(h)||(Q_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",t),ft(r),l.head.appendChild(r)))}}function rA(t){Qr.D(t),Y_("dns-prefetch",t,null)}function iA(t,r){Qr.C(t,r),Y_("preconnect",t,r)}function sA(t,r,a){Qr.L(t,r,a);var l=Fa;if(l&&t&&r){var h='link[rel="preload"][as="'+yt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(r){case"style":d=Ga(t);break;case"script":d=Ka(t)}On.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),On.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),Bt(r,"link",t),ft(r),l.head.appendChild(r)))}}function aA(t,r){Qr.m(t,r);var a=Fa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},r),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Bt(l,"link",t),ft(l),a.head.appendChild(l)}}}function oA(t,r,a){Qr.S(t,r,a);var l=Fa;if(l&&t){var h=Zt(l).hoistableStyles,d=Ga(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=On.get(d))&&$d(t,a);var I=v=l.createElement("link");ft(I),Bt(I,"link",t),I._p=new Promise(function(q,$){I.onload=q,I.onerror=$}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function lA(t,r){Qr.X(t,r);var a=Fa;if(a&&t){var l=Zt(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},r),(r=On.get(h))&&Xd(t,r),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uA(t,r){Qr.M(t,r);var a=Fa;if(a&&t){var l=Zt(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=On.get(h))&&Xd(t,r),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $_(t,r,a,l){var h=(h=we.current)?Oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ga(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||cA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ka(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+yt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function X_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function cA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),ft(r),t.head.appendChild(r))}function Ka(t){return'[src="'+yt(t)+'"]'}function wl(t){return"script[async]"+t}function W_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return r.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Bt(l,"style",h),kc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,ft(d),d;l=X_(a),(h=On.get(h))&&$d(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,t),r.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(wl(d)))?(r.instance=h,ft(h),h):(l=a,(h=On.get(d))&&(l=E({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Bt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,t));return r.instance}function kc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function $d(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Xd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Mc=null;function Z_(t,r,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function J_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function hA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function fA(){}function dA(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ga(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ft(d);return}d=t.ownerDocument||t,a=X_(a),(h=On.get(h))&&$d(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function mA(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Wd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Wd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function Wd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,r.forEach(pA,t),Vc=null,Pc.call(t))}function pA(t,r){if(!(r.state.loading&4)){var a=Vc.get(t);if(a)var l=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Sl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function gA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function tv(t,r,a,l,h,d,v,T,I,q,$,Z){return t=new gA(t,r,a,v,T,I,q,Z),r=1,d===!0&&(r|=24),d=dn(3,null,null,r),t.current=d,d.stateNode=t,r=Of(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Vf(d),t}function nv(t){return t?(t=wa,t):wa}function rv(t,r,a,l,h,d){h=nv(h),l.context===null?l.context=h:l.pendingContext=h,l=gi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yi(t,l,r),a!==null&&(_n(a,t,r),tl(a,t,r))}function iv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Zd(t,r){iv(t,r),(t=t.alternate)&&iv(t,r)}function sv(t){if(t.tag===13){var r=ba(t,67108864);r!==null&&_n(r,t,67108864),Zd(t,67108864)}}var Lc=!0;function yA(t,r,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,Jd(t,r,a,l)}finally{oe.p=d,Y.T=h}}function _A(t,r,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,Jd(t,r,a,l)}finally{oe.p=d,Y.T=h}}function Jd(t,r,a,l){if(Lc){var h=em(l);if(h===null)zd(t,r,l,Uc,a),ov(t,l);else if(EA(h,t,r,a,l))l.stopPropagation();else if(ov(t,l),r&4&&-1<vA.indexOf(t)){for(;h!==null;){var d=er(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}mr(d),(Ke&6)===0&&(Tc=En()+500,_l(0))}}break;case 13:T=ba(d,2),T!==null&&_n(T,d,2),wc(),Zd(d,2)}if(d=em(l),d===null&&zd(t,r,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,r,l,null,a)}}function em(t){return t=wn(t),tm(t)}var Uc=null;function tm(t){if(Uc=null,t=Sr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Uc=t,null}function av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rf()){case wo:return 2;case ta:return 8;case ss:case sf:return 32;case na:return 268435456;default:return 32}default:return 32}}var nm=!1,Ni=null,Di=null,Oi=null,Rl=new Map,xl=new Map,ki=[],vA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ov(t,r){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=er(r),r!==null&&sv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function EA(t,r,a,l,h){switch(r){case"focusin":return Ni=Il(Ni,t,r,a,l,h),!0;case"dragenter":return Di=Il(Di,t,r,a,l,h),!0;case"mouseover":return Oi=Il(Oi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Il(xl.get(d)||null,t,r,a,l,h)),!0}return!1}function lv(t){var r=Sr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,wu(t.priority,function(){if(a.tag===13){var l=yn();l=oi(l);var h=ba(a,l);h!==null&&_n(h,a,l),Zd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Cr=l,a.target.dispatchEvent(l),Cr=null}else return r=er(a),r!==null&&sv(r),t.blockedOn=a,!1;r.shift()}return!0}function uv(t,r,a){jc(t)&&a.delete(r)}function TA(){nm=!1,Ni!==null&&jc(Ni)&&(Ni=null),Di!==null&&jc(Di)&&(Di=null),Oi!==null&&jc(Oi)&&(Oi=null),Rl.forEach(uv),xl.forEach(uv)}function zc(t,r){t.blockedOn===r&&(t.blockedOn=null,nm||(nm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TA)))}var Bc=null;function cv(t){Bc!==t&&(Bc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=er(a);d!==null&&(t.splice(r,3),r-=3,td(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(I){return zc(I,t)}Ni!==null&&zc(Ni,t),Di!==null&&zc(Di,t),Oi!==null&&zc(Oi,t),Rl.forEach(r),xl.forEach(r);for(var a=0;a<ki.length;a++){var l=ki[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ki.length&&(a=ki[0],a.blockedOn===null);)lv(a),a.blockedOn===null&&ki.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[gt]||null;if(typeof d=="function")v||cv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[gt]||null)T=v.formAction;else if(tm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),cv(a)}}}function rm(t){this._internalRoot=t}qc.prototype.render=rm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();rv(a,l,t,r,null,null)},qc.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;rv(t.current,2,null,t,null,null),wc(),r[Tn]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=li();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ki.length&&r!==0&&r<ki[a].priority;a++);ki.splice(a,0,t),a===0&&lv(t)}};var hv=e.version;if(hv!=="19.1.0")throw Error(s(527,hv,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var bA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{lt=Hc.inject(bA),Ge=Hc}catch{}}return Dl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Iy,v=Cy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=tv(t,1,!1,null,null,a,l,h,d,v,T,null),t[Tn]=r.current,jd(t),new rm(r)},Dl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,v=Iy,T=Cy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),r=tv(t,1,!0,r,a??null,l,h,d,v,T,I,q),r.context=nv(null),a=r.current,l=yn(),l=oi(l),h=gi(l),h.callback=null,yi(a,h,l),a=l,r.current.lanes=a,Ar(r,a),mr(r),t[Tn]=r.current,jd(t),new qc(r)},Dl.version="19.1.0",Dl}var Tv;function OA(){if(Tv)return am.exports;Tv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),am.exports=DA(),am.exports}var kA=OA();const MA=r0(kA);var Ol={},bv;function PA(){if(bv)return Ol;bv=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,M){const P=new u,Q=A.length;if(Q<2)return P;const G=(M==null?void 0:M.decode)||E;let X=0;do{const te=A.indexOf("=",X);if(te===-1)break;const ae=A.indexOf(";",X),pe=ae===-1?Q:ae;if(te>pe){X=A.lastIndexOf(";",te-1)+1;continue}const fe=m(A,X,te),Re=p(A,te,fe),k=A.slice(fe,Re);if(P[k]===void 0){let R=m(A,te+1,pe),x=p(A,pe,R);const D=G(A.slice(R,x));P[k]=D}X=pe+1}while(X<Q);return P}function m(A,M,P){do{const Q=A.charCodeAt(M);if(Q!==32&&Q!==9)return M}while(++M<P);return P}function p(A,M,P){for(;M>P;){const Q=A.charCodeAt(--M);if(Q!==32&&Q!==9)return M+1}return P}function g(A,M,P){const Q=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const G=Q(M);if(!e.test(G))throw new TypeError(`argument val is invalid: ${M}`);let X=A+"="+G;if(!P)return X;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);X+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);X+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);X+="; Path="+P.path}if(P.expires){if(!b(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);X+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(X+="; HttpOnly"),P.secure&&(X+="; Secure"),P.partitioned&&(X+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return X}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function b(A){return o.call(A)==="[object Date]"}return Ol}PA();var wv="popstate";function VA(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return UA(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LA(){return Math.random().toString(36).substring(2,10)}function Av(i,e){return{usr:i.state,key:i.key,idx:e}}function Am(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:n,key:e&&e.key||s||LA()}}function Gl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ho(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function UA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let G=E(),X=G==null?null:G-g;g=G,p&&p({action:m,location:Q.location,delta:X})}function A(G,X){m="PUSH";let te=Am(Q.location,G,X);g=E()+1;let ae=Av(te,g),pe=Q.createHref(te);try{f.pushState(ae,"",pe)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(pe)}u&&p&&p({action:m,location:Q.location,delta:1})}function M(G,X){m="REPLACE";let te=Am(Q.location,G,X);g=E();let ae=Av(te,g),pe=Q.createHref(te);f.replaceState(ae,"",pe),u&&p&&p({action:m,location:Q.location,delta:0})}function P(G){return jA(G)}let Q={get action(){return m},get location(){return i(o,f)},listen(G){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(wv,b),p=G,()=>{o.removeEventListener(wv,b),p=null}},createHref(G){return e(o,G)},createURL:P,encodeLocation(G){let X=P(G);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:A,replace:M,go(G){return f.go(G)}};return Q}function jA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),it(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Gl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function i0(i,e,n="/"){return zA(i,e,n,!1)}function zA(i,e,n,s){let o=typeof e=="string"?ho(e):e,u=Jr(o.pathname||"/",n);if(u==null)return null;let f=s0(i);BA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=ZA(u);m=XA(f[p],g,s)}return m}function s0(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),s0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:YA(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of a0(u.path))o(u,f,p)}),e}function a0(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=a0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function BA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:$A(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qA=/^:[\w-]+$/,HA=3,FA=2,GA=1,KA=10,QA=-2,Sv=i=>i==="*";function YA(i,e){let n=i.split("/"),s=n.length;return n.some(Sv)&&(s+=QA),e&&(s+=FA),n.filter(o=>!Sv(o)).reduce((o,u)=>o+(qA.test(u)?HA:u===""?GA:KA),s)}function $A(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function XA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Xr([u,b.pathname]),pathnameBase:nS(Xr([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=Xr([u,b.pathnameBase]))}return f}function uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=WA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},A)=>{if(E==="*"){let P=m[A]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const M=m[A];return b&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function WA(i,e=!1,n=!0){Fn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function ZA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Jr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function JA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ho(i):i;return{pathname:n?n.startsWith("/")?n:eS(n,e):e,search:rS(s),hash:iS(o)}}function eS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ep(i){let e=tS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tp(i,e,n,s=!1){let o;typeof i=="string"?o=ho(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=JA(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xr=i=>i.join("/").replace(/\/\/+/g,"/"),nS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),rS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,iS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function sS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var o0=["POST","PUT","PATCH","DELETE"];new Set(o0);var aS=["GET",...o0];new Set(aS);var fo=z.createContext(null);fo.displayName="DataRouter";var Nh=z.createContext(null);Nh.displayName="DataRouterState";var l0=z.createContext({isTransitioning:!1});l0.displayName="ViewTransition";var oS=z.createContext(new Map);oS.displayName="Fetchers";var lS=z.createContext(null);lS.displayName="Await";var $n=z.createContext(null);$n.displayName="Navigation";var iu=z.createContext(null);iu.displayName="Location";var Xn=z.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var np=z.createContext(null);np.displayName="RouteError";function uS(i,{relative:e}={}){it(mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext($n),{hash:o,pathname:u,search:f}=su(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function mo(){return z.useContext(iu)!=null}function Tr(){return it(mo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(iu).location}var u0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function c0(i){z.useContext($n).static||z.useLayoutEffect(i)}function Zi(){let{isDataRoute:i}=z.useContext(Xn);return i?AS():cS()}function cS(){it(mo(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(fo),{basename:e,navigator:n}=z.useContext($n),{matches:s}=z.useContext(Xn),{pathname:o}=Tr(),u=JSON.stringify(ep(s)),f=z.useRef(!1);return c0(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(Fn(f.current,u0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=tp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var hS=z.createContext(null);function fS(i){let e=z.useContext(Xn).outlet;return e&&z.createElement(hS.Provider,{value:i},e)}function su(i,{relative:e}={}){let{matches:n}=z.useContext(Xn),{pathname:s}=Tr(),o=JSON.stringify(ep(n));return z.useMemo(()=>tp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function dS(i,e){return h0(i,e)}function h0(i,e,n,s){var X;it(mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext($n),{matches:u}=z.useContext(Xn),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let te=E&&E.path||"";f0(p,!E||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let b=Tr(),A;if(e){let te=typeof e=="string"?ho(e):e;it(g==="/"||((X=te.pathname)==null?void 0:X.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${te.pathname}" was given in the \`location\` prop.`),A=te}else A=b;let M=A.pathname||"/",P=M;if(g!=="/"){let te=g.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice(te.length).join("/")}let Q=i0(i,{pathname:P});Fn(E||Q!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Fn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=_S(Q&&Q.map(te=>Object.assign({},te,{params:Object.assign({},m,te.params),pathname:Xr([g,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?g:Xr([g,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),u,n,s);return e&&G?z.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},G):G}function mS(){let i=wS(),e=sS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var pS=z.createElement(mS,null),gS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(Xn.Provider,{value:this.props.routeContext},z.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yS({routeContext:i,match:e,children:n}){let s=z.useContext(fo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Xn.Provider,{value:i},n)}function _S(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,A=!1,M=null,P=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,M=g.route.errorElement||pS,f&&(m<0&&E===0?(f0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,P=null):m===E&&(A=!0,P=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),G=()=>{let X;return b?X=M:A?X=P:g.route.Component?X=z.createElement(g.route.Component,null):g.route.element?X=g.route.element:X=p,z.createElement(yS,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:X})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(gS,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:G(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):G()},null)}function rp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(i){let e=z.useContext(fo);return it(e,rp(i)),e}function ES(i){let e=z.useContext(Nh);return it(e,rp(i)),e}function TS(i){let e=z.useContext(Xn);return it(e,rp(i)),e}function ip(i){let e=TS(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function bS(){return ip("useRouteId")}function wS(){var s;let i=z.useContext(np),e=ES("useRouteError"),n=ip("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function AS(){let{router:i}=vS("useNavigate"),e=ip("useNavigate"),n=z.useRef(!1);return c0(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Fn(n.current,u0),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Rv={};function f0(i,e,n){!e&&!Rv[i]&&(Rv[i]=!0,Fn(!1,n))}z.memo(SS);function SS({routes:i,future:e,state:n}){return h0(i,void 0,n,e)}function RS({to:i,replace:e,state:n,relative:s}){it(mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext($n);Fn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Xn),{pathname:f}=Tr(),m=Zi(),p=tp(i,ep(u),f,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function xS(i){return fS(i.context)}function kn(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ho(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:A="default"}=n,M=z.useMemo(()=>{let P=Jr(p,f);return P==null?null:{location:{pathname:P,search:g,hash:E,state:b,key:A},navigationType:s}},[f,p,g,E,b,A,s]);return Fn(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement($n.Provider,{value:m},z.createElement(iu.Provider,{children:e,value:M}))}function CS({children:i,location:e}){return dS(Sm(i),e)}function Sm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Sm(s.props.children,u));return}it(s.type===kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function Dh(i){return i!=null&&typeof i.tagName=="string"}function NS(i){return Dh(i)&&i.tagName.toLowerCase()==="button"}function DS(i){return Dh(i)&&i.tagName.toLowerCase()==="form"}function OS(i){return Dh(i)&&i.tagName.toLowerCase()==="input"}function kS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function MS(i,e){return i.button===0&&(!e||e==="_self")&&!kS(i)}var Fc=null;function PS(){if(Fc===null)try{new FormData(document.createElement("form"),0),Fc=!1}catch{Fc=!0}return Fc}var VS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(i){return i!=null&&!VS.has(i)?(Fn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):i}function LS(i,e){let n,s,o,u,f;if(DS(i)){let m=i.getAttribute("action");s=m?Jr(m,e):null,n=i.getAttribute("method")||Wc,o=hm(i.getAttribute("enctype"))||Zc,u=new FormData(i)}else if(NS(i)||OS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Jr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=hm(i.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||Zc,u=new FormData(m,i),!PS()){let{name:g,type:E,value:b}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(Dh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function sp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function US(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function zS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await US(u,n);return f.links?f.links():[]}return[]}));return FS(s.flat(1).filter(jS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function xv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function BS(i,e,{includeHydrateFallback:n}={}){return qS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function qS(i){return[...new Set(i)]}function HS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function FS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(HS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var GS=new Set([100,101,204,205]);function KS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Jr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function d0(){let i=z.useContext(fo);return sp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function QS(){let i=z.useContext(Nh);return sp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ap=z.createContext(void 0);ap.displayName="FrameworkContext";function m0(){let i=z.useContext(ap);return sp(i,"You must render this element inside a <HydratedRouter> element"),i}function YS(i,e){let n=z.useContext(ap),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=X=>{X.forEach(te=>{f(te.isIntersecting)})},G=new IntersectionObserver(Q,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[i]),z.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},P=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:kl(m,M),onBlur:kl(p,P),onMouseEnter:kl(g,M),onMouseLeave:kl(E,P),onTouchStart:kl(b,M)}]:[!1,A,{}]}function kl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function $S({page:i,...e}){let{router:n}=d0(),s=z.useMemo(()=>i0(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(WS,{page:i,matches:s,...e}):null}function XS(i){let{manifest:e,routeModules:n}=m0(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return zS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function WS({page:i,matches:e,...n}){let s=Tr(),{manifest:o,routeModules:u}=m0(),{basename:f}=d0(),{loaderData:m,matches:p}=QS(),g=z.useMemo(()=>xv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=z.useMemo(()=>xv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,Q=!1;if(e.forEach(X=>{var ae;let te=o.routes[X.route.id];!te||!te.hasLoader||(!g.some(pe=>pe.route.id===X.route.id)&&X.route.id in m&&((ae=u[X.route.id])!=null&&ae.shouldRevalidate)||te.hasClientLoader?Q=!0:P.add(X.route.id))}),P.size===0)return[];let G=KS(i,f);return Q&&P.size>0&&G.searchParams.set("_routes",e.filter(X=>P.has(X.route.id)).map(X=>X.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,g,e,i,u]),A=z.useMemo(()=>BS(E,o),[E,o]),M=XS(E);return z.createElement(z.Fragment,null,b.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),A.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:Q})=>z.createElement("link",{key:P,...Q})))}function ZS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var p0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{p0&&(window.__reactRouterVersion="7.6.1")}catch{}function JS({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=VA({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(IS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var g0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nn=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...A},M){let{basename:P}=z.useContext($n),Q=typeof g=="string"&&g0.test(g),G,X=!1;if(typeof g=="string"&&Q&&(G=g,p0))try{let x=new URL(window.location.href),D=g.startsWith("//")?new URL(x.protocol+g):new URL(g),V=Jr(D.pathname,P);D.origin===x.origin&&V!=null?g=V+D.search+D.hash:X=!0}catch{Fn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=uS(g,{relative:o}),[ae,pe,fe]=YS(s,A),Re=r1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function k(x){e&&e(x),x.defaultPrevented||Re(x)}let R=z.createElement("a",{...A,...fe,href:G||te,onClick:X||u?e:k,ref:ZS(M,pe),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ae&&!Q?z.createElement(z.Fragment,null,R,z.createElement($S,{page:te})):R});nn.displayName="Link";var e1=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=su(f,{relative:g.relative}),A=Tr(),M=z.useContext(Nh),{navigator:P,basename:Q}=z.useContext($n),G=M!=null&&l1(b)&&m===!0,X=P.encodeLocation?P.encodeLocation(b).pathname:b.pathname,te=A.pathname,ae=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),ae=ae?ae.toLowerCase():null,X=X.toLowerCase()),ae&&Q&&(ae=Jr(ae,Q)||ae);const pe=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let fe=te===X||!o&&te.startsWith(X)&&te.charAt(pe)==="/",Re=ae!=null&&(ae===X||!o&&ae.startsWith(X)&&ae.charAt(X.length)==="/"),k={isActive:fe,isPending:Re,isTransitioning:G},R=fe?e:void 0,x;typeof s=="function"?x=s(k):x=[s,fe?"active":null,Re?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(k):u;return z.createElement(nn,{...g,"aria-current":R,className:x,ref:E,style:D,to:f,viewTransition:m},typeof p=="function"?p(k):p)});e1.displayName="NavLink";var t1=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...A},M)=>{let P=a1(),Q=o1(m,{relative:g}),G=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&g0.test(m),te=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let pe=ae.nativeEvent.submitter,fe=(pe==null?void 0:pe.getAttribute("formmethod"))||f;P(pe||ae.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return z.createElement("form",{ref:M,method:G,action:Q,onSubmit:s?p:te,...A,"data-discover":!X&&i==="render"?"true":void 0})});t1.displayName="Form";function n1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y0(i){let e=z.useContext(fo);return it(e,n1(i)),e}function r1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Zi(),p=Tr(),g=su(i,{relative:u});return z.useCallback(E=>{if(MS(E,e)){E.preventDefault();let b=n!==void 0?n:Gl(p)===Gl(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var i1=0,s1=()=>`__${String(++i1)}__`;function a1(){let{router:i}=y0("useSubmit"),{basename:e}=z.useContext($n),n=bS();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=LS(s,e);if(o.navigate===!1){let E=o.fetcherKey||s1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function o1(i,{relative:e}={}){let{basename:n}=z.useContext($n),s=z.useContext(Xn);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(i||".",{relative:e})},f=Tr();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),Gl(u)}function l1(i,e={}){let n=z.useContext(l0);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=y0("useViewTransitionState"),o=su(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}[...GS];const u1=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},c1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},v0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(A=64)),s.push(n[E],n[b],n[A],n[M])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(_0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):c1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new h1;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),b!==64){const P=g<<6&192|b;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(i){const e=_0(i);return v0.encodeByteArray(e,!0)},ch=function(i){return f1(i).replace(/\./g,"")},E0=function(i){try{return v0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=()=>d1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof Iv>"u")return;const i=Iv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},g1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&E0(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return u1()||m1()||p1()||g1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},T0=i=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},y1=i=>{const e=T0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},b0=()=>{var i;return(i=Oh())===null||i===void 0?void 0:i.config},w0=i=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function T1(){var i;const e=(i=Oh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S1(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function R1(){return!T1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="FirebaseError";class Vn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=C1,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?N1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Vn(o,m,s)}}function N1(i,e){return i.replace(D1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const D1=/\{\$([^}]+)}/g;function O1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Bs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Cv(u)&&Cv(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ml(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function k1(i,e){const n=new M1(i,e);return n.subscribe.bind(n)}class M1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");P1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(i){return i&&i._delegate?i._delegate:i}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U1(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:L1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L1(i){return i===js?void 0:i}function U1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const z1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},B1=Me.INFO,q1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},H1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=q1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class op{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=H1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const F1=(i,e)=>e.some(n=>i instanceof n);let Nv,Dv;function G1(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return Dv||(Dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Rm=new WeakMap,S0=new WeakMap,dm=new WeakMap,lp=new WeakMap;function Q1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Bi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&A0.set(n,i)}).catch(()=>{}),lp.set(e,i),e}function Y1(i){if(Rm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Rm.set(i,e)}let xm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Rm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||S0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $1(i){xm=i(xm)}function X1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(mm(this),e,...n);return S0.set(s,e.sort?e.sort():[e]),Bi(s)}:K1().includes(i)?function(...e){return i.apply(mm(this),e),Bi(A0.get(this))}:function(...e){return Bi(i.apply(mm(this),e))}}function W1(i){return typeof i=="function"?X1(i):(i instanceof IDBTransaction&&Y1(i),F1(i,G1())?new Proxy(i,xm):i)}function Bi(i){if(i instanceof IDBRequest)return Q1(i);if(dm.has(i))return dm.get(i);const e=W1(i);return e!==i&&(dm.set(i,e),lp.set(e,i)),e}const mm=i=>lp.get(i);function Z1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Bi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Bi(f.result),p.oldVersion,p.newVersion,Bi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const J1=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],pm=new Map;function Ov(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=eR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||J1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}$1(i=>({...i,get:(e,n,s)=>Ov(e,n)||i.get(e,n,s),has:(e,n)=>!!Ov(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",kv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new op("@firebase/app"),rR="@firebase/app-compat",iR="@firebase/analytics-compat",sR="@firebase/analytics",aR="@firebase/app-check-compat",oR="@firebase/app-check",lR="@firebase/auth",uR="@firebase/auth-compat",cR="@firebase/database",hR="@firebase/data-connect",fR="@firebase/database-compat",dR="@firebase/functions",mR="@firebase/functions-compat",pR="@firebase/installations",gR="@firebase/installations-compat",yR="@firebase/messaging",_R="@firebase/messaging-compat",vR="@firebase/performance",ER="@firebase/performance-compat",TR="@firebase/remote-config",bR="@firebase/remote-config-compat",wR="@firebase/storage",AR="@firebase/storage-compat",SR="@firebase/firestore",RR="@firebase/vertexai",xR="@firebase/firestore-compat",IR="firebase",CR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",NR={[Im]:"fire-core",[rR]:"fire-core-compat",[sR]:"fire-analytics",[iR]:"fire-analytics-compat",[oR]:"fire-app-check",[aR]:"fire-app-check-compat",[lR]:"fire-auth",[uR]:"fire-auth-compat",[cR]:"fire-rtdb",[hR]:"fire-data-connect",[fR]:"fire-rtdb-compat",[dR]:"fire-fn",[mR]:"fire-fn-compat",[pR]:"fire-iid",[gR]:"fire-iid-compat",[yR]:"fire-fcm",[_R]:"fire-fcm-compat",[vR]:"fire-perf",[ER]:"fire-perf-compat",[TR]:"fire-rc",[bR]:"fire-rc-compat",[wR]:"fire-gcs",[AR]:"fire-gcs-compat",[SR]:"fire-fst",[xR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[IR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,DR=new Map,Nm=new Map;function Mv(i,e){try{i.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function no(i){const e=i.name;if(Nm.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,i);for(const n of hh.values())Mv(n,i);for(const n of DR.values())Mv(n,i);return!0}function up(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new au("app","Firebase",OR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=CR;function R0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(n||(n=b0()),!n)throw qi.create("no-options");const u=hh.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw qi.create("duplicate-app",{appName:o})}const f=new j1(o);for(const p of Nm.values())f.addComponent(p);const m=new kR(n,s,f);return hh.set(o,m),m}function x0(i=Cm){const e=hh.get(i);if(!e&&i===Cm&&b0())return R0();if(!e)throw qi.create("no-app",{appName:i});return e}function Hi(i,e,n){var s;let o=(s=NR[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(m.join(" "));return}no(new qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebase-heartbeat-database",PR=1,Kl="firebase-heartbeat-store";let gm=null;function I0(){return gm||(gm=Z1(MR,PR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(i=>{throw qi.create("idb-open",{originalErrorMessage:i.message})})),gm}async function VR(i){try{const n=(await I0()).transaction(Kl),s=await n.objectStore(Kl).get(C0(i));return await n.done,s}catch(e){if(e instanceof Vn)ei.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function Pv(i,e){try{const s=(await I0()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,C0(i)),await s.done}catch(n){if(n instanceof Vn)ei.warn(n.message);else{const s=qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(s.message)}}}function C0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1024,UR=30;class jR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Vv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>UR){const f=qR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ei.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vv(),{heartbeatsToSend:s,unsentEntries:o}=zR(this._heartbeatsCache.heartbeats),u=ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ei.warn(n),""}}}function Vv(){return new Date().toISOString().substring(0,10)}function zR(i,e=LR){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class BR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lv(i){return ch(JSON.stringify({version:2,heartbeats:i})).length}function qR(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(i){no(new qs("platform-logger",e=>new tR(e),"PRIVATE")),no(new qs("heartbeat",e=>new jR(e),"PRIVATE")),Hi(Im,kv,i),Hi(Im,kv,"esm2017"),Hi("fire-js","")}HR("");function cp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FR=N0,D0=new au("auth","Firebase",N0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh=new op("@firebase/auth");function GR(i,...e){fh.logLevel<=Me.WARN&&fh.warn(`Auth (${po}): ${i}`,...e)}function Jc(i,...e){fh.logLevel<=Me.ERROR&&fh.error(`Auth (${po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,...e){throw hp(i,...e)}function gr(i,...e){return hp(i,...e)}function O0(i,e,n){const s=Object.assign(Object.assign({},FR()),{[e]:n});return new au("auth","Firebase",s).create(e,{appName:i.name})}function Wr(i){return O0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return D0.create(i,...e)}function Ee(i,e,...n){if(!i)throw hp(e,...n)}function Yr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Jc(e),new Error(e)}function ti(i,e){i||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function KR(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KR()||w1()||"connection"in navigator)?navigator.onLine:!0}function YR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ti(n>e,"Short delay should be less than long delay!"),this.isMobile=E1()||A1()}get(){return QR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(i,e){ti(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new lu(3e4,6e4);function ii(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Wn(i,e,n,s,o={}){return M0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return b1()||(g.referrerPolicy="no-referrer"),k0.fetch()(await P0(i,i.config.apiHost,n,m),g)})}async function M0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},$R),e);try{const o=new JR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Gc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Gc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Gc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw O0(i,E,g);Gn(i,E)}}catch(o){if(o instanceof Vn)throw o;Gn(i,"network-request-failed",{message:String(o)})}}async function uu(i,e,n,s,o={}){const u=await Wn(i,e,n,s,o);return"mfaPendingCredential"in u&&Gn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function P0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?fp(i.config,o):`${i.config.apiScheme}://${o}`;return XR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function ZR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gr(this.auth,"network-request-failed")),WR.get())})}}function Gc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=gr(i,e,s);return o.customData._tokenResponse=n,o}function jv(i){return i!==void 0&&i.enterprise!==void 0}class ex{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tx(i,e){return Wn(i,"GET","/v2/recaptchaConfig",ii(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nx(i,e){return Wn(i,"POST","/v1/accounts:delete",e)}async function dh(i,e){return Wn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rx(i,e=!1){const n=ht(i),s=await n.getIdToken(e),o=dp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(ym(o.auth_time)),issuedAtTime:zl(ym(o.iat)),expirationTime:zl(ym(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(i){return Number(i)*1e3}function dp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=E0(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function zv(i){const e=dp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vn&&ix(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ix({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Hs(i,dh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?V0(u.providerUserInfo):[],m=ox(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function ax(i){const e=ht(i);await mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ox(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function V0(i){return i.map(e=>{var{providerId:n}=e,s=cp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(i,e){const n=await M0(i,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await P0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",k0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ux(i,e){return Wn(i,"POST","/v2/accounts:revokeToken",ii(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=zv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Za;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Za,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=cp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Hs(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rx(this,e)}reload(){return ax(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Hs(this,nx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,X=(g=n.createdAt)!==null&&g!==void 0?g:void 0,te=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:pe,isAnonymous:fe,providerData:Re,stsTokenManager:k}=n;Ee(ae&&k,e,"internal-error");const R=Za.fromJSON(this.name,k);Ee(typeof ae=="string",e,"internal-error"),Pi(b,e.name),Pi(A,e.name),Ee(typeof pe=="boolean",e,"internal-error"),Ee(typeof fe=="boolean",e,"internal-error"),Pi(M,e.name),Pi(P,e.name),Pi(Q,e.name),Pi(G,e.name),Pi(X,e.name),Pi(te,e.name);const x=new Hn({uid:ae,auth:e,email:A,emailVerified:pe,displayName:b,isAnonymous:fe,photoURL:P,phoneNumber:M,tenantId:Q,stsTokenManager:R,createdAt:X,lastLoginAt:te});return Re&&Array.isArray(Re)&&(x.providerData=Re.map(D=>Object.assign({},D))),G&&(x._redirectEventId=G),x}static async _fromIdTokenResponse(e,n,s=!1){const o=new Za;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?V0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Za;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=new Map;function $r(i){ti(i instanceof Function,"Expected a class definition");let e=Bv.get(i);return e?(ti(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Bv.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}L0.type="NONE";const qv=L0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(i,e,n){return`firebase:${i}:${e}:${n}`}class Ja{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ja($r(qv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$r(qv);const f=eh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const A=await dh(e,{idToken:E}).catch(()=>{});if(!A)break;b=await Hn._fromGetAccountInfoResponse(e,A,E)}else b=Hn._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ja(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Ja(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H0(e))return"Blackberry";if(F0(e))return"Webos";if(j0(e))return"Safari";if((e.includes("chrome/")||z0(e))&&!e.includes("edge/"))return"Chrome";if(q0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function U0(i=Wt()){return/firefox\//i.test(i)}function j0(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z0(i=Wt()){return/crios\//i.test(i)}function B0(i=Wt()){return/iemobile/i.test(i)}function q0(i=Wt()){return/android/i.test(i)}function H0(i=Wt()){return/blackberry/i.test(i)}function F0(i=Wt()){return/webos/i.test(i)}function mp(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function cx(i=Wt()){var e;return mp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hx(){return S1()&&document.documentMode===10}function G0(i=Wt()){return mp(i)||q0(i)||F0(i)||H0(i)||/windows phone/i.test(i)||B0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i,e=[]){let n;switch(i){case"Browser":n=Hv(Wt());break;case"Worker":n=`${Hv(Wt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(i,e={}){return Wn(i,"GET","/v2/passwordPolicy",ii(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=6;class px{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:mx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fv(this),this.idTokenSubscription=new Fv(this),this.beforeStateQueue=new fx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ja.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dh(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Wr(this));const n=e?ht(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dx(this),n=new px(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ux(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$r(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(i){return ht(i)}class Fv{constructor(e){this.auth=e,this.observer=null,this.addObserver=k1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yx(i){kh=i}function Q0(i){return kh.loadJS(i)}function _x(){return kh.recaptchaEnterpriseScript}function vx(){return kh.gapiScript}function Ex(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Tx{constructor(){this.enterprise=new bx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class bx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const wx="recaptcha-enterprise",Y0="NO_RECAPTCHA";class Ax{constructor(e){this.type=wx,this.auth=Ji(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{tx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new ex(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;jv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Y0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Tx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&jv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_x();p.length!==0&&(p+=m),Q0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Gv(i,e,n,s=!1,o=!1){const u=new Ax(i);let f;if(o)f=Y0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function ph(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Gv(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Gv(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(i,e){const n=up(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Gn(o,"already-initialized")}return n.initialize({options:e})}function Rx(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map($r);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function xx(i,e,n){const s=Ji(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=$0(e),{host:f,port:m}=Ix(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Bs(g,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Cx()}function $0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Ix(i){const e=$0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Kv(f)}}}function Kv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function Cx(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function Nx(i,e){return Wn(i,"POST","/v1/accounts:update",e)}async function Dx(i,e){return Wn(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ox(i,e){return uu(i,"POST","/v1/accounts:signInWithPassword",ii(i,e))}async function kx(i,e){return Wn(i,"POST","/v1/accounts:sendOobCode",ii(i,e))}async function Mx(i,e){return kx(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(i,e){return uu(i,"POST","/v1/accounts:signInWithEmailLink",ii(i,e))}async function Vx(i,e){return uu(i,"POST","/v1/accounts:signInWithEmailLink",ii(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends pp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ql(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ql(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,n,"signInWithPassword",Ox);case"emailLink":return Px(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,s,"signUpPassword",Dx);case"emailLink":return Vx(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(i,e){return uu(i,"POST","/v1/accounts:signInWithIdp",ii(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="http://localhost";class Fs extends pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=cp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,eo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:Lx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jx(i){const e=Ml(Pl(i)).link,n=e?Ml(Pl(e)).deep_link_id:null,s=Ml(Pl(i)).deep_link_id;return(s?Ml(Pl(s)).link:null)||s||n||e||i}class gp{constructor(e){var n,s,o,u,f,m;const p=Ml(Pl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=Ux((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=jx(e);try{return new gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.providerId=Ys.PROVIDER_ID}static credential(e,n){return Ql._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=gp.parseLink(n);return Ee(s,"argument-error"),Ql._fromEmailAndCode(e,s.code,s.tenantId)}}Ys.PROVIDER_ID="password";Ys.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ys.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends cu{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Li.credential(n,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends cu{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends cu{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ji.credential(n,s)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(i,e){return uu(i,"POST","/v1/accounts:signUp",ii(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),f=Qv(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Qv(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Qv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends Vn{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function W0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(i,u,e,s):u})}async function Bx(i,e,n=!1){const s=await Hs(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Gs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z0(i,e,n=!1){const{auth:s}=i;if(Mn(s.app))return Promise.reject(Wr(s));const o="reauthenticate";try{const u=await Hs(i,W0(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=dp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Gs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Gn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J0(i,e,n=!1){if(Mn(i.app))return Promise.reject(Wr(i));const s="signIn",o=await W0(i,s,e),u=await Gs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function qx(i,e){return J0(Ji(i),e)}async function Hx(i,e){return Z0(ht(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eT(i){const e=Ji(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Fx(i,e,n){const s=Ji(i);await ph(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Mx)}async function Gx(i,e,n){if(Mn(i.app))return Promise.reject(Wr(i));const s=Ji(i),f=await ph(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&eT(i),p}),m=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Kx(i,e,n){return Mn(i.app)?Promise.reject(Wr(i)):qx(ht(i),Ys.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(i,e){return Wn(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ht(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Hs(s,Qx(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function $x(i,e){return Xx(ht(i),null,e)}async function Xx(i,e,n){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const f=await Hs(i,Nx(s,u));await i._updateTokensIfNecessary(f,!0)}function Wx(i,e,n,s){return ht(i).onIdTokenChanged(e,n,s)}function Zx(i,e,n){return ht(i).beforeAuthStateChanged(e,n)}function Jx(i,e,n,s){return ht(i).onAuthStateChanged(e,n,s)}function eI(i){return ht(i).signOut()}async function tI(i){return ht(i).delete()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=1e3,rI=10;class nT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);hx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,rI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nT.type="LOCAL";const iI=nT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rT.type="SESSION";const iT=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Mh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await sI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=yp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function oI(i){yr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function lI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function cI(){return sT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",hI=1,_h="firebaseLocalStorage",oT="fbase_key";class hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(i,e){return i.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function fI(){const i=indexedDB.deleteDatabase(aT);return new hu(i).toPromise()}function km(){const i=indexedDB.open(aT,hI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(_h,{keyPath:oT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await fI(),e(await km()))})})}async function Yv(i,e,n){const s=Ph(i,!0).put({[oT]:e,value:n});return new hu(s).toPromise()}async function dI(i,e){const n=Ph(i,!1).get(e),s=await new hu(n).toPromise();return s===void 0?null:s.value}function $v(i,e){const n=Ph(i,!0).delete(e);return new hu(n).toPromise()}const mI=800,pI=3;class lT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(cI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lI(),!this.activeServiceWorker)return;this.sender=new aI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await Yv(e,yh,"1"),await $v(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$v(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ph(o,!1).getAll();return new hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lT.type="LOCAL";const gI=lT;new lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i,e){return e?$r(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p extends pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _I(i){return J0(i.auth,new _p(i),i.bypassAuthState)}function vI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),Z0(n,new _p(i),i.bypassAuthState)}async function EI(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),Bx(n,new _p(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _I;case"linkViaPopup":case"linkViaRedirect":return EI;case"reauthViaPopup":case"reauthViaRedirect":return vI;default:Gn(this.auth,"internal-error")}}resolve(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new lu(2e3,1e4);class Wa extends uT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ti(this.filter.length===1,"Popup operations only handle one event");const e=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TI.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="pendingRedirect",th=new Map;class wI extends uT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const s=await AI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AI(i,e){const n=xI(e),s=RI(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function SI(i,e){th.set(i._key(),e)}function RI(i){return $r(i._redirectPersistence)}function xI(i){return eh(bI,i.config.apiKey,i.name)}async function II(i,e,n=!1){if(Mn(i.app))return Promise.reject(Wr(i));const s=Ji(i),o=yI(s,e),f=await new wI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=10*60*1e3;class NI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!cT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xv(e))}saveEventToCache(e){this.cachedEventUids.add(Xv(e)),this.lastProcessedEventTime=Date.now()}}function Xv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function cT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(i,e={}){return Wn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MI=/^https?/;async function PI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await OI(i);for(const n of e)try{if(VI(n))return}catch{}Gn(i,"unauthorized-domain")}function VI(i){const e=Dm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!MI.test(n))return!1;if(kI.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new lu(3e4,6e4);function Wv(){const i=yr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function UI(i){return new Promise((e,n)=>{var s,o,u;function f(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(gr(i,"network-request-failed"))},timeout:LI.get()})}if(!((o=(s=yr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yr().gapi)===null||u===void 0)&&u.load)f();else{const m=Ex("iframefcb");return yr()[m]=()=>{gapi.load?f():n(gr(i,"network-request-failed"))},Q0(`${vx()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw nh=null,e})}let nh=null;function jI(i){return nh=nh||UI(i),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new lu(5e3,15e3),BI="__/auth/iframe",qI="emulator/auth/iframe",HI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GI(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?fp(e,qI):`https://${i.config.authDomain}/${BI}`,s={apiKey:e.apiKey,appName:i.name,v:po},o=FI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function KI(i){const e=await jI(i),n=yr().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:GI(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=gr(i,"network-request-failed"),m=yr().setTimeout(()=>{u(f)},zI.get());function p(){yr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YI=500,$I=600,XI="_blank",WI="http://localhost";class Zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZI(i,e,n,s=YI,o=$I){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},QI),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Wt().toLowerCase();n&&(m=z0(g)?XI:n),U0(g)&&(e=e||WI,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[M,P])=>`${A}${M}=${P},`,"");if(cx(g)&&m!=="_self")return JI(e||"",m),new Zv(null);const b=window.open(e||"",m,E);Ee(b,i,"popup-blocked");try{b.focus()}catch{}return new Zv(b)}function JI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="__/auth/handler",tC="emulator/auth/handler",nC=encodeURIComponent("fac");async function Jv(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof X0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",O1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof cu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${nC}=${encodeURIComponent(p)}`:"";return`${rC(i)}?${ou(m).slice(1)}${g}`}function rC({config:i}){return i.emulator?fp(i,tC):`https://${i.authDomain}/${eC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="webStorageSupport";class iC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=II,this._overrideRedirectResult=SI}async _openPopup(e,n,s,o){var u;ti((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Jv(e,n,s,Dm(),o);return ZI(e,f,yp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Jv(e,n,s,Dm(),o);return oI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ti(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await KI(e),s=new NI(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_m,{type:_m},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[_m];f!==void 0&&n(!!f),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return G0()||j0()||mp()}}const sC=iC;var eE="@firebase/auth",tE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lC(i){no(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(i)},g=new gx(s,o,u,p);return Rx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),no(new qs("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(s=>new aC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(eE,tE,oC(i)),Hi(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=5*60,cC=w0("authIdTokenMaxAge")||uC;let nE=null;const hC=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>cC)return;const o=n==null?void 0:n.token;nE!==o&&(nE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function si(i=x0()){const e=up(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Sx(i,{popupRedirectResolver:sC,persistence:[gI,iI,iT]}),s=w0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=hC(u.toString());Zx(n,f,()=>f(n.currentUser)),Wx(n,m=>f(m))}}const o=T0("auth");return o&&xx(n,`http://${o}`),n}function fC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}yx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=gr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",fC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lC("Browser");var dC="firebase",mC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hi(dC,mC,"app");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fi,hT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function x(){}x.prototype=R.prototype,k.D=R.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(D,V,U){for(var C=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)C[Vt-2]=arguments[Vt];return R.prototype[V].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,x){x||(x=0);var D=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)D[V]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(V=0;16>V;++V)D[V]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=k.g[0],x=k.g[1],V=k.g[2];var U=k.g[3],C=R+(U^x&(V^U))+D[0]+3614090360&4294967295;R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+D[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+D[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+D[3]+3250441966&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+D[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+D[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+D[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+D[7]+4249261313&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+D[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+D[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+D[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+D[11]+2304563134&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(U^x&(V^U))+D[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=U+(V^R&(x^V))+D[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=V+(x^U&(R^x))+D[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=x+(R^V&(U^R))+D[15]+1236535329&4294967295,x=V+(C<<22&4294967295|C>>>10),C=R+(V^U&(x^V))+D[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+D[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+D[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+D[0]+3921069994&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+D[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+D[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+D[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+D[4]+3889429448&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+D[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+D[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+D[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+D[8]+1163531501&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(V^U&(x^V))+D[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=U+(x^V&(R^x))+D[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=V+(R^x&(U^R))+D[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=x+(U^R&(V^U))+D[12]+2368359562&4294967295,x=V+(C<<20&4294967295|C>>>12),C=R+(x^V^U)+D[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+D[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+D[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+D[14]+4259657740&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+D[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+D[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+D[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+D[10]+3200236656&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+D[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+D[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+D[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+D[6]+76029189&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(x^V^U)+D[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=U+(R^x^V)+D[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=V+(U^R^x)+D[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=x+(V^U^R)+D[2]+3299628645&4294967295,x=V+(C<<23&4294967295|C>>>9),C=R+(V^(x|~U))+D[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+D[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+D[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+D[5]+4237533241&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+D[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+D[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+D[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+D[1]+2240044497&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+D[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+D[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+D[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+D[13]+1309151649&4294967295,x=V+(C<<21&4294967295|C>>>11),C=R+(V^(x|~U))+D[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=U+(x^(R|~V))+D[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=V+(R^(U|~x))+D[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=x+(U^(V|~R))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+U&4294967295}s.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var x=R-this.blockSize,D=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=x;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<R;)if(D[V++]=k.charCodeAt(U++),V==this.blockSize){o(this,D),V=0;break}}else for(;U<R;)if(D[V++]=k[U++],V==this.blockSize){o(this,D),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var x=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=x&255,x/=256;for(this.u(k),k=Array(16),R=x=0;4>R;++R)for(var D=0;32>D;D+=8)k[x++]=this.g[R]>>>D&255;return k};function u(k,R){var x=m;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=R(k)}function f(k,R){this.h=R;for(var x=[],D=!0,V=k.length-1;0<=V;V--){var U=k[V]|0;D&&U==R||(x[V]=U,D=!1)}this.g=x}var m={};function p(k){return-128<=k&&128>k?u(k,function(R){return new f([R|0],0>R?-1:0)}):new f([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return G(g(-k));for(var R=[],x=1,D=0;k>=x;D++)R[D]=k/x|0,x*=4294967296;return new f(R,0)}function E(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return G(E(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),D=b,V=0;V<k.length;V+=8){var U=Math.min(8,k.length-V),C=parseInt(k.substring(V,V+U),R);8>U?(U=g(Math.pow(R,U)),D=D.j(U).add(g(C))):(D=D.j(x),D=D.add(g(C)))}return D}var b=p(0),A=p(1),M=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-G(this).m();for(var k=0,R=1,x=0;x<this.g.length;x++){var D=this.i(x);k+=(0<=D?D:4294967296+D)*R,R*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(Q(this))return"-"+G(this).toString(k);for(var R=g(Math.pow(k,6)),x=this,D="";;){var V=pe(x,R).g;x=X(x,V.j(R));var U=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=V,P(x))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function Q(k){return k.h==-1}i.l=function(k){return k=X(this,k),Q(k)?-1:P(k)?0:1};function G(k){for(var R=k.g.length,x=[],D=0;D<R;D++)x[D]=~k.g[D];return new f(x,~k.h).add(A)}i.abs=function(){return Q(this)?G(this):this},i.add=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],D=0,V=0;V<=R;V++){var U=D+(this.i(V)&65535)+(k.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);D=C>>>16,U&=65535,C&=65535,x[V]=C<<16|U}return new f(x,x[x.length-1]&-2147483648?-1:0)};function X(k,R){return k.add(G(R))}i.j=function(k){if(P(this)||P(k))return b;if(Q(this))return Q(k)?G(this).j(G(k)):G(G(this).j(k));if(Q(k))return G(this.j(G(k)));if(0>this.l(M)&&0>k.l(M))return g(this.m()*k.m());for(var R=this.g.length+k.g.length,x=[],D=0;D<2*R;D++)x[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<k.g.length;V++){var U=this.i(D)>>>16,C=this.i(D)&65535,Vt=k.i(V)>>>16,ot=k.i(V)&65535;x[2*D+2*V]+=C*ot,te(x,2*D+2*V),x[2*D+2*V+1]+=U*ot,te(x,2*D+2*V+1),x[2*D+2*V+1]+=C*Vt,te(x,2*D+2*V+1),x[2*D+2*V+2]+=U*Vt,te(x,2*D+2*V+2)}for(D=0;D<R;D++)x[D]=x[2*D+1]<<16|x[2*D];for(D=R;D<2*R;D++)x[D]=0;return new f(x,0)};function te(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function ae(k,R){this.g=k,this.h=R}function pe(k,R){if(P(R))throw Error("division by zero");if(P(k))return new ae(b,b);if(Q(k))return R=pe(G(k),R),new ae(G(R.g),G(R.h));if(Q(R))return R=pe(k,G(R)),new ae(G(R.g),R.h);if(30<k.g.length){if(Q(k)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var x=A,D=R;0>=D.l(k);)x=fe(x),D=fe(D);var V=Re(x,1),U=Re(D,1);for(D=Re(D,2),x=Re(x,2);!P(D);){var C=U.add(D);0>=C.l(k)&&(V=V.add(x),U=C),D=Re(D,1),x=Re(x,1)}return R=X(k,V.j(R)),new ae(V,R)}for(V=b;0<=k.l(R);){for(x=Math.max(1,Math.floor(k.m()/R.m())),D=Math.ceil(Math.log(x)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(x),C=U.j(R);Q(C)||0<C.l(k);)x-=D,U=g(x),C=U.j(R);P(U)&&(U=A),V=V.add(U),k=X(k,C)}return new ae(V,k)}i.A=function(k){return pe(this,k).h},i.and=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],D=0;D<R;D++)x[D]=this.i(D)&k.i(D);return new f(x,this.h&k.h)},i.or=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],D=0;D<R;D++)x[D]=this.i(D)|k.i(D);return new f(x,this.h|k.h)},i.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),x=[],D=0;D<R;D++)x[D]=this.i(D)^k.i(D);return new f(x,this.h^k.h)};function fe(k){for(var R=k.g.length+1,x=[],D=0;D<R;D++)x[D]=k.i(D)<<1|k.i(D-1)>>>31;return new f(x,k.h)}function Re(k,R){var x=R>>5;R%=32;for(var D=k.g.length-x,V=[],U=0;U<D;U++)V[U]=0<R?k.i(U+x)>>>R|k.i(U+x+1)<<32-R:k.i(U+x);return new f(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Fi=f}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fT,Vl,dT,rh,Mm,mT,pT,gT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in _))break e;_=_[j]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,j={next:function(){if(!w&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,A.apply(null,arguments)}function M(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function P(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,j,K){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return y.prototype[j].apply(w,se)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function G(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const j=c.length||0,K=w.length||0;c.length=j+K;for(let se=0;se<K;se++)c[j+se]=w[se]}else c.push(w)}}class X{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var fe=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Re(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function R(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(_ in w)c[_]=w[_];for(let K=0;K<x.length;K++)_=x[K],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,_){const w=ot.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var ot=new X(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,Be=new Vt,N=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ne(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{pe(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}P(Ne,ie);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Zn(c,y,_,w,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=j,this.key=++Je,this.da=this.fa=!1}function ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function br(c){this.src=c,this.g={},this.h=0}br.prototype.add=function(c,y,_,w,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=rs(c,y,w,j);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Zn(y,this.src,K,!!w,j),y.fa=_,c.push(y)),y};function ns(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],j=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=j)&&Array.prototype.splice.call(w,j,1),K&&(ai(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function rs(c,y,_,w){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==w)return j}return-1}var is="closure_lm_"+(1e6*Math.random()|0),bo={};function Eu(c,y,_,w,j){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Eu(c,y[K],_,w,j);return null}return _=Tu(_),c&&c[Ct]?c.K(y,_,g(w)?!!w.capture:!1,j):En(c,y,_,!1,w,j)}function En(c,y,_,w,j,K){if(!y)throw Error("Invalid event type");var se=g(j)?!!j.capture:!!j,Ve=na(c);if(Ve||(c[is]=Ve=new br(c)),_=Ve.add(y,_,w,se,K),_.proxy)return _;if(w=rf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ye||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),w,j);else if(c.attachEvent)c.attachEvent(ss(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function rf(){function c(_){return y.call(c.src,c.listener,_)}const y=sf;return c}function wo(c,y,_,w,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)wo(c,y[K],_,w,j);else w=g(w)?!!w.capture:!!w,_=Tu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=rs(K,_,w,j),-1<_&&(ai(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=na(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,_,w,j)),(_=-1<c?y[c]:null)&&ta(_))}function ta(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])ns(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ss(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=na(y))?(ns(_,c),_.h==0&&(_.src=null,y[is]=null)):ai(c)}}}function ss(c){return c in bo?bo[c]:bo[c]="on"+c}function sf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&ta(c),c=_.call(w,y)}return c}function na(c){return c=c[is],c instanceof br?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function lt(){le.call(this),this.i=new br(this),this.M=this,this.F=null}P(lt,le),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(c,y,_,w){wo(this,c,y,_,w)};function Ge(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var j=y;y=new ie(w,c),D(y,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var se=y.g=_[K];j=cn(se,w,!0,y)&&j}if(se=y.g=c,j=cn(se,w,!0,y)&&j,j=cn(se,w,!1,y)&&j,_)for(K=0;K<_.length;K++)se=y.g=_[K],j=cn(se,w,!1,y)&&j}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)ai(_[w]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},lt.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function cn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==_){var Ve=se.listener,wt=se.ha||se.src;se.fa&&ns(c.i,se),j=Ve.call(wt,w)!==!1&&j}}return j&&!w.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function bu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class af extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){le.call(this),this.h=c,this.g={}}P(as,le);var os=[];function ls(c){Re(c.g,function(y,_){this.g.hasOwnProperty(_)&&ta(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,ra=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function xo(){}var wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ie.call(this,"d")}P(Ar,ie);function Io(){ie.call(this,"c")}P(Io,ie);var Jn={},Co=null;function oi(){return Co=Co||new lt}Jn.La="serverreachability";function ia(c){ie.call(this,Jn.La,c)}P(ia,ie);function li(c){const y=oi();Ge(y,new ia(y))}Jn.STAT_EVENT="statevent";function wu(c,y){ie.call(this,Jn.STAT_EVENT,c),this.stat=y}P(wu,ie);function nt(c){const y=oi();Ge(y,new wu(y,c))}Jn.Ma="timingevent";function bt(c,y){ie.call(this,Jn.Ma,c),this.size=y}P(bt,ie);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function No(c,y,_,w,j,K){c.info(function(){if(c.g)if(K)for(var se="",Ve=K.split("&"),wt=0;wt<Ve.length;wt++){var Le=Ve[wt].split("=");if(1<Le.length){var Dt=Le[0];Le=Le[1];var At=Dt.split("_");se=2<=At.length&&At[1]=="type"?se+(Dt+"="+Le+"&"):se+(Dt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+y+`
`+_+`
`+se})}function of(c,y,_,w,j,K,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+y+`
`+_+`
`+K+" "+se})}function ui(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,_)+(w?" "+w:"")})}function Au(c,y){c.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<j.length;se++)j[se]=""}}}}return Ln(_)}catch{return y}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},er;function tr(){}P(tr,So),tr.prototype.g=function(){return new XMLHttpRequest},tr.prototype.i=function(){return{}},er=new tr;function Zt(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Do={},sa={};function Un(c,y,_){c.L=1,c.v=ps(hn(y)),c.m=_,c.P=!0,Rr(c,null)}function Rr(c,y){c.F=Date.now(),hs(c),c.A=hn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Lo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ft,c.g=zu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new af(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(os[0]=j.toString()),j=os);for(var K=0;K<j.length;K++){var se=Eu(_,j[K],w||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),li(),No(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Sn(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const At=Sn(this.g);var y=this.g.Ba();const Mr=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||Ou(this.g)))){this.J||At!=4||y==7||(y==8||0>=Mr?li(3):li(2)),hi(this);var _=this.g.Z();this.X=_;t:if(Su(this)){var w=Ou(this.g);c="";var j=w.length,K=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),nr(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==j-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,of(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,wt=this.g;if((Ve=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ve)){var Le=Ve;break t}}Le=null}if(_=Le)ui(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,nt(12),Lt(this),nr(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=Ru(this,se),Ut==sa){At==4&&(this.s=4,nt(14),_=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Do){this.s=4,nt(15),ui(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else ui(this.i,this.l,Ut,null),fs(this,Ut);if(Su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||se.length!=0||this.h.h||(this.s=1,nt(16),_=!1),this.o=this.o&&_,!_)ui(this.i,this.l,se,"[Invalid Chunked Response]"),Lt(this),nr(this);else if(0<se.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),ws(Dt),Dt.M=!0,nt(11))}}else ui(this.i,this.l,se,null),fs(this,se);At==4&&Lt(this),this.o&&!this.J&&(At==4?Lu(this.j,this):(this.o=!1,hs(this)))}else ff(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Lt(this),nr(this)}}}catch{}finally{}};function Su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ru(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?sa:(_=Number(y.substring(_,w)),isNaN(_)?Do:(w+=1,w+_>y.length?sa:(y=y.slice(w,w+_),c.C=w+_,y)))}Zt.prototype.cancel=function(){this.J=!0,Lt(this)};function hs(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(A(c.ba,c),y)}function hi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Au(this.i,this.A),this.L!=2&&(li(),nt(17)),Lt(this),this.s=2,nr(this)):xu(this,this.S-c)};function nr(c){c.j.G==0||c.J||Lu(c.j,c)}function Lt(c){hi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Oo(_.h,c))){if(!c.K&&Oo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ya(_),pa(_);else break e;qo(_),nt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=gt(A(_.Za,_),6e3));if(1>=oa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else kr(_,11)}else if((c.K||_.g==c)&&ya(_),!te(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Le=j[y];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Dt=Le[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const At=Le[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Mr=Le[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(w=1.5*Mr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ut=c.g;if(Ut){const ur=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ur){var K=w.h;K.g||ur.indexOf("spdy")==-1&&ur.indexOf("quic")==-1&&ur.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(la(K,K.h),K.h=null))}if(w.D){const Fo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(w.ya=Fo,Ye(w.I,w.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=c;if(w.qa=ju(w,w.J?w.ia:null,w.W),se.K){Jt(w.h,se);var Ve=se,wt=w.L;wt&&(Ve.I=wt),Ve.B&&(hi(Ve),hs(Ve)),w.g=se}else Pu(w);0<_.i.length&&ga(_)}else Le[0]!="stop"&&Le[0]!="close"||kr(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?kr(_,7):zo(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}li(4)}catch{}}var Iu=class{constructor(c,y){this.g=c,this.map=y}};function xr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function oa(c){return c.h?1:c.g?c.g.size:0}function Oo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function la(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xr.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ko(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function lf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function ua(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Mo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ua(c),w=lf(c),j=w.length,K=0;K<j;K++)y.call(void 0,w[K],_&&_[K],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),j=null;if(0<=w){var K=c[_].substring(0,w);j=c[_].substring(w+1)}else K=c[_];y(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var y=c.i,_=new Cr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ir(this,_),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=bn(y[2]||""),this.g=bn(y[3]||"",!0),fi(this,y[4]),this.l=bn(y[5]||"",!0),Ir(this,y[6]||"",!0),this.m=bn(y[7]||"")):(this.h=!1,this.i=new Cr(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,Po,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?cf:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,ca)),c.join("")};function hn(c){return new yt(c)}function ms(c,y,_){c.j=_?bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ir(c,y,_){y instanceof Cr?(c.i=y,Nu(c.i,c.h)):(_||(y=gs(y,hf)),c.i=new Cr(y,c.h))}function Ye(c,y,_){c.i.set(y,_)}function ps(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Cu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Vo=/[#\?:]/g,cf=/[#\?]/g,hf=/[#\?@]/g,ca=/#/g;function Cr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function wn(c){c.g||(c.g=new Map,c.h=0,c.i&&uf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Cr.prototype,i.add=function(c,y){wn(this),this.i=null,c=rr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Nr(c,y){wn(c),y=rr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Dr(c,y){return wn(c),y=rr(c,y),c.g.has(y)}i.forEach=function(c,y){wn(this),this.g.forEach(function(_,w){_.forEach(function(j){c.call(y,j,w,this)},this)},this)},i.na=function(){wn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const j=c[w];for(let K=0;K<j.length;K++)_.push(y[w])}return _},i.V=function(c){wn(this);let y=[];if(typeof c=="string")Dr(this,c)&&(y=y.concat(this.g.get(rr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return wn(this),this.i=null,c=rr(this,c),Dr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Lo(c,y,_){Nr(c,y),0<_.length&&(c.i=null,c.g.set(rr(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const K=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var j=K;se[w]!==""&&(j+="="+encodeURIComponent(String(se[w]))),c.push(j)}}return this.i=c.join("&")};function rr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Nu(c,y){y&&!c.j&&(wn(c),c.i=null,c.g.forEach(function(_,w){var j=w.toLowerCase();w!=j&&(Nr(this,w),Lo(this,j,_))},c)),c.j=y}function ys(c,y){const _=new Tn;if(m.Image){const w=new Image;w.onload=M(An,_,"TestLoadImage: loaded",!0,y,w),w.onerror=M(An,_,"TestLoadImage: error",!1,y,w),w.onabort=M(An,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=M(An,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function jn(c,y){const _=new Tn,w=new AbortController,j=setTimeout(()=>{w.abort(),An(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(j),K.ok?An(_,"TestPingServer: ok",!0,y):An(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),An(_,"TestPingServer: error",!1,y)})}function An(c,y,_,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(_)}catch{}}function _s(){this.g=new us}function ir(c,y,_){const w=_||"";try{Mo(c,function(j,K){let se=j;g(j)&&(se=Ln(j)),y.push(w+K+"="+encodeURIComponent(se))})}catch(j){throw y.push(w+"type="+encodeURIComponent("_badmap")),j}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}P(di,So),di.prototype.g=function(){return new Or(this.l,this.j)},di.prototype.i=function(c){return function(){return c}}({});function Or(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Or,lt),i=Or.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ar(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?sr(this):ar(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,sr(this))},i.Qa=function(c){this.g&&(this.response=c,sr(this))},i.ga=function(){this.g&&sr(this)};function sr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ar(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let y="";return Re(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Nt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ye(c,y,_))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(He,lt);var ha=/^https?$/i,vs=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():er.g(),this.v=this.o?Ro(this.o):Ro(er),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Du(this,K);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)_.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())_.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,y,void 0))||w||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Du(this,K)}};function Du(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,fa(c),or(c)}function fa(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),or(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?da(this):this.bb())},i.bb=function(){da(this)};function da(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)Gt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=se===0){var j=String(c.D).match(ds)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!ha.test(j?j.toLowerCase():"")}_=w}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var K=2<Sn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",fa(c)}}finally{or(c)}}}}function or(c,y){if(c.g){Es(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{_.onreadystatechange=w}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ra(y)}};function Ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ff(c){const y={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(te(c[w]))continue;var _=V(c[w]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[j]||[];y[j]=K,K.push(_)}k(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function ma(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ma.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){nt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ju(this,null,this.W),ga(this)};function zo(c){if(ku(c),c.G==3){var y=c.U++,_=hn(c.I);if(Ye(_,"SID",c.K),Ye(_,"RID",y),Ye(_,"TYPE","terminate"),bs(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=ps(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}Uu(c)}function pa(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function ku(c){pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ya(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ga(c){if(!aa(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||N(),me||(oe(),me=!0),Be.add(y,c),c.B=0}}function df(c,y){return oa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(A(c.Ga,c,y),Ho(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Zt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Mu(this,j,y),_=hn(this.I),Ye(_,"RID",c),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),bs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(jo(K)))+"&"+y:this.m&&Nt(_,this.m,K)),la(this.h,j),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",y),Ye(_,"SID","null"),j.T=!0,Un(j,_,null)):Un(j,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||aa(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const w=hn(c.I);Ye(w,"SID",c.K),Ye(w,"RID",_),Ye(w,"AID",c.T),bs(c,w),c.m&&c.o&&Nt(w,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Mu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),la(c.h,_),Un(_,w,y)}function bs(c,y){c.H&&Re(c.H,function(_,w){Ye(y,w,_)}),c.l&&Mo({},function(_,w){Ye(y,w,_)})}function Mu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=j[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Ve=!0;for(let wt=0;wt<_;wt++){let Le=j[wt].g;const Dt=j[wt].map;if(Le-=K,0>Le)K=Math.max(0,j[wt].g-100),Ve=!1;else try{ir(Dt,se,"req"+Le+"_")}catch{w&&w(Dt)}}if(Ve){w=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Pu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||N(),me||(oe(),me=!0),Be.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(A(c.Fa,c),Ho(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),pa(this),Vu(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Vu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),bs(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(hn(y)),_.m=null,_.P=!0,Rr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,pa(this),qo(this),nt(19))};function ya(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){ya(c),ws(c),c.g=null;var w=2}else if(Oo(c.h,y))_=y.D,Jt(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;w=oi(),Ge(w,new bt(w,_)),ga(c)}else Pu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(w==1&&df(c,y)||w==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:kr(c,5);break;case 4:kr(c,10);break;case 3:kr(c,6);break;default:kr(c,2)}}}function Ho(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function kr(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),w=c.Xa;const j=!w;w=new yt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(w,"https"),ps(w),j?ys(w.toString(),_):jn(w.toString(),_)}else nt(2);c.G=0,c.l&&c.l.sa(y),Uu(c),ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Uu(c){if(c.G=0,c.ka=[],c.l){const y=ko(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ka,y),G(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function ju(c,y,_){var w=_ instanceof yt?hn(_):new yt(_);if(w.g!="")y&&(w.g=y+"."+w.g),fi(w,w.s);else{var j=m.location;w=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var K=new yt(null);w&&ms(K,w),y&&(K.g=y),j&&fi(K,j),_&&(K.l=_),w=K}return _=c.D,y=c.ya,_&&y&&Ye(w,_,y),Ye(w,"VER",c.la),bs(c,w),w}function zu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new di({eb:_})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}i=Bu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function _a(){}_a.prototype.g=function(c,y){return new en(c,y)};function en(c,y){lt.call(this),this.g=new ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!te(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!te(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new lr(this)}P(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){zo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ln(c),c=_);y.i.push(new Iu(y.Ya++,c)),y.G==3&&ga(y)},en.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,en.aa.N.call(this)};function qu(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(qu,Ar);function Hu(){Io.call(this),this.status=1}P(Hu,Io);function lr(c){this.g=c}P(lr,Bu),lr.prototype.ua=function(){Ge(this.g,"a")},lr.prototype.ta=function(c){Ge(this.g,new qu(c))},lr.prototype.sa=function(c){Ge(this.g,new Hu)},lr.prototype.ra=function(){Ge(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,gT=function(){return new _a},pT=function(){return oi()},mT=Jn,Mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,rh=ci,Sr.COMPLETE="complete",dT=Sr,xo.EventType=wr,wr.OPEN="a",wr.CLOSE="b",wr.ERROR="c",wr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Vl=xo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,fT=He}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",sE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new op("@firebase/firestore");function Qa(){return Ks.logLevel}function ue(i,...e){if(Ks.logLevel<=Me.DEBUG){const n=e.map(vp);Ks.debug(`Firestore (${go}): ${i}`,...n)}}function ni(i,...e){if(Ks.logLevel<=Me.ERROR){const n=e.map(vp);Ks.error(`Firestore (${go}): ${i}`,...n)}}function ro(i,...e){if(Ks.logLevel<=Me.WARN){const n=e.map(vp);Ks.warn(`Firestore (${go}): ${i}`,...n)}}function vp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+i;throw ni(e),new Error(e)}function Fe(i,e){i||be()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class gC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yC{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new yT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new $t(e)}}class _C{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new _C(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new aE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=TC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Pm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=_T(),f=bC(u.encode(oE(i,n)),u.encode(oE(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function oE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function bC(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function io(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*uE);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lE)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new xt(0,0))}static max(){return new Ae(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class pr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=pr.isNumericId(e),o=pr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pr.extractNumericId(e).compare(pr.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fi.fromString(e.substring(4,e.length-2))}}class tt extends pr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends pr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return wC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new Ht([cE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function AC(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new Ki(o,ge.empty(),e)}function SC(i){return new Ki(i.readTime,i.key,Yl)}class Ki{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ki(Ae.min(),ge.empty(),Yl)}static max(){return new Ki(Ae.max(),ge.empty(),Yl)}}function RC(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==xC)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function CC(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function Lh(i){return i==null}function vh(i){return i===0&&1/i==-1/0}function NC(i){return typeof i=="number"&&Number.isInteger(i)&&!vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="";function DC(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=hE(e)),e=OC(i.get(n),e);return hE(e)}function OC(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ET:n+="";break;default:n+=u}}return n}function hE(i){return i+ET+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function TT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new vn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const kC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(i){if(Fe(!!i),typeof i=="string"){let e=0;const n=kC.exec(i);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yi(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="server_timestamp",AT="__type__",ST="__previous_value__",RT="__local_write_time__";function Tp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[AT])===null||n===void 0?void 0:n.stringValue)===wT}function Uh(i){const e=i.mapValue.fields[ST];return Tp(e)?Uh(e):e}function $l(i){const e=Qi(i.mapValue.fields[RT].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const Eh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||Eh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Eh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__type__",PC="__max__",Yc={mapValue:{}},IT="__vector__",Th="value";function $i(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Tp(i)?4:LC(i)?9007199254740991:VC(i)?10:11:be()}function Er(i,e){if(i===e)return!0;const n=$i(i);if(n!==$i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return $l(i).isEqual($l(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qi(o.timestampValue),m=Qi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Yi(o.bytesValue).isEqual(Yi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return io(i.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fE(f)!==fE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Er(f[p],m[p])))return!1;return!0}(i,e);default:return be()}}function Wl(i,e){return(i.values||[]).find(n=>Er(n,e))!==void 0}function so(i,e){if(i===e)return 0;const n=$i(i),s=$i(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return mE(i.timestampValue,e.timestampValue);case 4:return mE($l(i),$l(e));case 5:return Pm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Yi(u),p=Yi(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(pt(u.latitude),pt(f.latitude));return m!==0?m:Ce(pt(u.longitude),pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return pE(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const b=u.fields||{},A=f.fields||{},M=(m=b[Th])===null||m===void 0?void 0:m.arrayValue,P=(p=A[Th])===null||p===void 0?void 0:p.arrayValue,Q=Ce(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:pE(M,P)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const A=Pm(p[b],E[b]);if(A!==0)return A;const M=so(m[p[b]],g[E[b]]);if(M!==0)return M}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function mE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Qi(i),s=Qi(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function pE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function ao(i){return Vm(i)}function Vm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Yi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Vm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Vm(n.fields[f])}`;return o+"}"}(i.mapValue):be()}function ih(i){switch($i(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(i);return e?16+ih(e):16;case 5:return 2*i.stringValue.length;case 6:return Yi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ih(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+ih(f)}),o}(i.mapValue);default:throw be()}}function gE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lm(i){return!!i&&"integerValue"in i}function bp(i){return!!i&&"arrayValue"in i}function yE(i){return!!i&&"nullValue"in i}function _E(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sh(i){return!!i&&"mapValue"in i}function VC(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||n===void 0?void 0:n.stringValue)===IT}function Bl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function LC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===PC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(Bl(this.value))}}function CT(i){const e=[];return es(i.fields,(n,s)=>{const o=new Ht([n]);if(sh(s)){const u=CT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ae.min(),Ae.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ae.min(),Ae.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function vE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function EE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Er(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n="asc"){this.field=e,this.dir=n}}function UC(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{}class Tt extends NT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new zC(e,n,s):n==="array-contains"?new HC(e,s):n==="in"?new FC(e,s):n==="not-in"?new GC(e,s):n==="array-contains-any"?new KC(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new BC(e,s):new qC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(so(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends NT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Kn(e,n)}matches(e){return DT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function DT(i){return i.op==="and"}function OT(i){return jC(i)&&DT(i)}function jC(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function Um(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+ao(i.value);if(OT(i))return i.filters.map(e=>Um(e)).join(",");{const e=i.filters.map(n=>Um(n)).join(",");return`${i.op}(${e})`}}function kT(i,e){return i instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(i,e):i instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&kT(f,o.filters[m]),!0):!1}(i,e):void be()}function MT(i){return i instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(MT).join(" ,")+"}"}(i):"Filter"}class zC extends Tt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class BC extends Tt{constructor(e,n){super(e,"in",n),this.keys=PT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qC extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=PT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class HC extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bp(n)&&Wl(n.arrayValue,this.value)}}class FC extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class GC extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class KC extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function TE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new QC(i,e,n,s,o,u,f)}function wp(i){const e=Se(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Um(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ao(s)).join(",")),e.le=n}return e.le}function Ap(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!UC(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!kT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!EE(i.startAt,e.startAt)&&EE(i.endAt,e.endAt)}function jm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function YC(i,e,n,s,o,u,f,m){return new fu(i,e,n,s,o,u,f,m)}function Sp(i){return new fu(i)}function bE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function VT(i){return i.collectionGroup!==null}function ql(i){const e=Se(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new wh(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new wh(Ht.keyField(),s))}return e.he}function _r(i){const e=Se(i);return e.Pe||(e.Pe=$C(e,ql(i))),e.Pe}function $C(i,e){if(i.limitType==="F")return TE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wh(o.field,u)});const n=i.endAt?new bh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new bh(i.startAt.position,i.startAt.inclusive):null;return TE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function zm(i,e){const n=i.filters.concat([e]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Bm(i,e,n){return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function jh(i,e){return Ap(_r(i),_r(e))&&i.limitType===e.limitType}function LT(i){return`${wp(_r(i))}|lt:${i.limitType}`}function Ya(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>MT(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(_r(i))}; limitType=${i.limitType})`}function zh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=vE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,ql(s),o)||s.endAt&&!function(f,m,p){const g=vE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,ql(s),o))}(i,e)}function XC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function UT(i){return(e,n)=>{let s=!1;for(const o of ql(i)){const u=WC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WC(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?so(p,g):be()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new at(ge.comparator);function ri(){return ZC}const jT=new at(ge.comparator);function Ll(...i){let e=jT;for(const n of i)e=e.insert(n.key,n);return e}function zT(i){let e=jT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zs(){return Hl()}function BT(){return Hl()}function Hl(){return new $s(i=>i.toString(),(i,e)=>i.isEqual(e))}const JC=new at(ge.comparator),e2=new It(ge.comparator);function Pe(...i){let e=e2;for(const n of i)e=e.add(n);return e}const t2=new It(Ce);function n2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function qT(i){return{integerValue:""+i}}function r2(i,e){return NC(e)?qT(e):Rp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function i2(i,e,n){return i instanceof Zl?function(o,u){const f={fields:{[AT]:{stringValue:wT},[RT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Tp(u)&&(u=Uh(u)),u&&(f.fields[ST]=u),{mapValue:f}}(n,e):i instanceof Jl?FT(i,e):i instanceof eu?GT(i,e):function(o,u){const f=HT(o,u),m=wE(f)+wE(o.Ie);return Lm(f)&&Lm(o.Ie)?qT(m):Rp(o.serializer,m)}(i,e)}function s2(i,e,n){return i instanceof Jl?FT(i,e):i instanceof eu?GT(i,e):n}function HT(i,e){return i instanceof Ah?function(s){return Lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Zl extends Bh{}class Jl extends Bh{constructor(e){super(),this.elements=e}}function FT(i,e){const n=KT(e);for(const s of i.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends Bh{constructor(e){super(),this.elements=e}}function GT(i,e){let n=KT(e);for(const s of i.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class Ah extends Bh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function wE(i){return pt(i.integerValue||i.doubleValue)}function KT(i){return bp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e,n){this.field=e,this.transform=n}}function o2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?io(s.elements,o.elements,Er):s instanceof Ah&&o instanceof Ah?Er(s.Ie,o.Ie):s instanceof Zl&&o instanceof Zl}(i.transform,e.transform)}class l2{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ah(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class qh{}function QT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new xp(i.key,Pn.none()):new du(i.key,i.data,Pn.none());{const n=i.data,s=un.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(i.key,s,new vn(o.toArray()),Pn.none())}}function u2(i,e,n){i instanceof du?function(o,u,f){const m=o.value.clone(),p=SE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ts?function(o,u,f){if(!ah(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=SE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(YT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof du?function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=u.value.clone(),E=RE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ts?function(u,f,m,p){if(!ah(u.precondition,f))return m;const g=RE(u.fieldTransforms,p,f),E=f.data;return E.setAll(YT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,f,m){return ah(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function c2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=HT(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function AE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&io(s,o,(u,f)=>o2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class du extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YT(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function SE(i,e,n){const s=new Map;Fe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,s2(f,m,n[o]))}return s}function RE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,i2(u,f,e))}return s}class xp extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h2 extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&u2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=BT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=QT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,(n,s)=>AE(n,s))&&io(this.baseMutations,e.baseMutations,(n,s)=>AE(n,s))}}class Ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length);let o=function(){return JC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function p2(i){switch(i){case ee.OK:return be();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be()}}function $T(i){if(i===void 0)return ni("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Et.OK:return ee.OK;case Et.CANCELLED:return ee.CANCELLED;case Et.UNKNOWN:return ee.UNKNOWN;case Et.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Et.INTERNAL:return ee.INTERNAL;case Et.UNAVAILABLE:return ee.UNAVAILABLE;case Et.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Et.NOT_FOUND:return ee.NOT_FOUND;case Et.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Et.ABORTED:return ee.ABORTED;case Et.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Et.DATA_LOSS:return ee.DATA_LOSS;default:return be()}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=new Fi([4294967295,4294967295],0);function xE(i){const e=_T().encode(i),n=new hT;return n.update(e),new Uint8Array(n.digest())}function IE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fi([n,s],0),new Fi([o,u],0)]}class Cp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Fi.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Fi.fromNumber(s)));return o.compare(g2)===1&&(o=new Fi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=xE(e),[s,o]=IE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Cp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=xE(e),[s,o]=IE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(Ae.min(),o,new at(Ce),ri(),Pe())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class XT{constructor(e,n){this.targetId=e,this.ge=n}}class WT{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class CE{constructor(){this.pe=0,this.ye=NE(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new mu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=NE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class y2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ri(),this.$e=$c(),this.Ue=$c(),this.Ke=new at(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(jm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Xt.newNoDocument(f,Ae.min()))}else Fe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yi(s).toUint8Array()}catch(p){if(p instanceof bT)return ro("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Cp(f,o,u)}catch(p){return ro(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&jm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ke,this.Qe,s);return this.Qe=ri(),this.$e=$c(),this.Ue=$c(),this.Ke=new at(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new CE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new It(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new It(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new CE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function $c(){return new at(ge.comparator)}function NE(){return new at(ge.comparator)}const _2={asc:"ASCENDING",desc:"DESCENDING"},v2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class T2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function qm(i,e){return i.useProto3Json||Lh(e)?e:{value:e}}function Sh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function b2(i,e){return Sh(i,e.toTimestamp())}function vr(i){return Fe(!!i),Ae.fromTimestamp(function(n){const s=Qi(n);return new xt(s.seconds,s.nanos)}(i))}function Np(i,e){return Hm(i,e).canonicalString()}function Hm(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function JT(i){const e=tt.fromString(i);return Fe(ib(e)),e}function Fm(i,e){return Np(i.databaseId,e.path)}function vm(i,e){const n=JT(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(tb(n))}function eb(i,e){return Np(i.databaseId,e)}function w2(i){const e=JT(i);return e.length===4?tt.emptyPath():tb(e)}function Gm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tb(i){return Fe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function DE(i,e,n){return{name:Fm(i,e),fields:n.value.mapValue.fields}}function A2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:$T(g.code);return new ce(E,g.message||"")}(f);n=new WT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=vm(i,s.document.name),u=vr(s.document.updateTime),f=s.document.createTime?vr(s.document.createTime):Ae.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new oh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=vm(i,s.document),u=s.readTime?vr(s.readTime):Ae.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new oh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=vm(i,s.document),u=s.removedTargetIds||[];n=new oh([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new m2(o,u),m=s.targetId;n=new XT(m,f)}}return n}function S2(i,e){let n;if(e instanceof du)n={update:DE(i,e.key,e.value)};else if(e instanceof xp)n={delete:Fm(i,e.key)};else if(e instanceof ts)n={update:DE(i,e.key,e.data),updateMask:M2(e.fieldMask)};else{if(!(e instanceof h2))return be();n={verify:Fm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:b2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),n}function R2(i,e){return i&&i.length>0?(Fe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?vr(o.updateTime):vr(u);return f.isEqual(Ae.min())&&(f=vr(u)),new l2(f,o.transformResults||[])}(n,e))):[]}function x2(i,e){return{documents:[eb(i,e.path)]}}function I2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eb(i,o);const u=function(g){if(g.length!==0)return rb(Kn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:$a(A.field),direction:D2(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=qm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function C2(i){let e=w2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const A=nb(b);return A instanceof Kn&&OT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(A=>function(P){return new wh(Xa(P.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(b){let A;return A=typeof b=="object"?b.value:b,Lh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(b){const A=!!b.before,M=b.values||[];return new bh(M,A)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const A=!b.before,M=b.values||[];return new bh(M,A)}(n.endAt)),YC(e,o,f,u,m,"F",p,g)}function N2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Xa(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Xa(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xa(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(n){return Tt.create(Xa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>nb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(i):be()}function D2(i){return _2[i]}function O2(i){return v2[i]}function k2(i){return E2[i]}function $a(i){return{fieldPath:i.canonicalString()}}function Xa(i){return Ht.fromServerFormat(i.fieldPath)}function rb(i){return i instanceof Tt?function(n){if(n.op==="=="){if(_E(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_E(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:O2(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(o=>rb(o));return s.length===1?s[0]:{compositeFilter:{op:k2(n.op),filters:s}}}(i):be()}function M2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ib(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.Tt=e}}function V2(i){const e=C2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.Tn=new U2}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Ki.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Ki.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class U2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sb=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(sb,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new oo(0)}static Kn(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",j2=1048576;function ME([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class z2{constructor(e){this.Hn=e,this.buffer=new It(ME),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ME(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(kE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ue(kE,"Ignoring IndexedDB error during garbage collection: ",n):await yo(n)}await this.er(3e5)})}}class q2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Vh.ae);const s=new z2(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(OE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Qa()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function H2(i,e){return new q2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new $s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,vn.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ll();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ri();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Fl(E.mutation,g,E.mutation.getFieldMask(),xt.now())):f.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new G2(E,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new at((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=BT();E.forEach(A=>{if(!u.has(A)){const M=QT(n.get(A),s.get(A));M!==null&&b.set(A,M),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(zs());let m=Yl,p=u;return f.next(g=>J.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(E=>({batchId:m,changes:zT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(b,A){return new fu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,A)=>{f=f.insert(b,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Ll();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Fl(E.mutation,g,vn.empty(),xt.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:V2(o.bundledQuery),readTime:vr(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new d2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Vr=new It(Pt.mr),this.gr=new It(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Pt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ge(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Pt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new f2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ep:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ce);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ge(u),0);let m=new It(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=ri();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ri();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||RC(SC(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Z2(this)}getSize(e){return J.resolve(this.size)}}class Z2 extends F2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.persistence=e,this.Qr=new $s(n=>wp(n),Ap),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dp,this.targetCount=0,this.Kr=oo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Vh(0),this.zr=!1,this.zr=!0,this.jr=new $2,this.referenceDelegate=e(this),this.Hr=new J2(this),this.indexManager=new L2,this.remoteDocumentCache=function(o){return new W2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new P2(n),this.Yr=new Q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new X2(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new eN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class eN extends IC{constructor(e){super(),this.currentSequenceNumber=e}}class Op{constructor(e){this.persistence=e,this.ti=new Dp,this.ni=null}static ri(e){return new Op(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.oi=new $s(s=>DC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=H2(this,n)}static ri(e,n){return new Rh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return R1()?8:CC(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Qa()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Qa()<=Me.DEBUG&&ue("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Qa()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):J.resolve())}rs(e,n){if(bE(n))return J.resolve(null);let s=_r(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Bm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return bE(n)||o.isEqual(Ae.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(Qa()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(n)),this.hs(e,f,n,AC(o,Yl)).next(m=>m))})}cs(e,n){let s=new It(UT(e));return n.forEach((o,u)=>{zh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Qa()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.ns.getDocumentsMatchingQuery(e,n,Ki.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",rN=3e8;class iN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ce),this.Is=new $s(u=>wp(u),Ap),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function sN(i,e,n,s){return new iN(i,e,n,s)}async function ob(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function aN(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,A=b.keys();let M=J.resolve();return A.forEach(P=>{M=M.next(()=>E.getEntry(p,P)).next(Q=>{const G=g.docVersions.get(P);Fe(G!==null),Q.version.compareTo(G)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function lb(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function oN(i,e){const n=Se(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,b)=>{const A=o.get(b);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,b)));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(b,M),function(Q,G,X){return Q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=rN?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(A,M,E)&&m.push(n.Hr.updateTargetData(u,M))});let p=ri(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(lN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function lN(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ri();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Mp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function uN(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cN(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new zi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Km(i,e,n){const s=Se(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!_o(f))throw f;ue(Mp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function PE(i,e,n){const s=Se(i);let o=Ae.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const b=Se(p),A=b.Is.get(E);return A!==void 0?J.resolve(b.Ts.get(A)):b.Hr.getTargetData(g,E)}(s,f,_r(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Pe())).next(m=>(hN(s,XC(e),m),{documents:m,gs:u})))}function hN(i,e,n){let s=i.Es.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class VE{constructor(){this.activeTargetIds=n2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.ho=new VE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new VE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class UE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Qm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Eh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Qm(),m=this.bo(e,n.toUriEncodedString());ue(Em,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(Em,`Received RPC '${e}' ${f}: `,g),g),g=>{throw ro(Em,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=mN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class yN extends pN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Qm();return new Promise((f,m)=>{const p=new fT;p.setWithCredentials(!0),p.listenOnce(dT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const E=p.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case rh.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),m(new ce(ee.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const b=p.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const P=function(G){const X=G.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(X)>=0?X:ee.UNKNOWN}(M.status);m(new ce(P,M.message))}else m(new ce(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(ee.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Qm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=gT(),m=pT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);let A=!1,M=!1;const P=new gN({Fo:G=>{M?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Mo:()=>b.close()}),Q=(G,X,te)=>{G.listen(X,ae=>{try{te(ae)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Q(b,Vl.EventType.OPEN,()=>{M||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),Q(b,Vl.EventType.CLOSE,()=>{M||(M=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),Q(b,Vl.EventType.ERROR,G=>{M||(M=!0,ro(Yt,`RPC '${e}' stream ${o} transport errored:`,G),P.Uo(new ce(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Vl.EventType.MESSAGE,G=>{var X;if(!M){const te=G.data[0];Fe(!!te);const ae=te,pe=(ae==null?void 0:ae.error)||((X=ae[0])===null||X===void 0?void 0:X.error);if(pe){ue(Yt,`RPC '${e}' stream ${o} received error:`,pe);const fe=pe.status;let Re=function(x){const D=Et[x];if(D!==void 0)return $T(D)}(fe),k=pe.message;Re===void 0&&(Re=ee.INTERNAL,k="Unknown error status: "+fe+" with message "+pe.message),M=!0,P.Uo(new ce(Re,k)),b.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,te),P.Ko(te)}}),Q(m,mT.STAT_EVENT,G=>{G.stat===Mm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Mm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(i){return new T2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class cb{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ub(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _N extends cb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=A2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?vr(f.readTime):Ae.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Gm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=jm(p)?{documents:x2(u,p)}:{query:I2(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZT(u,f.resumeToken);const g=qm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const g=qm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=N2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.I_(n)}}class vN extends cb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=R2(e.writeResults,e.commitTime),s=vr(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Gm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>S2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{}class TN extends EN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Hm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Hm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ni(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class wN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(ue(Qs,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await pu(g),g.j_.set("Unknown"),g.W_.delete(4),await Gh(g)}(this))})}),this.j_=new bN(s,o)}}async function Gh(i){if(Xs(i))for(const e of i.G_)await e(!0)}async function pu(i){for(const e of i.G_)await e(!1)}function hb(i,e){const n=Se(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Up(n)?Lp(n):vo(n).c_()&&Vp(n,e))}function Pp(i,e){const n=Se(i),s=vo(n);n.K_.delete(e),s.c_()&&fb(n,e),n.K_.size===0&&(s.c_()?s.P_():Xs(n)&&n.j_.set("Unknown"))}function Vp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(i).y_(e)}function fb(i,e){i.H_.Ne(e),vo(i).w_(e)}function Lp(i){i.H_=new y2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),vo(i).start(),i.j_.B_()}function Up(i){return Xs(i)&&!vo(i).u_()&&i.K_.size>0}function Xs(i){return Se(i).W_.size===0}function db(i){i.H_=void 0}async function AN(i){i.j_.set("Online")}async function SN(i){i.K_.forEach((e,n)=>{Vp(i,e)})}async function RN(i,e){db(i),Up(i)?(i.j_.q_(e),Lp(i)):i.j_.set("Unknown")}async function xN(i,e,n){if(i.j_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(i,s)}else if(e instanceof oh?i.H_.We(e):e instanceof XT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Ae.min()))try{const s=await lb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),fb(u,p);const b=new zi(E.target,p,g,E.sequenceNumber);Vp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(Qs,"Failed to raise snapshot:",s),await xh(i,s)}}async function xh(i,e,n){if(!_o(e))throw e;i.W_.add(1),await pu(i),i.j_.set("Offline"),n||(n=()=>lb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Qs,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Gh(i)})}function mb(i,e){return e().catch(n=>xh(i,n,e))}async function Kh(i){const e=Se(i),n=Xi(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ep;for(;IN(e);)try{const o=await uN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,CN(e,o)}catch(o){await xh(e,o)}pb(e)&&gb(e)}function IN(i){return Xs(i)&&i.U_.length<10}function CN(i,e){i.U_.push(e);const n=Xi(i);n.c_()&&n.S_&&n.b_(e.mutations)}function pb(i){return Xs(i)&&!Xi(i).u_()&&i.U_.length>0}function gb(i){Xi(i).start()}async function NN(i){Xi(i).C_()}async function DN(i){const e=Xi(i);for(const n of i.U_)e.b_(n.mutations)}async function ON(i,e,n){const s=i.U_.shift(),o=Ip.from(s,e,n);await mb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Kh(i)}async function kN(i,e){e&&Xi(i).S_&&await async function(s,o){if(function(f){return p2(f)&&f!==ee.ABORTED}(o.code)){const u=s.U_.shift();Xi(s).h_(),await mb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kh(s)}}(i,e),pb(i)&&gb(i)}async function zE(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ue(Qs,"RemoteStore received new credentials");const s=Xs(n);n.W_.add(3),await pu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Gh(n)}async function MN(i,e){const n=Se(i);e?(n.W_.delete(2),await Gh(n)):e||(n.W_.add(2),await pu(n),n.j_.set("Unknown"))}function vo(i){return i.J_||(i.J_=function(n,s,o){const u=Se(n);return u.M_(),new _N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:AN.bind(null,i),No:SN.bind(null,i),Lo:RN.bind(null,i),p_:xN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Up(i)?Lp(i):i.j_.set("Unknown")):(await i.J_.stop(),db(i))})),i.J_}function Xi(i){return i.Y_||(i.Y_=function(n,s,o){const u=Se(n);return u.M_(),new vN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:NN.bind(null,i),Lo:kN.bind(null,i),D_:DN.bind(null,i),v_:ON.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Kh(i)):(await i.Y_.stop(),i.U_.length>0&&(ue(Qs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zp(i,e){if(ni("AsyncQueue",`${e}: ${i}`),_o(i))return new ce(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class lo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new lo(e,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class VN{constructor(){this.queries=qE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=qE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(ee.ABORTED,"Firestore shutting down"))}}function qE(){return new $s(i=>LT(i),jh)}async function yb(i,e){const n=Se(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new PN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=zp(f,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Bp(n)}async function _b(i,e){const n=Se(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function LN(i,e){const n=Se(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Bp(n)}function UN(i,e,n){const s=Se(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Bp(i){i.ia.forEach(e=>{e.next()})}var Ym,HE;(HE=Ym||(Ym={}))._a="default",HE.Cache="cache";class vb{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new lo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.key=e}}class Tb{constructor(e){this.key=e}}class jN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=UT(e),this.wa=new to(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new BE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const A=o.get(E),M=zh(this.query,b)?b:null,P=!!A&&this.mutatedKeys.has(A.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let G=!1;A&&M?A.data.isEqual(M.data)?P!==Q&&(s.track({type:3,doc:M}),G=!0):this.va(A,M)||(s.track({type:2,doc:M}),G=!0,(p&&this.ya(M,p)>0||g&&this.ya(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),G=!0):A&&!M&&(s.track({type:1,doc:A}),G=!0,(p||g)&&(m=!0)),G&&(M?(f=f.add(M),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,b)=>function(M,P){const Q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return Q(M)-Q(P)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new lo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new BE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Tb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Eb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const qp="SyncEngine";class zN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BN{constructor(e){this.key=e,this.Ba=!1}}class qN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new $s(m=>LT(m),jh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ua=new Map,this.Ka=new Dp,this.Wa={},this.Ga=new Map,this.za=oo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function HN(i,e,n=!0){const s=xb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await bb(s,e,n,!0),o}async function FN(i,e){const n=xb(i);await bb(n,e,!0,!1)}async function bb(i,e,n,s){const o=await cN(i.localStore,_r(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await GN(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&hb(i.remoteStore,o),m}async function GN(i,e,n,s,o){i.Ha=(b,A,M)=>async function(Q,G,X,te){let ae=G.view.ba(X);ae.ls&&(ae=await PE(Q.localStore,G.query,!1).then(({documents:k})=>G.view.ba(k,ae)));const pe=te&&te.targetChanges.get(G.targetId),fe=te&&te.targetMismatches.get(G.targetId)!=null,Re=G.view.applyChanges(ae,Q.isPrimaryClient,pe,fe);return GE(Q,G.targetId,Re.Ma),Re.snapshot}(i,b,A,M);const u=await PE(i.localStore,e,!0),f=new jN(e,u.gs),m=f.ba(u.documents),p=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);GE(i,n,g.Ma);const E=new zN(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function KN(i,e,n){const s=Se(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!jh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Pp(s.remoteStore,o.targetId),$m(s,o.targetId)}).catch(yo)):($m(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function QN(i,e){const n=Se(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Pp(n.remoteStore,s.targetId))}async function YN(i,e,n){const s=tD(i);try{const o=await function(f,m){const p=Se(f),g=xt.now(),E=m.reduce((M,P)=>M.add(P.key),Pe());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=ri(),Q=Pe();return p.ds.getEntries(M,E).next(G=>{P=G,P.forEach((X,te)=>{te.isValidDocument()||(Q=Q.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,P)).next(G=>{b=G;const X=[];for(const te of m){const ae=c2(te,b.get(te.key).overlayedDocument);ae!=null&&X.push(new ts(te.key,ae,CT(ae.value.mapValue),Pn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,X,m)}).next(G=>{A=G;const X=G.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(M,G.batchId,X)})}).then(()=>({batchId:A.batchId,changes:zT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new at(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await gu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=zp(o,"Failed to persist write");n.reject(u)}}async function wb(i,e){const n=Se(i);try{const s=await oN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Fe(f.Ba):o.removedDocuments.size>0&&(Fe(f.Ba),f.Ba=!1))}),await gu(n,s,e)}catch(s){await yo(s)}}function FE(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const A of b.ta)A.sa(m)&&(g=!0)}),g&&Bp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $N(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,Ae.min()));const m=Pe().add(u),p=new Hh(Ae.min(),new Map,new at(Ce),f,m);await wb(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Hp(s)}else await Km(s.localStore,e,!1).then(()=>$m(s,e,n)).catch(yo)}async function XN(i,e){const n=Se(i),s=e.batch.batchId;try{const o=await aN(n.localStore,e);Sb(n,s,null),Ab(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await yo(o)}}async function WN(i,e,n){const s=Se(i);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Fe(b!==null),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Sb(s,e,n),Ab(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await yo(o)}}function Ab(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Sb(i,e,n){const s=Se(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function $m(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Rb(i,s)})}function Rb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Pp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Hp(i))}function GE(i,e,n){for(const s of n)s instanceof Eb?(i.Ka.addReference(s.key,e),ZN(i,s)):s instanceof Tb?(ue(qp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Rb(i,s.key)):be()}function ZN(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ue(qp,"New document in limbo: "+n),i.Qa.add(s),Hp(i))}function Hp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ge(tt.fromString(e)),s=i.za.next();i.Ua.set(s,new BN(n)),i.$a=i.$a.insert(n,s),hb(i.remoteStore,new zi(_r(Sp(n.path)),s,"TargetPurposeLimboResolution",Vh.ae))}}async function gu(i,e,n){const s=Se(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=kp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(g,A=>J.forEach(A.Hi,M=>E.persistence.referenceDelegate.addReference(b,A.targetId,M)).next(()=>J.forEach(A.Ji,M=>E.persistence.referenceDelegate.removeReference(b,A.targetId,M)))))}catch(b){if(!_o(b))throw b;ue(Mp,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const M=E.Ts.get(A),P=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(A,Q)}}}(s.localStore,u))}async function JN(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ue(qp,"User change. New user:",e.toKey());const s=await ob(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Rs)}}function eD(i,e){const n=Se(i),s=n.Ua.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function xb(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$N.bind(null,e),e.La.p_=LN.bind(null,e.eventManager),e.La.Ja=UN.bind(null,e.eventManager),e}function tD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WN.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}Xa(e){return new ab(Op.ri,this.serializer)}Za(e){return new fN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class nD extends Ih{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Fe(this.persistence.referenceDelegate instanceof Rh);const s=this.persistence.referenceDelegate.garbageCollector;return new B2(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new ab(s=>Rh.ri(s,n),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=JN.bind(null,this.syncEngine),await MN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VN}()}createDatastore(e){const n=Fh(e.databaseInfo.databaseId),s=function(u){return new yN(u)}(e.databaseInfo);return function(u,f,m,p){return new TN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new wN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>FE(this.syncEngine,n,0),function(){return UE.D()?new UE:new dN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const b=new qN(o,u,f,m,p,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ue(Qs,"RemoteStore shutting down."),u.W_.add(5),await pu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class rD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=vT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Wi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Wi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=zp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function bm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Wi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await ob(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function KE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await iD(i);ue(Wi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>zE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>zE(e.remoteStore,o)),i._onlineComponents=e}async function iD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Wi,"Using user provided OfflineComponentProvider");try{await bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ro("Error using user provided cache. Falling back to memory cache: "+n),await bm(i,new Ih)}}else ue(Wi,"Using default OfflineComponentProvider"),await bm(i,new nD(void 0));return i._offlineComponents}async function Cb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Wi,"Using user provided OnlineComponentProvider"),await KE(i,i._uninitializedComponentsProvider._online)):(ue(Wi,"Using default OnlineComponentProvider"),await KE(i,new Xm))),i._onlineComponents}function sD(i){return Cb(i).then(e=>e.syncEngine)}async function Nb(i){const e=await Cb(i),n=e.eventManager;return n.onListen=HN.bind(null,e.syncEngine),n.onUnlisten=KN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QN.bind(null,e.syncEngine),n}function aD(i,e,n={}){const s=new Zr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Ib({next:A=>{E.su(),f.enqueueAndForget(()=>_b(u,b));const M=A.docs.has(m);!M&&A.fromCache?g.reject(new ce(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&p&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new vb(Sp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return yb(u,b)}(await Nb(i),i.asyncQueue,e,n,s)),s.promise}function oD(i,e,n={}){const s=new Zr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Ib({next:A=>{E.su(),f.enqueueAndForget(()=>_b(u,b)),A.fromCache&&p.source==="server"?g.reject(new ce(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new vb(m,E,{includeMetadataChanges:!0,Ta:!0});return yb(u,b)}(await Nb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(i,e,n){if(!n)throw new ce(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function lD(i,e,n,s){if(e===!0&&s===!0)throw new ce(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function YE(i){if(!ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $E(i){if(ge.isDocumentKey(i))throw new ce(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function Qn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qh(i);throw new ce(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firestore.googleapis.com",XE=!0;class WE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kb,this.ssl=XE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:XE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<j2)throw new ce(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new pC;switch(s.type){case"firstParty":return new vC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=QE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),QE.delete(n),s.terminate())}(this),Promise.resolve()}}function uD(i,e,n,s={}){var o;const u=(i=Qn(i,Yh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==kb&&u.host!==m&&ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Bs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=v1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ce(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(b)}i._authCredentials=new gC(new yT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class rn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Gi extends Eo{constructor(e,n,s){super(e,n,Sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ge(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function uo(i,e,...n){if(i=ht(i),Ob("collection","path",e),i instanceof Yh){const s=tt.fromString(e,...n);return $E(s),new Gi(i,null,s)}{if(!(i instanceof rn||i instanceof Gi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return $E(s),new Gi(i.firestore,null,s)}}function To(i,e,...n){if(i=ht(i),arguments.length===1&&(e=vT.newId()),Ob("doc","path",e),i instanceof Yh){const s=tt.fromString(e,...n);return YE(s),new rn(i,null,new ge(s))}{if(!(i instanceof rn||i instanceof Gi))throw new ce(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return YE(s),new rn(i.firestore,i instanceof Gi?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ub(this,"async_queue_retry"),this.Su=()=>{const s=Tm();s&&ue(ZE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Zr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!_o(e))throw e;ue(ZE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ni("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ws extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new JE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function cD(i,e){const n=typeof i=="object"?i:x0(),s=typeof i=="string"?i:Eh,o=up(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=y1("firestore");u&&uD(o,...u)}return o}function Fp(i){if(i._terminated)throw new ce(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||hD(i),i._firestoreClient}function hD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new MC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Db(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new rD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new co(Ft.fromBase64String(e))}catch(n){throw new ce(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new co(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=/^__.*__$/;class dD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class Mb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Qp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Qp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Pb(this.Lu)&&fD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class mD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Fh(e)}ju(e,n,s,o=!1){return new Qp({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(i){const e=i._freezeSettings(),n=Fh(i._databaseId);return new mD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Vb(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);$p("Data must be an object, but it was:",f,s);const m=Lb(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const A=Wm(e,b,n);if(!f.contains(A))throw new ce(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);jb(E,A)||E.push(A)}p=new vn(E),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new dD(new un(m),p,g)}class Zh extends Xh{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zh}}class Yp extends Xh{_toFieldTransform(e){return new a2(e.path,new Zl)}isEqual(e){return e instanceof Yp}}function pD(i,e,n,s){const o=i.ju(1,e,n);$p("Data must be an object, but it was:",o,s);const u=[],f=un.empty();es(s,(p,g)=>{const E=Xp(e,p,n);g=ht(g);const b=o.Uu(E);if(g instanceof Zh)u.push(E);else{const A=yu(g,b);A!=null&&(u.push(E),f.set(E,A))}});const m=new vn(u);return new Mb(f,m,o.fieldTransforms)}function gD(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[Wm(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Wm(e,u[A])),p.push(u[A+1]);const g=[],E=un.empty();for(let A=m.length-1;A>=0;--A)if(!jb(g,m[A])){const M=m[A];let P=p[A];P=ht(P);const Q=f.Uu(M);if(P instanceof Zh)g.push(M);else{const G=yu(P,Q);G!=null&&(g.push(M),E.set(M,G))}}const b=new vn(g);return new Mb(E,b,f.fieldTransforms)}function yD(i,e,n,s=!1){return yu(n,i.ju(s?4:3,e))}function yu(i,e){if(Ub(i=ht(i)))return $p("Unsupported field value:",e,i),Lb(i,e);if(i instanceof Xh)return function(s,o){if(!Pb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=yu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return r2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Gp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof co)return{bytesValue:ZT(o.serializer,s._byteString)};if(s instanceof rn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Kp)return function(f,m){return{mapValue:{fields:{[xT]:{stringValue:IT},[Th]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Rp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Qh(s)}`)}(i,e)}function Lb(i,e){const n={};return TT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const u=yu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Ub(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof xt||i instanceof Gp||i instanceof co||i instanceof rn||i instanceof Xh||i instanceof Kp)}function $p(i,e,n){if(!Ub(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Qh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function Wm(i,e,n){if((e=ht(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Xp(i,e);throw Ch("Field path arguments must be of type string or ",i,!1,void 0,n)}const _D=new RegExp("[~\\*/\\[\\]]");function Xp(i,e,n){if(e.search(_D)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ch(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(ee.INVALID_ARGUMENT,m+i+p)}function jb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vD extends zb{data(){return super.data()}}function Wp(i,e){return typeof e=="string"?Xp(i,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class TD extends Zp{}function tu(i,e,...n){let s=[];e instanceof Zp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Jp).length,m=u.filter(p=>p instanceof Jh).length;if(f>1||f>0&&m>0)throw new ce(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Jh extends TD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return Bb(e._query,n),new Eo(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=Wh(e.firestore);return function(u,f,m,p,g,E,b){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){t0(b,E);const P=[];for(const Q of b)P.push(e0(p,u,Q));A={arrayValue:{values:P}}}else A=e0(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||t0(b,E),A=yD(m,f,b,E==="in"||E==="not-in");return Tt.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nu(i,e,n){const s=e,o=Wp("where",i);return Jh._create(o,s,n)}class Jp extends Zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Jp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Bb(f,p),f=zm(f,p)}(e._query,n),new Eo(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e0(i,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ce(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VT(e)&&n.indexOf("/")!==-1)throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gE(i,new ge(s))}if(n instanceof rn)return gE(i,n._key);throw new ce(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(n)}.`)}function t0(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bD{convertValue(e,n="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Th].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Kp(u)}convertGeoPoint(e){return new Gp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(ib(s));const o=new Xl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ni(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hb extends zb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Wp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class lh extends Hb{data(e={}){return super.data(e)}}class wD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new lh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:AD(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(i){i=Qn(i,rn);const e=Qn(i.firestore,Ws);return aD(Fp(e),i._key).then(n=>ID(e,i,n))}class Fb extends bD{constructor(e){super(),this.firestore=e}convertBytes(e){return new co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function ru(i){i=Qn(i,Eo);const e=Qn(i.firestore,Ws),n=Fp(e),s=new Fb(e);return ED(i._query),oD(n,i._query).then(o=>new wD(e,s,i,o))}function Gb(i,e,n){i=Qn(i,rn);const s=Qn(i.firestore,Ws),o=qb(i.converter,e,n);return ef(s,[Vb(Wh(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Pn.none())])}function RD(i,e,n,...s){i=Qn(i,rn);const o=Qn(i.firestore,Ws),u=Wh(o);let f;return f=typeof(e=ht(e))=="string"||e instanceof $h?gD(u,"updateDoc",i._key,e,n,s):pD(u,"updateDoc",i._key,e),ef(o,[f.toMutation(i._key,Pn.exists(!0))])}function Zm(i){return ef(Qn(i.firestore,Ws),[new xp(i._key,Pn.none())])}function xD(i,e){const n=Qn(i.firestore,Ws),s=To(i),o=qb(i.converter,e);return ef(n,[Vb(Wh(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Pn.exists(!1))]).then(()=>s)}function ef(i,e){return function(s,o){const u=new Zr;return s.asyncQueue.enqueueAndForget(async()=>YN(await sD(s),o,u)),u.promise}(Fp(i),e)}function ID(i,e,n){const s=n.docs.get(e._key),o=new Fb(i);return new Hb(i,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function CD(){return new Yp("serverTimestamp")}(function(e,n=!0){(function(o){go=o})(po),no(new qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ws(new yC(s.getProvider("auth-internal")),new EC(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Hi(iE,sE,e),Hi(iE,sE,"esm2017")})();const ND={apiKey:"AIzaSyDMTx4TOfgKz1Lij6ASZq8_Cpk1DJs-eRc",authDomain:"pitstop-pro-9f6b1.firebaseapp.com",projectId:"pitstop-pro-9f6b1",storageBucket:"pitstop-pro-9f6b1.appspot.com",messagingSenderId:"879099424476",appId:"1:879099424476:web:1ef0ead9bbd88259cf4e19"},Kb=R0(ND),_u=si(Kb),Yn=cD(Kb),Qb=z.createContext({user:null,loading:!0}),DD=({children:i})=>{const[e,n]=z.useState(null),[s,o]=z.useState(!0);return z.useEffect(()=>{const u=Jx(_u,f=>{n(f),o(!1)});return()=>u()},[]),S.jsx(Qb.Provider,{value:{user:e,loading:s},children:i})},vu=()=>({...z.useContext(Qb),logout:async()=>{await eI(_u)}}),OD="/Pitstop-pro/assets/car-illustration-Ba366Px5.png";function kD(){const{user:i}=vu(),e=Zi(),n=()=>{e(i?"/dashboard":"/register")};return S.jsx("section",{className:"bg-surface text-text py-16 px-6 pt-navbar",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-12",children:[S.jsxs("div",{className:"flex-1 space-y-6",children:[S.jsx("h1",{className:"text-4xl sm:text-5xl font-bold leading-tight text-primary",children:"Simplified Vehicle Management"}),S.jsx("p",{className:"text-lg text-gray-300",children:"Track maintenance, expenses, insurance and IUC  all in one place."}),S.jsxs("div",{className:"flex flex-wrap gap-4",children:[S.jsx("button",{onClick:n,className:"bg-primary text-background px-6 py-3 rounded-md text-base font-medium hover:bg-opacity-90 transition",children:"Get Started"}),!i&&S.jsx(nn,{to:"/login",className:"border border-primary text-primary px-6 py-3 rounded-md hover:bg-primary hover:text-background transition",children:"Sign in"})]})]}),S.jsx("div",{className:"flex-1",children:S.jsx("img",{src:OD,alt:"Illustration of a car",className:"w-full max-w-md mx-auto"})})]})})}var MD=z.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),eg=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function n0(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var tf=z.forwardRef(function(i,e){var n=i.alt,s=i.color,o=i.size,u=i.weight,f=i.mirrored,m=i.children,p=i.renderPath,g=n0(i,["alt","color","size","weight","mirrored","children","renderPath"]),E=z.useContext(MD),b=E.color,A=b===void 0?"currentColor":b,M=E.size,P=E.weight,Q=P===void 0?"regular":P,G=E.mirrored,X=G===void 0?!1:G,te=n0(E,["color","size","weight","mirrored"]);return re.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??M,height:o??M,fill:s??A,viewBox:"0 0 256 256",transform:f||X?"scale(-1, 1)":void 0},te,g),!!n&&re.createElement("title",null,n),m,re.createElement("rect",{width:"256",height:"256",fill:"none"}),p(u??Q,s??A))});tf.displayName="IconBase";var Zs=new Map;Zs.set("bold",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),re.createElement("line",{x1:"40",y1:"108",x2:"136",y2:"108",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),re.createElement("line",{x1:"40",y1:"148",x2:"120",y2:"148",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});Zs.set("duotone",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});Zs.set("fill",function(){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M192.6,189.3a8,8,0,0,1,0,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,192.6,55.4a8,8,0,0,1,0,11.3,7.9,7.9,0,0,1-11.3,0A64.1,64.1,0,0,0,72.5,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.5a64.1,64.1,0,0,0,108.8,37.3A7.9,7.9,0,0,1,192.6,189.3Z"}))});Zs.set("light",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),re.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),re.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});Zs.set("thin",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),re.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),re.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});Zs.set("regular",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var PD=function(e,n){return eg(e,n,Zs)},Yb=z.forwardRef(function(i,e){return re.createElement(tf,Object.assign({ref:e},i,{renderPath:PD}))});Yb.displayName="CurrencyEur";var Js=new Map;Js.set("bold",function(i){return re.createElement(re.Fragment,null,re.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),re.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),re.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),re.createElement("circle",{cx:"44",cy:"128",r:"16"}),re.createElement("circle",{cx:"44",cy:"64",r:"16"}),re.createElement("circle",{cx:"44",cy:"192",r:"16"}))});Js.set("duotone",function(i){return re.createElement(re.Fragment,null,re.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("circle",{cx:"44",cy:"64",r:"12"}),re.createElement("circle",{cx:"44",cy:"128",r:"12"}),re.createElement("circle",{cx:"44",cy:"192",r:"12"}))});Js.set("fill",function(){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M80,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H88A8,8,0,0,1,80,64Zm136,56H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM44,116a12,12,0,1,0,12,12A12,12,0,0,0,44,116Zm0-64A12,12,0,1,0,56,64,12,12,0,0,0,44,52Zm0,128a12,12,0,1,0,12,12A12,12,0,0,0,44,180Z"}))});Js.set("light",function(i){return re.createElement(re.Fragment,null,re.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),re.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),re.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),re.createElement("circle",{cx:"44",cy:"64",r:"10"}),re.createElement("circle",{cx:"44",cy:"192",r:"10"}),re.createElement("circle",{cx:"44",cy:"128",r:"10"}))});Js.set("thin",function(i){return re.createElement(re.Fragment,null,re.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),re.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),re.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),re.createElement("circle",{cx:"44",cy:"128",r:"8"}),re.createElement("circle",{cx:"44",cy:"64",r:"8"}),re.createElement("circle",{cx:"44",cy:"192",r:"8"}))});Js.set("regular",function(i){return re.createElement(re.Fragment,null,re.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),re.createElement("circle",{cx:"44",cy:"64",r:"12"}),re.createElement("circle",{cx:"44",cy:"128",r:"12"}),re.createElement("circle",{cx:"44",cy:"192",r:"12"}))});var VD=function(e,n){return eg(e,n,Js)},$b=z.forwardRef(function(i,e){return re.createElement(tf,Object.assign({ref:e},i,{renderPath:VD}))});$b.displayName="ListBullets";var ea=new Map;ea.set("bold",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ea.set("duotone",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",opacity:"0.2"}),re.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ea.set("fill",function(){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M210.9,146.9A72.6,72.6,0,0,1,131,162L79,222.2c-.1.2-.3.3-.4.4a31.9,31.9,0,0,1-45.2,0,31.9,31.9,0,0,1,0-45.2l.4-.4L94,125a72,72,0,0,1,94.1-95.2,7.9,7.9,0,0,1,4.7,5.8,8,8,0,0,1-2.2,7.2L151.7,81.7l3.7,18.9,18.9,3.7,38.9-38.9a8,8,0,0,1,7.2-2.2,7.9,7.9,0,0,1,5.8,4.7A71.7,71.7,0,0,1,210.9,146.9Z"}))});ea.set("light",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ea.set("thin",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ea.set("regular",function(i){return re.createElement(re.Fragment,null,re.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var LD=function(e,n){return eg(e,n,ea)},Xb=z.forwardRef(function(i,e){return re.createElement(tf,Object.assign({ref:e},i,{renderPath:LD}))});Xb.displayName="Wrench";function wm({Icon:i,title:e,description:n}){return S.jsxs("div",{className:"border border-gray-700 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow bg-surface",children:[S.jsx("div",{className:"flex justify-center mb-4",children:S.jsx(i,{size:40,weight:"duotone",className:"text-primary"})}),S.jsx("h3",{className:"text-xl font-semibold",children:e}),S.jsx("p",{className:"text-gray-400 text-sm mt-2",children:n})]})}function UD(){return S.jsx("section",{className:"bg-background text-text py-16 px-6",children:S.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[S.jsx(wm,{Icon:Xb,title:"Organized Maintenance",description:"Easily track and schedule each vehicle service."}),S.jsx(wm,{Icon:Yb,title:"Expense Tracking - coming soon",description:"Know exactly how much you vehicle is costing you on maintenance, repairs and insurance. "}),S.jsx(wm,{Icon:$b,title:"List your Next Events",description:"Never forget your inspections, insurance payments or IUC again."})]})})}function jD(){return S.jsx("footer",{className:"bg-surface text-gray-400 text-sm text-center py-4",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4 px-6",children:[S.jsxs("div",{className:"flex gap-4",children:[S.jsx(nn,{to:"#",className:"hover:underline",children:"Terms"}),S.jsx(nn,{to:"#",className:"hover:underline",children:"Privacy"}),S.jsx(nn,{to:"#",className:"hover:underline",children:"Contact"})]}),S.jsxs("p",{children:[" ",new Date().getFullYear()," PitStop Pro"]})]})})}function zD(){return S.jsxs(S.Fragment,{children:[S.jsx(kD,{}),S.jsx(UD,{}),S.jsx(jD,{})]})}function tg(i){switch(i.code){case"auth/email-already-in-use":return"This email is already registered.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/too-many-requests":return"Too many login attempts. Please wait and try again later.";default:return"An unexpected error occurred. Please try again."}}function BD({onSubmit:i}){const[e,n]=z.useState(""),[s,o]=z.useState(""),[u,f]=z.useState(""),[m,p]=z.useState(!1),g=async E=>{E.preventDefault(),f(""),p(!0);try{await i(e,s)}catch(b){b instanceof Vn?f(tg(b)):f("An unexpected error occurred. Please try again.")}finally{p(!1)}};return S.jsxs("form",{onSubmit:g,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm text-gray-400",children:"Email"}),S.jsx("input",{id:"email",type:"email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your email"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm text-gray-400",children:"Password"}),S.jsx("input",{id:"password",type:"password",value:s,onChange:E=>o(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your password"})]}),S.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:m?"Logging in...":"Login"}),S.jsx("p",{className:"text-sm text-center text-gray-400 mt-4",children:S.jsx("a",{href:"/forgot-password",className:"text-primary hover:underline",children:"Forgot your password?"})}),u&&S.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:u})]})}function qD(){const i=Zi(),e=async(n,s)=>{await Kx(_u,n,s),i("/dashboard")};return S.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:S.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[S.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Login"}),S.jsx(BD,{onSubmit:e})]})})}function HD({onSubmit:i}){const[e,n]=z.useState(""),[s,o]=z.useState(""),[u,f]=z.useState(""),[m,p]=z.useState(""),[g,E]=z.useState(!1),b=async A=>{if(A.preventDefault(),p(""),s!==u){p("Passwords do not match.");return}E(!0);try{await i(e,s)}catch(M){M instanceof Vn?p(tg(M)):p("An unexpected error occurred. Please try again.")}finally{E(!1)}};return S.jsxs("form",{onSubmit:b,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm text-gray-400",children:"Email"}),S.jsx("input",{id:"email",type:"email",value:e,onChange:A=>n(A.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your email"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm text-gray-400",children:"Password"}),S.jsx("input",{id:"password",type:"password",value:s,onChange:A=>o(A.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your password"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"confirmPassword",className:"block mb-1 text-sm text-gray-400",children:"Confirm Password"}),S.jsx("input",{id:"confirmPassword",type:"password",value:u,onChange:A=>f(A.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Confirm your password"})]}),S.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:g,children:g?"Registering...":"Register"}),m&&S.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:m})]})}function FD(){const i=Zi(),e=async(n,s)=>{const u=(await Gx(_u,n,s)).user;await Gb(To(Yn,"users",u.uid),{displayName:"",email:u.email,photoUrl:"",phone:"",address:"",createdAt:CD()}),i("/dashboard")};return S.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:S.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[S.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Create Account"}),S.jsx(HD,{onSubmit:e})]})})}function GD({onSubmit:i}){const[e,n]=z.useState(""),[s,o]=z.useState(""),[u,f]=z.useState(""),[m,p]=z.useState(!1),g=async E=>{E.preventDefault(),f(""),o(""),p(!0);try{await i(e),o("We have sent you a password reset link.")}catch(b){b instanceof Vn?f(tg(b)):f("An unexpected error occurred. Please try again.")}finally{p(!1)}};return S.jsxs("form",{onSubmit:g,className:"space-y-4",children:[S.jsx("input",{type:"email",placeholder:"Your email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base"}),S.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:m?"Sending...":"Send reset link"}),s&&S.jsx("p",{className:"text-green-500 text-sm text-center mt-4",children:s}),u&&S.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:u})]})}function KD(){const i=async e=>{await Fx(_u,e)};return S.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:S.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[S.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Reset your password"}),S.jsx(GD,{onSubmit:i})]})})}function QD(){return S.jsx("h1",{children:"Not Found - PitStop Pro "})}const YD="/Pitstop-pro/assets/logo-flat-CsB4qleT.png";function $D(){var s,o;const{user:i}=vu();if(!i)return null;const e=i.displayName??i.email??"User",n=(((s=i.displayName)==null?void 0:s.charAt(0))??((o=i.email)==null?void 0:o.charAt(0))??"U").toUpperCase();return S.jsxs("div",{className:"flex items-center gap-3",children:[i.photoURL?S.jsx("img",{src:i.photoURL,alt:e,className:"w-10 h-10 rounded-full object-cover border border-border shadow"}):S.jsx("div",{className:"w-10 h-10 rounded-full bg-muted text-background flex items-center justify-center font-semibold",children:n}),S.jsx("span",{className:"text-sm",children:e})]})}function Wb({onToggleSidebar:i}){const{user:e,logout:n}=vu(),s=Tr(),o=async()=>{try{await n()}catch(f){console.error("Logout failed:",f)}},u=e&&!e.displayName;return S.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-surface text-text px-6 py-4 shadow-md",children:S.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[i&&S.jsx("button",{onClick:i,className:"md:hidden border border-border text-text rounded px-3 py-2 hover:bg-border transition","aria-label":"Toggle menu",children:"Menu"}),S.jsxs(nn,{to:"/",className:"flex items-center gap-2 transition-transform hover:scale-105",children:[S.jsx("img",{src:YD,alt:"",className:"h-12 w-auto"}),S.jsx("span",{className:"sr-only",children:"PitStop Pro"}),S.jsx("span",{className:"text-xl font-semibold text-primary hidden sm:inline",children:"PitStop Pro"})]})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[e&&S.jsxs(S.Fragment,{children:[S.jsx($D,{}),u&&S.jsx(nn,{to:"/settings",title:"Your profile is incomplete. Click to complete it.",className:"text-xs text-yellow-400 font-medium hover:underline transition ml-2",children:" Complete your profile"})]}),S.jsx("ul",{className:"flex gap-4 items-center text-sm sm:text-base",children:e?S.jsxs(S.Fragment,{children:[s.pathname==="/"&&S.jsx("li",{children:S.jsx(nn,{to:"/dashboard",className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"My Garage"})}),S.jsx("li",{children:S.jsx("button",{onClick:o,className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"Logout"})})]}):S.jsxs(S.Fragment,{children:[s.pathname!=="/login"&&S.jsx("li",{children:S.jsx(nn,{to:"/login",className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"Login"})}),s.pathname!=="/register"&&S.jsx("li",{children:S.jsx(nn,{to:"/register",className:"px-4 py-2 rounded-md bg-primary text-background hover:bg-opacity-90 transition-colors",children:"Register"})})]})})]})]})})}const XD=({children:i})=>{const{user:e,loading:n}=vu();return n?S.jsx("div",{className:"text-center py-20 text-text",children:"Loading..."}):e?i:S.jsx(RS,{to:"/login"})},WD=[{path:"/dashboard",label:"Overview"},{path:"/vehicles",label:"Garage"},{path:"/maintenance",label:"Maintenance"},{path:"/expenses",label:"Expenses"},{path:"/documents",label:"Documents"},{path:"/settings",label:"Settings"}];function ZD({isOpen:i}){const e=Tr();return S.jsx("aside",{className:`${i?"block":"hidden"} md:block fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] bg-surface border-r border-border px-4 py-6 shadow-md z-20`,children:S.jsx("nav",{className:"space-y-2",children:WD.map(n=>S.jsx(nn,{to:n.path,className:`block px-4 py-2 rounded transition ${e.pathname===n.path?"bg-muted font-semibold text-white":"text-muted-foreground hover:bg-muted"}`,children:n.label},n.path))})})}function JD(){const[i,e]=z.useState(!1);return S.jsxs("div",{className:"pt-16 flex",children:[S.jsx(ZD,{isOpen:i}),S.jsx("main",{className:`w-full transition-all duration-300 px-6 py-8 ${i?"ml-64":"ml-0 md:ml-64"}`,children:S.jsx("div",{className:"max-w-7xl mx-auto",children:S.jsx(xS,{})})}),S.jsx(Wb,{onToggleSidebar:()=>e(n=>!n)})]})}const Zb=async()=>{const e=si().currentUser;if(!e)return[];const n=tu(uo(Yn,"vehicles"),nu("userId","==",e.uid));return(await ru(n)).docs.map(o=>({id:o.id,...o.data()}))};function eO(){const[i,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(5);z.useEffect(()=>{(async()=>{if(!si().currentUser)return;const E=await Zb(),b=[],A=[{key:"insuranceDate",doneKey:"insuranceDone",label:"Insurance payment date"},{key:"inspectionDate",doneKey:"inspectionDone",label:"Inspection date"},{key:"taxDate",doneKey:"taxDone",label:"Tax payment date"},{key:"maintenanceDate",doneKey:"maintenanceDone",label:"Scheduled maintenance"}];E.forEach(M=>{A.forEach(({key:P,doneKey:Q,label:G})=>{const X=M[P];!M[Q]&&X&&b.push({date:X,label:G,vehicleName:M.vehicleName||`${M.brand} ${M.model}`,vehicleId:M.id,image:M.image})})}),b.sort((M,P)=>new Date(M.date).getTime()-new Date(P.date).getTime()),e(b),s(!1)})()},[]);const f=m=>{const p=new Date(m),g=String(p.getDate()).padStart(2,"0"),E=String(p.getMonth()+1).padStart(2,"0"),b=p.getFullYear();return`${g}/${E}/${b}`};return S.jsxs("section",{children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Events"}),n?S.jsx("p",{className:"text-muted-foreground",children:"Loading events..."}):i.length===0?S.jsxs("div",{className:"p-6 border border-gray-700 rounded-lg bg-surface text-center text-muted-foreground space-y-4",children:[S.jsx("p",{children:"No upcoming events scheduled."}),S.jsx(nn,{to:"/maintenance",className:"inline-block px-6 py-3 bg-primary text-background rounded-md font-medium hover:bg-opacity-90 transition",children:"Add Maintenance"})]}):S.jsxs(S.Fragment,{children:[S.jsx("ul",{className:"space-y-4",children:i.slice(0,o).map((m,p)=>{const g=new Date(m.date)<new Date;return S.jsxs("li",{className:"p-4 bg-surface border border-border rounded flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-4 text-text",children:[m.image?S.jsx("img",{src:m.image,alt:"Vehicle",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover border border-border"}):S.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-background border border-dashed border-border flex items-center justify-center text-xs text-text-muted",children:"No photo"}),S.jsxs("div",{className:"flex flex-col",children:[S.jsxs("span",{className:"text-sm sm:text-base",children:[S.jsx("strong",{children:f(m.date)}),"  ",m.label]}),S.jsx(nn,{to:"/vehicles",className:"text-accent text-sm underline-offset-2 hover:underline",children:m.vehicleName}),g&&S.jsx("span",{className:"text-xs font-semibold text-destructive sm:hidden mt-1",children:" Overdue"})]})]}),g&&S.jsx("span",{className:"text-xs font-semibold text-destructive hidden sm:block",children:" Overdue"})]},`${m.vehicleId}-${m.label}-${p}`)})}),i.length>o&&S.jsx("div",{className:"flex justify-center mt-4",children:S.jsx("button",{onClick:()=>u(m=>m+5),className:"text-sm text-accent hover:underline",children:"Load more"})})]})]})}const tO=({vehicle:i})=>S.jsxs("div",{className:"p-6 rounded-xl bg-surface border border-border flex flex-col items-center text-center shadow-sm",children:[i.image?S.jsx("img",{src:i.image,alt:"Vehicle",className:"rounded-full w-28 h-28 object-cover border border-border mb-4"}):S.jsx("div",{className:"rounded-full w-28 h-28 bg-background flex items-center justify-center text-sm text-text-muted border border-dashed border-border mb-4",children:"No photo"}),S.jsx("h2",{className:"text-lg font-semibold text-text break-words",children:i.vehicleName||`${i.brand} ${i.model}`}),S.jsx("p",{className:"text-sm text-text-muted",children:i.licensePlate}),S.jsxs(nn,{to:"/vehicles",className:"mt-4 text-sm text-accent inline-flex items-center gap-1 group",children:[S.jsx("span",{className:"text-xl leading-none",children:""}),S.jsx("span",{className:"underline-offset-2 group-hover:underline",children:"More details"})]})]});function nO(){const[i,e]=z.useState([]),[n,s]=z.useState(!0),o=Zi();return z.useEffect(()=>{(async()=>{if(!si().currentUser)return;const p=await Zb();e(p),s(!1)})()},[]),n?S.jsxs("section",{children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),S.jsx("p",{className:"text-muted-foreground",children:"Loading vehicles..."})]}):i.length===0?S.jsxs("section",{children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),S.jsxs("div",{className:"p-6 border border-gray-700 rounded-lg bg-surface text-center text-muted-foreground space-y-4",children:[S.jsx("p",{children:"No vehicles registered yet."}),S.jsx("button",{onClick:()=>o("/vehicles"),className:"px-6 py-3 bg-primary text-background rounded-md font-medium hover:bg-opacity-90 transition",children:"Add Your First Vehicle"})]})]}):S.jsxs("section",{children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(u=>S.jsx(tO,{vehicle:u},u.id))})]})}function rO(){return S.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-12",children:[S.jsx(eO,{}),S.jsx(nO,{})]})}function Jb(){const[i,e]=z.useState([]),[n,s]=z.useState(!0);return z.useEffect(()=>{(async()=>{const f=si().currentUser;if(!f)return;const m=tu(uo(Yn,"vehicles"),nu("userId","==",f.uid)),g=(await ru(m)).docs.map(E=>({id:E.id,...E.data()}));e(g),s(!1)})()},[]),{vehicles:i,loading:n}}function iO({parts:i,onEdit:e,onDelete:n}){const{vehicles:s}=Jb(),o=(m,p)=>{if(!p)return null;const g=new Date(m);return g.setMonth(g.getMonth()+p),g},u=m=>{var G;const p=new Date,g=s.find(X=>X.id===m.vehicleId),E=(G=g==null?void 0:g.kilometerHistory)==null?void 0:G.at(-1),b=(E==null?void 0:E.value)??0,A=m.validForMonths?o(m.installDate,m.validForMonths):null,M=m.validForKm?m.installKilometers+m.validForKm:null,P=A?p>A:!1,Q=M!==null?b>=M:!1;return P||Q},f=m=>{const p=new Date(m);return`${String(p.getDate()).padStart(2,"0")}/${String(p.getMonth()+1).padStart(2,"0")}/${p.getFullYear()}`};return S.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700 shadow-sm bg-surface",children:S.jsxs("table",{className:"min-w-full text-sm text-left",children:[S.jsx("thead",{className:"bg-background border-b border-gray-600",children:S.jsxs("tr",{children:[S.jsx("th",{className:"px-4 py-3 font-medium",children:"Part"}),S.jsx("th",{className:"px-4 py-3 font-medium",children:"Vehicle"}),S.jsx("th",{className:"px-4 py-3 font-medium",children:"Installed"}),S.jsx("th",{className:"px-4 py-3 font-medium",children:"Limits"}),S.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),S.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),S.jsx("tbody",{children:i.map(m=>{const p=s.find(A=>A.id===m.vehicleId),g=o(m.installDate,m.validForMonths),E=m.validForKm?m.installKilometers+m.validForKm:null,b=u(m);return S.jsxs("tr",{className:"border-b border-gray-700 hover:bg-muted transition",children:[S.jsx("td",{className:"px-4 py-2",children:m.partName}),S.jsx("td",{className:"px-4 py-2",children:(p==null?void 0:p.vehicleName)||`${p==null?void 0:p.brand} ${p==null?void 0:p.model}`||""}),S.jsxs("td",{className:"px-4 py-2",children:[f(m.installDate),"  ",m.installKilometers.toLocaleString()," km"]}),S.jsxs("td",{className:"px-4 py-2",children:[g?f(g.toISOString()):""," / ",E?`${E.toLocaleString()} km`:""]}),S.jsx("td",{className:"px-4 py-2",children:b?S.jsx("span",{className:"text-sm font-semibold text-destructive",children:" Overdue"}):S.jsx("span",{className:"text-sm text-green-500",children:" OK"})}),S.jsxs("td",{className:"px-4 py-2 text-right space-x-2",children:[S.jsx("button",{onClick:()=>e(m),className:"text-sm text-accent hover:underline",children:" Edit"}),S.jsx("button",{onClick:()=>n(m.id),className:"text-sm text-destructive hover:underline",children:" Delete"})]})]},m.id)})})]})})}function sO({isOpen:i,mode:e,defaultValues:n,onClose:s,onAdd:o,onEdit:u}){const{vehicles:f}=Jb(),[m,p]=z.useState({vehicleId:"",partName:"",installDate:"",installKilometers:0,validForMonths:"",validForKm:"",notes:""});if(z.useEffect(()=>{var b,A;p(e==="edit"&&n?{vehicleId:n.vehicleId,partName:n.partName,installDate:n.installDate,installKilometers:n.installKilometers,validForMonths:((b=n.validForMonths)==null?void 0:b.toString())||"",validForKm:((A=n.validForKm)==null?void 0:A.toString())||"",notes:n.notes||""}:{vehicleId:"",partName:"",installDate:new Date().toISOString().split("T")[0],installKilometers:0,validForMonths:"",validForKm:"",notes:""})},[e,n]),!i)return null;const g=(b,A)=>{p(M=>({...M,[b]:A}))},E=b=>{b.preventDefault();const M=si().currentUser;if(!M)return;const P=f.find(G=>G.id===m.vehicleId);if(!P)return;const Q={id:(n==null?void 0:n.id)||crypto.randomUUID(),vehicleId:m.vehicleId,vehicleName:P.vehicleName||`${P.brand} ${P.model}`,partName:m.partName,installDate:m.installDate,installKilometers:m.installKilometers,validForMonths:m.validForMonths?Number(m.validForMonths):void 0,validForKm:m.validForKm?Number(m.validForKm):void 0,notes:m.notes||"",userId:M.uid};e==="edit"&&u?u(Q):o(Q),s()};return S.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[999]",children:S.jsxs("div",{className:"bg-surface p-6 rounded-lg w-full max-w-lg shadow-xl border border-border",children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:e==="edit"?"Edit Part":"Add New Part"}),S.jsxs("form",{onSubmit:E,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle"}),S.jsxs("select",{value:m.vehicleId,onChange:b=>g("vehicleId",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0,disabled:e==="edit",children:[S.jsx("option",{value:"",children:"Select a vehicle"}),f.map(b=>S.jsx("option",{value:b.id,children:b.vehicleName||`${b.brand} ${b.model}`},b.id))]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Part name"}),S.jsx("input",{type:"text",value:m.partName,onChange:b=>g("partName",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Install date"}),S.jsx("input",{type:"date",value:m.installDate,onChange:b=>g("installDate",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Install km"}),S.jsx("input",{type:"number",value:m.installKilometers,onChange:b=>g("installKilometers",Number(b.target.value)),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid for (months)"}),S.jsx("input",{type:"number",value:m.validForMonths,onChange:b=>g("validForMonths",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid for (km)"}),S.jsx("input",{type:"number",value:m.validForKm,onChange:b=>g("validForKm",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),S.jsx("textarea",{value:m.notes,onChange:b=>g("notes",b.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",rows:2})]}),S.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[S.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 rounded bg-muted text-sm hover:bg-muted/70 transition",children:"Cancel"}),S.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-primary text-white text-sm hover:bg-accent transition",children:e==="edit"?"Save Changes":"Add Part"})]})]})]})})}const nf="trackedParts",aO=async i=>{await xD(uo(Yn,nf),i)},oO=async i=>{const e=tu(uo(Yn,nf),nu("userId","==",i));return(await ru(e)).docs.map(s=>({id:s.id,...s.data()}))},lO=async i=>{const e=To(Yn,nf,i.id),{id:n,...s}=i;await RD(e,s)},uO=async i=>{await Zm(To(Yn,nf,i))};function cO(){const[i,e]=z.useState([]),[n,s]=z.useState(!0),[o,u]=z.useState(!1),[f,m]=z.useState("add"),[p,g]=z.useState(null),b=si().currentUser,A=z.useCallback(async()=>{if(!b)return;s(!0);const te=await oO(b.uid);e(te),s(!1)},[b]);z.useEffect(()=>{A()},[A]);const M=async te=>{b&&(await aO({...te,userId:b.uid}),await A())},P=async te=>{await lO(te),await A()},Q=async te=>{window.confirm("Are you sure you want to delete this part?")&&(await uO(te),await A())},G=()=>{g(null),m("add"),u(!0)},X=te=>{g(te),m("edit"),u(!0)};return S.jsx("main",{className:"px-6 py-8 w-full",children:S.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[S.jsxs("div",{className:"flex justify-between items-center",children:[S.jsx("h1",{className:"text-2xl font-bold",children:"Maintenance - Tracked Parts"}),S.jsx("button",{onClick:G,className:"bg-accent text-white px-4 py-2 rounded hover:bg-accent/90 transition",children:" Add Part"})]}),n?S.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading parts..."}):S.jsx(iO,{parts:i,onEdit:X,onDelete:Q}),S.jsx(sO,{isOpen:o,mode:f,defaultValues:p,onClose:()=>u(!1),onAdd:M,onEdit:P})]})})}const hO=async(i,e)=>{const n=To(Yn,"users",i);await Gb(n,e,{merge:!0})};function fO(){const{user:i}=vu(),[e,n]=z.useState({displayName:"",photoUrl:"",phone:"",address:""}),[s,o]=z.useState(""),[u,f]=z.useState("");z.useEffect(()=>{(async()=>{if(!i)return;const E=To(Yn,"users",i.uid),b=await SD(E);if(b.exists()){const A=b.data();n({displayName:A.displayName||"",photoUrl:A.photoUrl||"",phone:A.phone||"",address:A.address||""})}})()},[i]);const m=(g,E)=>{n(b=>({...b,[g]:E}))},p=async g=>{if(g.preventDefault(),o(""),f(""),!!i)try{await hO(i.uid,e),await Yx(i,{displayName:e.displayName,photoURL:e.photoUrl}),o("Profile updated successfully.")}catch(E){console.error(E),f("Failed to update profile. Please try again later.")}};return S.jsxs("section",{children:[S.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Profile:        "}),S.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[S.jsxs("form",{onSubmit:p,className:"space-y-4 max-w-sm w-full",children:[S.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),S.jsx("input",{type:"text",placeholder:"Your name",value:e.displayName,onChange:g=>m("displayName",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),S.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Profile Photo URL:"}),S.jsx("input",{type:"url",placeholder:"Photo URL",value:e.photoUrl,onChange:g=>m("photoUrl",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),S.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Phone Number:"}),S.jsx("input",{type:"tel",placeholder:"Phone number",value:e.phone,onChange:g=>m("phone",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),S.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Current Location (city, state):"}),S.jsx("input",{type:"text",placeholder:"Address",value:e.address,onChange:g=>m("address",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),S.jsx("button",{type:"submit",className:"px-4 py-2 rounded border border-primary text-primary bg-surface hover:bg-primary hover:text-white transition-colors",children:"Update Profile"}),s&&S.jsx("p",{className:"text-sm text-accent",children:s}),u&&S.jsx("p",{className:"text-sm text-destructive",children:u})]}),e.photoUrl?S.jsx("img",{src:e.photoUrl,alt:"Profile",className:"rounded-full shadow w-60 h-60 object-cover border border-border"}):S.jsx("div",{className:"w-40 h-40 bg-surface border border-dashed border-border flex items-center justify-center text-muted-foreground rounded-full",children:"No photo"})]})]})}function dO(){const e=si().currentUser,[n,s]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(""),[p,g]=z.useState(""),E=async b=>{if(b.preventDefault(),m(""),g(""),!(!e||!e.email))try{const A=Ys.credential(e.email,n);await Hx(e,A),await $x(e,o),m("Password updated successfully."),s(""),u("")}catch(A){console.error(A),g("Failed to update password. Please check your current password and try again.")}};return S.jsx("section",{className:"space-y-4",children:S.jsxs("form",{onSubmit:E,className:"space-y-4 max-w-sm",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Current Password"}),S.jsx("input",{type:"password",value:n,onChange:b=>s(b.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"New Password"}),S.jsx("input",{type:"password",value:o,onChange:b=>u(b.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text",minLength:6,required:!0})]}),S.jsx("button",{type:"submit",className:"px-4 py-2 rounded border border-primary text-primary bg-surface hover:bg-primary hover:text-white transition-colors",children:"Update Password"}),f&&S.jsx("p",{className:"text-sm text-accent",children:f}),p&&S.jsx("p",{className:"text-sm text-destructive",children:p})]})})}function mO(){const i=si(),e=Zi(),n=i.currentUser,s=async()=>{if(!(!n||!window.confirm("Are you sure you want to permanently delete your account and all your data? This action cannot be undone.")))try{const u=await ru(tu(uo(Yn,"vehicles"),nu("userId","==",n.uid)));await Promise.all(u.docs.map(m=>Zm(m.ref)));const f=await ru(tu(uo(Yn,"trackedParts"),nu("userId","==",n.uid)));await Promise.all(f.docs.map(m=>Zm(m.ref))),await tI(n),e("/")}catch(u){console.error("Error deleting account:",u),alert("An error occurred while deleting your account. Please try again later.")}};return S.jsxs("section",{className:"space-y-4",children:[S.jsx("h2",{className:"text-xl font-semibold text-destructive",children:"Delete Account"}),S.jsx("p",{className:"text-muted-foreground",children:"This action is irreversible. All your data will be permanently deleted."}),S.jsx("button",{onClick:s,className:"bg-destructive text-white px-4 py-2 rounded hover:bg-destructive/90 transition",children:"Delete Account"})]})}function pO(){return S.jsxs("div",{className:"p-6 max-w-5xl w-full mx-auto",children:[S.jsx("h1",{className:"text-3xl font-bold text-text mb-10",children:"Settings"}),S.jsxs("div",{className:"space-y-12",children:[S.jsx(fO,{}),S.jsx(dO,{}),S.jsx(mO,{})]})]})}function gO(){return S.jsx("div",{className:"flex items-center justify-center h-[60vh] text-2xl text-muted",children:"Expenses - Coming soon "})}function yO(){return S.jsx("div",{className:"flex items-center justify-center h-[60vh] text-2xl text-muted",children:"Documents - Coming soon "})}const _O=S.jsxs(kn,{element:S.jsx(XD,{children:S.jsx(JD,{})}),children:[S.jsx(kn,{path:"/dashboard",element:S.jsx(rO,{})}),S.jsx(kn,{path:"/maintenance",element:S.jsx(cO,{})}),S.jsx(kn,{path:"/settings",element:S.jsx(pO,{})}),S.jsx(kn,{path:"/expenses",element:S.jsx(gO,{})}),S.jsx(kn,{path:"/documents",element:S.jsx(yO,{})})]});function vO(){return S.jsxs("div",{className:"min-h-screen bg-background text-text font-sans",children:[S.jsx(Wb,{}),S.jsxs(CS,{children:[S.jsx(kn,{path:"/",element:S.jsx(zD,{})}),S.jsx(kn,{path:"/login",element:S.jsx(qD,{})}),S.jsx(kn,{path:"/register",element:S.jsx(FD,{})}),S.jsx(kn,{path:"/forgot-password",element:S.jsx(KD,{})}),_O,S.jsx(kn,{path:"*",element:S.jsx(QD,{})})]})]})}function EO(){const i=Zi();return z.useEffect(()=>{const n=new URLSearchParams(window.location.search).get("redirect");n&&i(n,{replace:!0})},[i]),S.jsx(vO,{})}MA.createRoot(document.getElementById("root")).render(S.jsx(re.StrictMode,{children:S.jsx(JS,{children:S.jsx(DD,{children:S.jsx(EO,{})})})}));
