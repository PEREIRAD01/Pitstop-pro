(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function uE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var cm={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function Vw(){if(v_)return Pl;v_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var __;function Lw(){return __||(__=1,cm.exports=Vw()),cm.exports}var T=Lw(),hm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Uw(){if(E_)return Re;E_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,Y={};function H(D,ne,le){this.props=D,this.context=ne,this.refs=Y,this.updater=le||k}H.prototype.isReactComponent={},H.prototype.setState=function(D,ne){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ne,"setState")},H.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=H.prototype;function ie(D,ne,le){this.props=D,this.context=ne,this.refs=Y,this.updater=le||k}var re=ie.prototype=new $;re.constructor=ie,N(re,H.prototype),re.isPureReactComponent=!0;var me=Array.isArray,fe={H:null,A:null,T:null,S:null,V:null},xe=Object.prototype.hasOwnProperty;function P(D,ne,le,se,ye,Ne){return le=Ne.ref,{$$typeof:i,type:D,key:ne,ref:le!==void 0?le:null,props:Ne}}function x(D,ne){return P(D.type,ne,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function O(D){var ne={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(le){return ne[le]})}var V=/\/+/g;function z(D,ne){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):ne.toString(36)}function C(){}function Vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ne){D.status==="pending"&&(D.status="fulfilled",D.value=ne)},function(ne){D.status==="pending"&&(D.status="rejected",D.reason=ne)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ot(D,ne,le,se,ye){var Ne=typeof D;(Ne==="undefined"||Ne==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case i:case e:we=!0;break;case E:return we=D._init,ot(we(D._payload),ne,le,se,ye)}}if(we)return ye=ye(D),we=se===""?"."+z(D,0):se,me(ye)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),ot(ye,ne,le,"",function(Jn){return Jn})):ye!=null&&(R(ye)&&(ye=x(ye,le+(ye.key==null||D&&D.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+we)),ne.push(ye)),1;we=0;var Ct=se===""?".":se+":";if(me(D))for(var Je=0;Je<D.length;Je++)se=D[Je],Ne=Ct+z(se,Je),we+=ot(se,ne,le,Ne,ye);else if(Je=A(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(se=D.next()).done;)se=se.value,Ne=Ct+z(se,Je++),we+=ot(se,ne,le,Ne,ye);else if(Ne==="object"){if(typeof D.then=="function")return ot(Vt(D),ne,le,se,ye);throw ne=String(D),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(D,ne,le){if(D==null)return D;var se=[],ye=0;return ot(D,se,"","",function(Ne){return ne.call(le,Ne,ye++)}),se}function oe(D){if(D._status===-1){var ne=D._result;ne=ne(),ne.then(function(le){(D._status===0||D._status===-1)&&(D._status=1,D._result=le)},function(le){(D._status===0||D._status===-1)&&(D._status=2,D._result=le)}),D._status===-1&&(D._status=0,D._result=ne)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Be(){}return Re.Children={map:W,forEach:function(D,ne,le){W(D,function(){ne.apply(this,arguments)},le)},count:function(D){var ne=0;return W(D,function(){ne++}),ne},toArray:function(D){return W(D,function(ne){return ne})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=H,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ie,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=fe,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return fe.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ne,le){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=N({},D.props),ye=D.key,Ne=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!xe.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(se[we]=ne[we]);var we=arguments.length-2;if(we===1)se.children=le;else if(1<we){for(var Ct=Array(we),Je=0;Je<we;Je++)Ct[Je]=arguments[Je+2];se.children=Ct}return P(D.type,ye,void 0,void 0,Ne,se)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ne,le){var se,ye={},Ne=null;if(ne!=null)for(se in ne.key!==void 0&&(Ne=""+ne.key),ne)xe.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ne[se]);var we=arguments.length-2;if(we===1)ye.children=le;else if(1<we){for(var Ct=Array(we),Je=0;Je<we;Je++)Ct[Je]=arguments[Je+2];ye.children=Ct}if(D&&D.defaultProps)for(se in we=D.defaultProps,we)ye[se]===void 0&&(ye[se]=we[se]);return P(D,Ne,void 0,void 0,null,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:oe}},Re.memo=function(D,ne){return{$$typeof:g,type:D,compare:ne===void 0?null:ne}},Re.startTransition=function(D){var ne=fe.T,le={};fe.T=le;try{var se=D(),ye=fe.S;ye!==null&&ye(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Be,pe)}catch(Ne){pe(Ne)}finally{fe.T=ne}},Re.unstable_useCacheRefresh=function(){return fe.H.useCacheRefresh()},Re.use=function(D){return fe.H.use(D)},Re.useActionState=function(D,ne,le){return fe.H.useActionState(D,ne,le)},Re.useCallback=function(D,ne){return fe.H.useCallback(D,ne)},Re.useContext=function(D){return fe.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ne){return fe.H.useDeferredValue(D,ne)},Re.useEffect=function(D,ne,le){var se=fe.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(D,ne)},Re.useId=function(){return fe.H.useId()},Re.useImperativeHandle=function(D,ne,le){return fe.H.useImperativeHandle(D,ne,le)},Re.useInsertionEffect=function(D,ne){return fe.H.useInsertionEffect(D,ne)},Re.useLayoutEffect=function(D,ne){return fe.H.useLayoutEffect(D,ne)},Re.useMemo=function(D,ne){return fe.H.useMemo(D,ne)},Re.useOptimistic=function(D,ne){return fe.H.useOptimistic(D,ne)},Re.useReducer=function(D,ne,le){return fe.H.useReducer(D,ne,le)},Re.useRef=function(D){return fe.H.useRef(D)},Re.useState=function(D){return fe.H.useState(D)},Re.useSyncExternalStore=function(D,ne,le){return fe.H.useSyncExternalStore(D,ne,le)},Re.useTransition=function(){return fe.H.useTransition()},Re.version="19.1.0",Re}var T_;function ip(){return T_||(T_=1,hm.exports=Uw()),hm.exports}var U=ip();const L=uE(U);var Vl={},b_;function jw(){if(b_)return Vl;b_=1,Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.parse=f,Vl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,k){const N=new u,Y=A.length;if(Y<2)return N;const H=(k==null?void 0:k.decode)||E;let $=0;do{const ie=A.indexOf("=",$);if(ie===-1)break;const re=A.indexOf(";",$),me=re===-1?Y:re;if(ie>me){$=A.lastIndexOf(";",ie-1)+1;continue}const fe=m(A,$,ie),xe=p(A,ie,fe),P=A.slice(fe,xe);if(N[P]===void 0){let x=m(A,ie+1,me),R=p(A,me,x);const O=H(A.slice(x,R));N[P]=O}$=me+1}while($<Y);return N}function m(A,k,N){do{const Y=A.charCodeAt(k);if(Y!==32&&Y!==9)return k}while(++k<N);return N}function p(A,k,N){for(;k>N;){const Y=A.charCodeAt(--k);if(Y!==32&&Y!==9)return k+1}return N}function g(A,k,N){const Y=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const H=Y(k);if(!e.test(H))throw new TypeError(`argument val is invalid: ${k}`);let $=A+"="+H;if(!N)return $;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);$+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);$+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);$+="; Path="+N.path}if(N.expires){if(!w(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);$+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&($+="; HttpOnly"),N.secure&&($+="; Secure"),N.partitioned&&($+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return $}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Vl}jw();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w_="popstate";function zw(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Nm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return qw(e,n,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bw(){return Math.random().toString(36).substring(2,10)}function S_(i,e){return{usr:i.state,key:i.key,idx:e}}function Nm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||s||Bw()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let H=E(),$=H==null?null:H-g;g=H,p&&p({action:m,location:Y.location,delta:$})}function A(H,$){m="PUSH";let ie=Nm(Y.location,H,$);g=E()+1;let re=S_(ie,g),me=Y.createHref(ie);try{f.pushState(re,"",me)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(me)}u&&p&&p({action:m,location:Y.location,delta:1})}function k(H,$){m="REPLACE";let ie=Nm(Y.location,H,$);g=E();let re=S_(ie,g),me=Y.createHref(ie);f.replaceState(re,"",me),u&&p&&p({action:m,location:Y.location,delta:0})}function N(H){let $=o.location.origin!=="null"?o.location.origin:o.location.href,ie=typeof H=="string"?H:Wl(H);return ie=ie.replace(/ $/,"%20"),it($,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,$)}let Y={get action(){return m},get location(){return i(o,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(w_,w),p=H,()=>{o.removeEventListener(w_,w),p=null}},createHref(H){return e(o,H)},createURL:N,encodeLocation(H){let $=N(H);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:k,go(H){return f.go(H)}};return Y}function cE(i,e,n="/"){return Hw(i,e,n,!1)}function Hw(i,e,n,s){let o=typeof e=="string"?go(e):e,u=ei(o.pathname||"/",n);if(u==null)return null;let f=hE(i);Fw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=tS(u);m=Jw(f[p],g,s)}return m}function hE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Xr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),hE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Xw(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of fE(u.path))o(u,f,p)}),e}function fE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=fE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Fw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Zw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Gw=/^:[\w-]+$/,Kw=3,Qw=2,Yw=1,$w=10,Ww=-2,A_=i=>i==="*";function Xw(i,e){let n=i.split("/"),s=n.length;return n.some(A_)&&(s+=Ww),e&&(s+=Qw),n.filter(o=>!A_(o)).reduce((o,u)=>o+(Gw.test(u)?Kw:u===""?Yw:$w),s)}function Zw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Jw(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Xr([u,w.pathname]),pathnameBase:sS(Xr([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Xr([u,w.pathnameBase]))}return f}function ph(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=eS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let N=m[A]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const k=m[A];return w&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function eS(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function tS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ei(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function nS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?go(i):i;return{pathname:n?n.startsWith("/")?n:rS(n,e):e,search:aS(s),hash:oS(o)}}function rS(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sp(i){let e=iS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ap(i,e,n,s=!1){let o;typeof i=="string"?o=go(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=nS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Xr=i=>i.join("/").replace(/\/\/+/g,"/"),sS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),aS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,oS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function lS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dE=["POST","PUT","PATCH","DELETE"];new Set(dE);var uS=["GET",...dE];new Set(uS);var yo=U.createContext(null);yo.displayName="DataRouter";var Lh=U.createContext(null);Lh.displayName="DataRouterState";var mE=U.createContext({isTransitioning:!1});mE.displayName="ViewTransition";var cS=U.createContext(new Map);cS.displayName="Fetchers";var hS=U.createContext(null);hS.displayName="Await";var $n=U.createContext(null);$n.displayName="Navigation";var uu=U.createContext(null);uu.displayName="Location";var Wn=U.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var op=U.createContext(null);op.displayName="RouteError";function fS(i,{relative:e}={}){it(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext($n),{hash:o,pathname:u,search:f}=cu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function vo(){return U.useContext(uu)!=null}function br(){return it(vo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(uu).location}var pE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gE(i){U.useContext($n).static||U.useLayoutEffect(i)}function _o(){let{isDataRoute:i}=U.useContext(Wn);return i?RS():dS()}function dS(){it(vo(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(yo),{basename:e,navigator:n}=U.useContext($n),{matches:s}=U.useContext(Wn),{pathname:o}=br(),u=JSON.stringify(sp(s)),f=U.useRef(!1);return gE(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Gn(f.current,pE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=ap(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Xr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}var mS=U.createContext(null);function pS(i){let e=U.useContext(Wn).outlet;return e&&U.createElement(mS.Provider,{value:i},e)}function cu(i,{relative:e}={}){let{matches:n}=U.useContext(Wn),{pathname:s}=br(),o=JSON.stringify(sp(n));return U.useMemo(()=>ap(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function gS(i,e){return yE(i,e)}function yE(i,e,n,s){var ie;it(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=U.useContext($n),{matches:f}=U.useContext(Wn),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let re=w&&w.path||"";vE(g,!w||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let A=br(),k;if(e){let re=typeof e=="string"?go(e):e;it(E==="/"||((ie=re.pathname)==null?void 0:ie.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),k=re}else k=A;let N=k.pathname||"/",Y=N;if(E!=="/"){let re=E.replace(/^\//,"").split("/");Y="/"+N.replace(/^\//,"").split("/").slice(re.length).join("/")}let H=!u&&n&&n.matches&&n.matches.length>0?n.matches:cE(i,{pathname:Y});Gn(w||H!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Gn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=TS(H&&H.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:Xr([E,o.encodeLocation?o.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:Xr([E,o.encodeLocation?o.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),f,n,s);return e&&$?U.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function yS(){let i=xS(),e=lS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=U.createElement(U.Fragment,null,U.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var vS=U.createElement(yS,null),_S=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(Wn.Provider,{value:this.props.routeContext},U.createElement(op.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ES({routeContext:i,match:e,children:n}){let s=U.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Wn.Provider,{value:i},n)}function TS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,k=null,N=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||vS,f&&(m<0&&E===0?(vE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,N=null):m===E&&(A=!0,N=g.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),H=()=>{let $;return w?$=k:A?$=N:g.route.Component?$=U.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,U.createElement(ES,{match:g,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?U.createElement(_S,{location:n.location,revalidation:n.revalidation,component:k,error:w,children:H(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):H()},null)}function lp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(i){let e=U.useContext(yo);return it(e,lp(i)),e}function wS(i){let e=U.useContext(Lh);return it(e,lp(i)),e}function SS(i){let e=U.useContext(Wn);return it(e,lp(i)),e}function up(i){let e=SS(i),n=e.matches[e.matches.length-1];return it(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function AS(){return up("useRouteId")}function xS(){var s;let i=U.useContext(op),e=wS("useRouteError"),n=up("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function RS(){let{router:i}=bS("useNavigate"),e=up("useNavigate"),n=U.useRef(!1);return gE(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Gn(n.current,pE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var x_={};function vE(i,e,n){!e&&!x_[i]&&(x_[i]=!0,Gn(!1,n))}U.memo(IS);function IS({routes:i,future:e,state:n}){return yE(i,void 0,n,e)}function CS({to:i,replace:e,state:n,relative:s}){it(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext($n);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(Wn),{pathname:f}=br(),m=_o(),p=ap(i,sp(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function NS(i){return pS(i.context)}function _n(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){it(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,k=U.useMemo(()=>{let N=ei(p,f);return N==null?null:{location:{pathname:N,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return Gn(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:U.createElement($n.Provider,{value:m},U.createElement(uu.Provider,{children:e,value:k}))}function kS({children:i,location:e}){return gS(Dm(i),e)}function Dm(i,e=[]){let n=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Dm(s.props.children,u));return}it(s.type===_n,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dm(s.props.children,u)),n.push(f)}),n}var rh="get",ih="application/x-www-form-urlencoded";function Uh(i){return i!=null&&typeof i.tagName=="string"}function OS(i){return Uh(i)&&i.tagName.toLowerCase()==="button"}function MS(i){return Uh(i)&&i.tagName.toLowerCase()==="form"}function PS(i){return Uh(i)&&i.tagName.toLowerCase()==="input"}function VS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function LS(i,e){return i.button===0&&(!e||e==="_self")&&!VS(i)}var $c=null;function US(){if($c===null)try{new FormData(document.createElement("form"),0),$c=!1}catch{$c=!0}return $c}var jS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(i){return i!=null&&!jS.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):i}function zS(i,e){let n,s,o,u,f;if(MS(i)){let m=i.getAttribute("action");s=m?ei(m,e):null,n=i.getAttribute("method")||rh,o=dm(i.getAttribute("enctype"))||ih,u=new FormData(i)}else if(OS(i)||PS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ei(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||rh,o=dm(i.getAttribute("formenctype"))||dm(m.getAttribute("enctype"))||ih,u=new FormData(m,i),!US()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Uh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=ih,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function cp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function BS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function HS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await BS(u,n);return f.links?f.links():[]}return[]}));return QS(s.flat(1).filter(qS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function R_(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function FS(i,e,{includeHydrateFallback:n}={}){return GS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GS(i){return[...new Set(i)]}function KS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function QS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(KS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function YS(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ei(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function _E(){let i=U.useContext(yo);return cp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $S(){let i=U.useContext(Lh);return cp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var hp=U.createContext(void 0);hp.displayName="FrameworkContext";function EE(){let i=U.useContext(hp);return cp(i,"You must render this element inside a <HydratedRouter> element"),i}function WS(i,e){let n=U.useContext(hp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=U.useRef(null);U.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Y=$=>{$.forEach(ie=>{f(ie.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return A.current&&H.observe(A.current),()=>{H.disconnect()}}},[i]),U.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ll(m,k),onBlur:Ll(p,N),onMouseEnter:Ll(g,k),onMouseLeave:Ll(E,N),onTouchStart:Ll(w,k)}]:[!1,A,{}]}function Ll(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function XS({page:i,...e}){let{router:n}=_E(),s=U.useMemo(()=>cE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?U.createElement(JS,{page:i,matches:s,...e}):null}function ZS(i){let{manifest:e,routeModules:n}=EE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return HS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function JS({page:i,matches:e,...n}){let s=br(),{manifest:o,routeModules:u}=EE(),{basename:f}=_E(),{loaderData:m,matches:p}=$S(),g=U.useMemo(()=>R_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=U.useMemo(()=>R_(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,Y=!1;if(e.forEach($=>{var re;let ie=o.routes[$.route.id];!ie||!ie.hasLoader||(!g.some(me=>me.route.id===$.route.id)&&$.route.id in m&&((re=u[$.route.id])!=null&&re.shouldRevalidate)||ie.hasClientLoader?Y=!0:N.add($.route.id))}),N.size===0)return[];let H=YS(i,f);return Y&&N.size>0&&H.searchParams.set("_routes",e.filter($=>N.has($.route.id)).map($=>$.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,g,e,i,u]),A=U.useMemo(()=>FS(E,o),[E,o]),k=ZS(E);return U.createElement(U.Fragment,null,w.map(N=>U.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),A.map(N=>U.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),k.map(({key:N,link:Y})=>U.createElement("link",{key:N,...Y})))}function eA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.5.0")}catch{}function tA({basename:i,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=zw({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(DS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var bE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,En=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},k){let{basename:N}=U.useContext($n),Y=typeof g=="string"&&bE.test(g),H,$=!1;if(typeof g=="string"&&Y&&(H=g,TE))try{let R=new URL(window.location.href),O=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=ei(O.pathname,N);O.origin===R.origin&&V!=null?g=V+O.search+O.hash:$=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=fS(g,{relative:o}),[re,me,fe]=WS(s,A),xe=sA(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function P(R){e&&e(R),R.defaultPrevented||xe(R)}let x=U.createElement("a",{...A,...fe,href:H||ie,onClick:$||u?e:P,ref:eA(k,me),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return re&&!Y?U.createElement(U.Fragment,null,x,U.createElement(XS,{page:ie})):x});En.displayName="Link";var nA=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=cu(f,{relative:g.relative}),A=br(),k=U.useContext(Lh),{navigator:N,basename:Y}=U.useContext($n),H=k!=null&&cA(w)&&m===!0,$=N.encodeLocation?N.encodeLocation(w).pathname:w.pathname,ie=A.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&Y&&(re=ei(re,Y)||re);const me=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let fe=ie===$||!o&&ie.startsWith($)&&ie.charAt(me)==="/",xe=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),P={isActive:fe,isPending:xe,isTransitioning:H},x=fe?e:void 0,R;typeof s=="function"?R=s(P):R=[s,fe?"active":null,xe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(P):u;return U.createElement(En,{...g,"aria-current":x,className:R,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(P):p)});nA.displayName="NavLink";var rA=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},k)=>{let N=lA(),Y=uA(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&bE.test(m),ie=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let me=re.nativeEvent.submitter,fe=(me==null?void 0:me.getAttribute("formmethod"))||f;N(me||re.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return U.createElement("form",{ref:k,method:H,action:Y,onSubmit:s?p:ie,...A,"data-discover":!$&&i==="render"?"true":void 0})});rA.displayName="Form";function iA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wE(i){let e=U.useContext(yo);return it(e,iA(i)),e}function sA(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=_o(),p=br(),g=cu(i,{relative:u});return U.useCallback(E=>{if(LS(E,e)){E.preventDefault();let w=n!==void 0?n:Wl(p)===Wl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var aA=0,oA=()=>`__${String(++aA)}__`;function lA(){let{router:i}=wE("useSubmit"),{basename:e}=U.useContext($n),n=AS();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=zS(s,e);if(o.navigate===!1){let E=o.fetcherKey||oA();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function uA(i,{relative:e}={}){let{basename:n}=U.useContext($n),s=U.useContext(Wn);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...cu(i||".",{relative:e})},f=br();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),Wl(u)}function cA(i,e={}){let n=U.useContext(mE);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wE("useViewTransitionState"),o=cu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ei(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ei(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}new TextEncoder;var mm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function hA(){if(I_)return Qt;I_=1;var i=ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var C_;function fA(){if(C_)return mm.exports;C_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=hA(),mm.exports}const SE=U.createContext({user:null,loading:!0}),dA=()=>{};var N_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},mA=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(A=64)),s.push(n[E],n[w],n[A],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(AE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):mA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new pA;const A=u<<2|m>>4;if(s.push(A),g!==64){const k=m<<4&240|g>>2;if(s.push(k),w!==64){const N=g<<6&192|w;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class pA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gA=function(i){const e=AE(i);return xE.encodeByteArray(e,!0)},gh=function(i){return gA(i).replace(/\./g,"")},RE=function(i){try{return xE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=()=>yA().__FIREBASE_DEFAULTS__,_A=()=>{if(typeof process>"u"||typeof N_>"u")return;const i=N_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},EA=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&RE(i[1]);return e&&JSON.parse(e)},jh=()=>{try{return dA()||vA()||_A()||EA()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},IE=i=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},TA=i=>{const e=IE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},CE=()=>{var i;return(i=jh())===null||i===void 0?void 0:i.config},NE=i=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function AA(){var i;const e=(i=jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RA(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function IA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CA(){const i=Xt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function NA(){return!AA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DA(){try{return typeof indexedDB=="object"}catch{return!1}}function kA(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="FirebaseError";class Ln extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=OA,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?MA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ln(o,m,s)}}function MA(i,e){return i.replace(PA,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const PA=/\{\$([^}]+)}/g;function VA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Bs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(D_(u)&&D_(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function D_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function LA(i,e){const n=new UA(i,e);return n.subscribe.bind(n)}class UA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jA(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function pm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(i){return i&&i._delegate?i._delegate:i}class qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new bA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qA(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BA(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(i){return i===js?void 0:i}function qA(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const FA={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},GA=Me.INFO,KA={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},QA=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=KA[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=GA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const YA=(i,e)=>e.some(n=>i instanceof n);let k_,O_;function $A(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WA(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DE=new WeakMap,km=new WeakMap,kE=new WeakMap,gm=new WeakMap,dp=new WeakMap;function XA(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(qi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&DE.set(n,i)}).catch(()=>{}),dp.set(e,i),e}function ZA(i){if(km.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});km.set(i,e)}let Om={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return km.get(i);if(e==="objectStoreNames")return i.objectStoreNames||kE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function JA(i){Om=i(Om)}function ex(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ym(this),e,...n);return kE.set(s,e.sort?e.sort():[e]),qi(s)}:WA().includes(i)?function(...e){return i.apply(ym(this),e),qi(DE.get(this))}:function(...e){return qi(i.apply(ym(this),e))}}function tx(i){return typeof i=="function"?ex(i):(i instanceof IDBTransaction&&ZA(i),YA(i,$A())?new Proxy(i,Om):i)}function qi(i){if(i instanceof IDBRequest)return XA(i);if(gm.has(i))return gm.get(i);const e=tx(i);return e!==i&&(gm.set(i,e),dp.set(e,i)),e}const ym=i=>dp.get(i);function nx(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=qi(f);return s&&f.addEventListener("upgradeneeded",p=>{s(qi(f.result),p.oldVersion,p.newVersion,qi(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const rx=["get","getKey","getAll","getAllKeys","count"],ix=["put","add","delete","clear"],vm=new Map;function M_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(vm.get(e))return vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ix.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||rx.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return vm.set(e,u),u}JA(i=>({...i,get:(e,n,s)=>M_(e,n)||i.get(e,n,s),has:(e,n)=>!!M_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ax(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function ax(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",P_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new fp("@firebase/app"),ox="@firebase/app-compat",lx="@firebase/analytics-compat",ux="@firebase/analytics",cx="@firebase/app-check-compat",hx="@firebase/app-check",fx="@firebase/auth",dx="@firebase/auth-compat",mx="@firebase/database",px="@firebase/data-connect",gx="@firebase/database-compat",yx="@firebase/functions",vx="@firebase/functions-compat",_x="@firebase/installations",Ex="@firebase/installations-compat",Tx="@firebase/messaging",bx="@firebase/messaging-compat",wx="@firebase/performance",Sx="@firebase/performance-compat",Ax="@firebase/remote-config",xx="@firebase/remote-config-compat",Rx="@firebase/storage",Ix="@firebase/storage-compat",Cx="@firebase/firestore",Nx="@firebase/vertexai",Dx="@firebase/firestore-compat",kx="firebase",Ox="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm="[DEFAULT]",Mx={[Mm]:"fire-core",[ox]:"fire-core-compat",[ux]:"fire-analytics",[lx]:"fire-analytics-compat",[hx]:"fire-app-check",[cx]:"fire-app-check-compat",[fx]:"fire-auth",[dx]:"fire-auth-compat",[mx]:"fire-rtdb",[px]:"fire-data-connect",[gx]:"fire-rtdb-compat",[yx]:"fire-fn",[vx]:"fire-fn-compat",[_x]:"fire-iid",[Ex]:"fire-iid-compat",[Tx]:"fire-fcm",[bx]:"fire-fcm-compat",[wx]:"fire-perf",[Sx]:"fire-perf-compat",[Ax]:"fire-rc",[xx]:"fire-rc-compat",[Rx]:"fire-gcs",[Ix]:"fire-gcs-compat",[Cx]:"fire-fst",[Dx]:"fire-fst-compat",[Nx]:"fire-vertex","fire-js":"fire-js",[kx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map,Px=new Map,Vm=new Map;function V_(i,e){try{i.container.addComponent(e)}catch(n){ti.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const e=i.name;if(Vm.has(e))return ti.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,i);for(const n of yh.values())V_(n,i);for(const n of Px.values())V_(n,i);return!0}function mp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new hu("app","Firebase",Vx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=Ox;function OE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Pm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Hi.create("bad-app-name",{appName:String(o)});if(n||(n=CE()),!n)throw Hi.create("no-options");const u=yh.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw Hi.create("duplicate-app",{appName:o})}const f=new HA(o);for(const p of Vm.values())f.addComponent(p);const m=new Lx(n,s,f);return yh.set(o,m),m}function ME(i=Pm){const e=yh.get(i);if(!e&&i===Pm&&CE())return OE();if(!e)throw Hi.create("no-app",{appName:i});return e}function Fi(i,e,n){var s;let o=(s=Mx[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ti.warn(m.join(" "));return}oo(new qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="firebase-heartbeat-database",jx=1,Xl="firebase-heartbeat-store";let _m=null;function PE(){return _m||(_m=nx(Ux,jx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hi.create("idb-open",{originalErrorMessage:i.message})})),_m}async function zx(i){try{const n=(await PE()).transaction(Xl),s=await n.objectStore(Xl).get(VE(i));return await n.done,s}catch(e){if(e instanceof Ln)ti.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ti.warn(n.message)}}}async function L_(i,e){try{const s=(await PE()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,VE(i)),await s.done}catch(n){if(n instanceof Ln)ti.warn(n.message);else{const s=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(s.message)}}}function VE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1024,qx=30;class Hx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=U_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>qx){const f=Kx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ti.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:s,unsentEntries:o}=Fx(this._heartbeatsCache.heartbeats),u=gh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ti.warn(n),""}}}function U_(){return new Date().toISOString().substring(0,10)}function Fx(i,e=Bx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),j_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),j_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Gx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DA()?kA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j_(i){return gh(JSON.stringify({version:2,heartbeats:i})).length}function Kx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i){oo(new qs("platform-logger",e=>new sx(e),"PRIVATE")),oo(new qs("heartbeat",e=>new Hx(e),"PRIVATE")),Fi(Mm,P_,i),Fi(Mm,P_,"esm2017"),Fi("fire-js","")}Qx("");function pp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function LE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yx=LE,UE=new hu("auth","Firebase",LE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new fp("@firebase/auth");function $x(i,...e){vh.logLevel<=Me.WARN&&vh.warn(`Auth (${Eo}): ${i}`,...e)}function sh(i,...e){vh.logLevel<=Me.ERROR&&vh.error(`Auth (${Eo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw gp(i,...e)}function yr(i,...e){return gp(i,...e)}function jE(i,e,n){const s=Object.assign(Object.assign({},Yx()),{[e]:n});return new hu("auth","Firebase",s).create(e,{appName:i.name})}function Zr(i){return jE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return UE.create(i,...e)}function Ee(i,e,...n){if(!i)throw gp(e,...n)}function $r(i){const e="INTERNAL ASSERTION FAILED: "+i;throw sh(e),new Error(e)}function ni(i,e){i||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Wx(){return z_()==="http:"||z_()==="https:"}function z_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wx()||RA()||"connection"in navigator)?navigator.onLine:!0}function Zx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ni(n>e,"Short delay should be less than long delay!"),this.isMobile=SA()||IA()}get(){return Xx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(i,e){ni(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tR=new du(3e4,6e4);function ai(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Xn(i,e,n,s,o={}){return BE(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return xA()||(g.referrerPolicy="no-referrer"),zE.fetch()(await qE(i,i.config.apiHost,n,m),g)})}async function BE(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},Jx),e);try{const o=new rR(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw jE(i,E,g);Kn(i,E)}}catch(o){if(o instanceof Ln)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function mu(i,e,n,s,o={}){const u=await Xn(i,e,n,s,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function qE(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?yp(i.config,o):`${i.config.apiScheme}://${o}`;return eR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function nR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yr(this.auth,"network-request-failed")),tR.get())})}}function Wc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yr(i,e,s);return o.customData._tokenResponse=n,o}function B_(i){return i!==void 0&&i.enterprise!==void 0}class iR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sR(i,e){return Xn(i,"GET","/v2/recaptchaConfig",ai(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(i,e){return Xn(i,"POST","/v1/accounts:delete",e)}async function _h(i,e){return Xn(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oR(i,e=!1){const n=ht(i),s=await n.getIdToken(e),o=vp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(Em(o.auth_time)),issuedAtTime:Gl(Em(o.iat)),expirationTime:Gl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Em(i){return Number(i)*1e3}function vp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=RE(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function q_(i){const e=vp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ln&&lR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function lR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Hs(i,_h(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?HE(u.providerUserInfo):[],m=hR(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Um(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function cR(i){const e=ht(i);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hR(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function HE(i){return i.map(e=>{var{providerId:n}=e,s=pp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(i,e){const n=await BE(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await qE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",zE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dR(i,e){return Xn(i,"POST","/v2/accounts:revokeToken",ai(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=q_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Fn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Um(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Hs(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oR(this,e)}reload(){return cR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await Hs(this,aR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,H=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ie=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:me,isAnonymous:fe,providerData:xe,stsTokenManager:P}=n;Ee(re&&P,e,"internal-error");const x=ro.fromJSON(this.name,P);Ee(typeof re=="string",e,"internal-error"),Vi(w,e.name),Vi(A,e.name),Ee(typeof me=="boolean",e,"internal-error"),Ee(typeof fe=="boolean",e,"internal-error"),Vi(k,e.name),Vi(N,e.name),Vi(Y,e.name),Vi(H,e.name),Vi($,e.name),Vi(ie,e.name);const R=new Fn({uid:re,auth:e,email:A,emailVerified:me,displayName:w,isAnonymous:fe,photoURL:N,phoneNumber:k,tenantId:Y,stsTokenManager:x,createdAt:$,lastLoginAt:ie});return xe&&Array.isArray(xe)&&(R.providerData=xe.map(O=>Object.assign({},O))),H&&(R._redirectEventId=H),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?HE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const p=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Um(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;function Wr(i){ni(i instanceof Function,"Expected a class definition");let e=H_.get(i);return e?(ni(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,H_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const F_=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,e,n){return`firebase:${i}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Wr(F_),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wr(F_);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await _h(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Fn._fromGetAccountInfoResponse(e,A,E)}else w=Fn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(XE(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||QE(e))&&!e.includes("edge/"))return"Chrome";if($E(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function GE(i=Xt()){return/firefox\//i.test(i)}function KE(i=Xt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QE(i=Xt()){return/crios\//i.test(i)}function YE(i=Xt()){return/iemobile/i.test(i)}function $E(i=Xt()){return/android/i.test(i)}function WE(i=Xt()){return/blackberry/i.test(i)}function XE(i=Xt()){return/webos/i.test(i)}function _p(i=Xt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function mR(i=Xt()){var e;return _p(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pR(){return CA()&&document.documentMode===10}function ZE(i=Xt()){return _p(i)||$E(i)||XE(i)||WE(i)||/windows phone/i.test(i)||YE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(i,e=[]){let n;switch(i){case"Browser":n=G_(Xt());break;case"Worker":n=`${G_(Xt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,e={}){return Xn(i,"GET","/v2/passwordPolicy",ai(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6;class _R{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:vR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K_(this),this.idTokenSubscription=new K_(this),this.beforeStateQueue=new gR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Zr(this));const n=e?ht(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yR(this),n=new _R(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$x(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(i){return ht(i)}class K_{constructor(e){this.auth=e,this.observer=null,this.addObserver=LA(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TR(i){zh=i}function eT(i){return zh.loadJS(i)}function bR(){return zh.recaptchaEnterpriseScript}function wR(){return zh.gapiScript}function SR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class AR{constructor(){this.enterprise=new xR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RR="recaptcha-enterprise",tT="NO_RECAPTCHA";class IR{constructor(e){this.type=RR,this.auth=Ji(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{sR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new iR(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(tT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&B_(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bR();p.length!==0&&(p+=m),eT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function Q_(i,e,n,s=!1,o=!1){const u=new IR(i);let f;if(o)f=tT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Th(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Q_(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Q_(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(i,e){const n=mp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function NR(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function DR(i,e,n){const s=Ji(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=nT(e),{host:f,port:m}=kR(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Bs(g,s.config.emulator)&&Bs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,OR()}function nT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function kR(i){const e=nT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Y_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Y_(f)}}}function Y_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function OR(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}async function MR(i,e){return Xn(i,"POST","/v1/accounts:update",e)}async function PR(i,e){return Xn(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(i,e){return mu(i,"POST","/v1/accounts:signInWithPassword",ai(i,e))}async function LR(i,e){return Xn(i,"POST","/v1/accounts:sendOobCode",ai(i,e))}async function UR(i,e){return LR(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",ai(i,e))}async function zR(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",ai(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,n,"signInWithPassword",VR);case"emailLink":return jR(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,s,"signUpPassword",PR);case"emailLink":return zR(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(i,e){return mu(i,"POST","/v1/accounts:signInWithIdp",ai(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="http://localhost";class Fs extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=pp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Fs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,so(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:BR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HR(i){const e=jl(zl(i)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(i)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||i}class Tp{constructor(e){var n,s,o,u,f,m;const p=jl(zl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=qR((o=p.mode)!==null&&o!==void 0?o:null);Ee(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=HR(e);try{return new Tp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.providerId=$s.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tp.parseLink(n);return Ee(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}$s.PROVIDER_ID="password";$s.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends rT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends pu{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends pu{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends pu{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zi.credential(n,s)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(i,e){return mu(i,"POST","/v1/accounts:signUp",ai(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=$_(s);return new Gs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=$_(s);return new Gs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function $_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends Ln{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function iT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(i,u,e,s):u})}async function GR(i,e,n=!1){const s=await Hs(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Gs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sT(i,e,n=!1){const{auth:s}=i;if(Pn(s.app))return Promise.reject(Zr(s));const o="reauthenticate";try{const u=await Hs(i,iT(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=vp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Gs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aT(i,e,n=!1){if(Pn(i.app))return Promise.reject(Zr(i));const s="signIn",o=await iT(i,s,e),u=await Gs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function KR(i,e){return aT(Ji(i),e)}async function QR(i,e){return sT(ht(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oT(i){const e=Ji(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YR(i,e,n){const s=Ji(i);await Th(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",UR)}async function $R(i,e,n){if(Pn(i.app))return Promise.reject(Zr(i));const s=Ji(i),f=await Th(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&oT(i),p}),m=await Gs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function WR(i,e,n){return Pn(i.app)?Promise.reject(Zr(i)):KR(ht(i),$s.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&oT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(i,e){return Xn(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ht(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Hs(s,XR(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function JR(i,e){return e2(ht(i),null,e)}async function e2(i,e,n){const{auth:s}=i,u={idToken:await i.getIdToken(),returnSecureToken:!0};n&&(u.password=n);const f=await Hs(i,MR(s,u));await i._updateTokensIfNecessary(f,!0)}function t2(i,e,n,s){return ht(i).onIdTokenChanged(e,n,s)}function n2(i,e,n){return ht(i).beforeAuthStateChanged(e,n)}function r2(i,e,n,s){return ht(i).onAuthStateChanged(e,n,s)}function i2(i){return ht(i).signOut()}async function s2(i){return ht(i).delete()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=1e3,o2=10;class uT extends lT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);pR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},a2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uT.type="LOCAL";const l2=uT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends lT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cT.type="SESSION";const hT=cT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await u2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=bp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function h2(i){vr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function f2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function m2(){return fT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="firebaseLocalStorageDb",p2=1,Sh="firebaseLocalStorage",mT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(i,e){return i.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function g2(){const i=indexedDB.deleteDatabase(dT);return new gu(i).toPromise()}function jm(){const i=indexedDB.open(dT,p2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Sh,{keyPath:mT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await g2(),e(await jm()))})})}async function W_(i,e,n){const s=qh(i,!0).put({[mT]:e,value:n});return new gu(s).toPromise()}async function y2(i,e){const n=qh(i,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function X_(i,e){const n=qh(i,!0).delete(e);return new gu(n).toPromise()}const v2=800,_2=3;class pT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>_2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(m2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await f2(),!this.activeServiceWorker)return;this.sender=new c2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jm();return await W_(e,wh,"1"),await X_(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>W_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>y2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pT.type="LOCAL";const E2=pT;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(i,e){return e?Wr(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function b2(i){return aT(i.auth,new wp(i),i.bypassAuthState)}function w2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),sT(n,new wp(i),i.bypassAuthState)}async function S2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),GR(n,new wp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b2;case"linkViaPopup":case"linkViaRedirect":return S2;case"reauthViaPopup":case"reauthViaRedirect":return w2;default:Kn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new du(2e3,1e4);class no extends gT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A2.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="pendingRedirect",oh=new Map;class R2 extends gT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await I2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I2(i,e){const n=D2(e),s=N2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function C2(i,e){oh.set(i._key(),e)}function N2(i){return Wr(i._redirectPersistence)}function D2(i){return ah(x2,i.config.apiKey,i.name)}async function k2(i,e,n=!1){if(Pn(i.app))return Promise.reject(Zr(i));const s=Ji(i),o=T2(s,e),f=await new R2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=10*60*1e3;class M2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!yT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function yT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(i,e={}){return Xn(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U2=/^https?/;async function j2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await V2(i);for(const n of e)try{if(z2(n))return}catch{}Kn(i,"unauthorized-domain")}function z2(i){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!U2.test(n))return!1;if(L2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new du(3e4,6e4);function J_(){const i=vr().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function q2(i){return new Promise((e,n)=>{var s,o,u;function f(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),n(yr(i,"network-request-failed"))},timeout:B2.get()})}if(!((o=(s=vr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=vr().gapi)===null||u===void 0)&&u.load)f();else{const m=SR("iframefcb");return vr()[m]=()=>{gapi.load?f():n(yr(i,"network-request-failed"))},eT(`${wR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw lh=null,e})}let lh=null;function H2(i){return lh=lh||q2(i),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new du(5e3,15e3),G2="__/auth/iframe",K2="emulator/auth/iframe",Q2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $2(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?yp(e,K2):`https://${i.config.authDomain}/${G2}`,s={apiKey:e.apiKey,appName:i.name,v:Eo},o=Y2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function W2(i){const e=await H2(i),n=vr().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:$2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=yr(i,"network-request-failed"),m=vr().setTimeout(()=>{u(f)},F2.get());function p(){vr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z2=500,J2=600,eI="_blank",tI="http://localhost";class e0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nI(i,e,n,s=Z2,o=J2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},X2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Xt().toLowerCase();n&&(m=QE(g)?eI:n),GE(g)&&(e=e||tI,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,N])=>`${A}${k}=${N},`,"");if(mR(g)&&m!=="_self")return rI(e||"",m),new e0(null);const w=window.open(e||"",m,E);Ee(w,i,"popup-blocked");try{w.focus()}catch{}return new e0(w)}function rI(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__/auth/handler",sI="emulator/auth/handler",aI=encodeURIComponent("fac");async function t0(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(e instanceof rT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",VA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof pu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${aI}=${encodeURIComponent(p)}`:"";return`${oI(i)}?${fu(m).slice(1)}${g}`}function oI({config:i}){return i.emulator?yp(i,sI):`https://${i.authDomain}/${iI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class lI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hT,this._completeRedirectFn=k2,this._overrideRedirectResult=C2}async _openPopup(e,n,s,o){var u;ni((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await t0(e,n,s,Lm(),o);return nI(e,f,bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await t0(e,n,s,Lm(),o);return h2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ni(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await W2(e),s=new M2(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Tm];f!==void 0&&n(!!f),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=j2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZE()||KE()||_p()}}const uI=lI;var n0="@firebase/auth",r0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fI(i){oo(new qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JE(i)},g=new ER(s,o,u,p);return NR(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new qs("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(s=>new cI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fi(n0,r0,hI(i)),Fi(n0,r0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=5*60,mI=NE("authIdTokenMaxAge")||dI;let i0=null;const pI=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mI)return;const o=n==null?void 0:n.token;i0!==o&&(i0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Zn(i=ME()){const e=mp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=CR(i,{popupRedirectResolver:uI,persistence:[E2,l2,hT]}),s=NE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=pI(u.toString());n2(n,f,()=>f(n.currentUser)),t2(n,m=>f(m))}}const o=IE("auth");return o&&DR(n,`http://${o}`),n}function gI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}TR({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=yr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fI("Browser");var yI="firebase",vI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi(yI,vI,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,vT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function R(){}R.prototype=x.prototype,P.D=x.prototype,P.prototype=new R,P.prototype.constructor=P,P.C=function(O,V,z){for(var C=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)C[Vt-2]=arguments[Vt];return x.prototype[V].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,x,R){R||(R=0);var O=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)O[V]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=P.g[0],R=P.g[1],V=P.g[2];var z=P.g[3],C=x+(z^R&(V^z))+O[0]+3614090360&4294967295;x=R+(C<<7&4294967295|C>>>25),C=z+(V^x&(R^V))+O[1]+3905402710&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(R^z&(x^R))+O[2]+606105819&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(x^V&(z^x))+O[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(z^R&(V^z))+O[4]+4118548399&4294967295,x=R+(C<<7&4294967295|C>>>25),C=z+(V^x&(R^V))+O[5]+1200080426&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(R^z&(x^R))+O[6]+2821735955&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(x^V&(z^x))+O[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(z^R&(V^z))+O[8]+1770035416&4294967295,x=R+(C<<7&4294967295|C>>>25),C=z+(V^x&(R^V))+O[9]+2336552879&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(R^z&(x^R))+O[10]+4294925233&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(x^V&(z^x))+O[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(z^R&(V^z))+O[12]+1804603682&4294967295,x=R+(C<<7&4294967295|C>>>25),C=z+(V^x&(R^V))+O[13]+4254626195&4294967295,z=x+(C<<12&4294967295|C>>>20),C=V+(R^z&(x^R))+O[14]+2792965006&4294967295,V=z+(C<<17&4294967295|C>>>15),C=R+(x^V&(z^x))+O[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=x+(V^z&(R^V))+O[1]+4129170786&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(x^R))+O[6]+3225465664&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(z^x))+O[11]+643717713&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(V^z))+O[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^z&(R^V))+O[5]+3593408605&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(x^R))+O[10]+38016083&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(z^x))+O[15]+3634488961&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(V^z))+O[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^z&(R^V))+O[9]+568446438&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(x^R))+O[14]+3275163606&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(z^x))+O[3]+4107603335&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(V^z))+O[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(V^z&(R^V))+O[13]+2850285829&4294967295,x=R+(C<<5&4294967295|C>>>27),C=z+(R^V&(x^R))+O[2]+4243563512&4294967295,z=x+(C<<9&4294967295|C>>>23),C=V+(x^R&(z^x))+O[7]+1735328473&4294967295,V=z+(C<<14&4294967295|C>>>18),C=R+(z^x&(V^z))+O[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=x+(R^V^z)+O[5]+4294588738&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^V)+O[8]+2272392833&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^R)+O[11]+1839030562&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^x)+O[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^z)+O[1]+2763975236&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^V)+O[4]+1272893353&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^R)+O[7]+4139469664&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^x)+O[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^z)+O[13]+681279174&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^V)+O[0]+3936430074&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^R)+O[3]+3572445317&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^x)+O[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(R^V^z)+O[9]+3654602809&4294967295,x=R+(C<<4&4294967295|C>>>28),C=z+(x^R^V)+O[12]+3873151461&4294967295,z=x+(C<<11&4294967295|C>>>21),C=V+(z^x^R)+O[15]+530742520&4294967295,V=z+(C<<16&4294967295|C>>>16),C=R+(V^z^x)+O[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=x+(V^(R|~z))+O[0]+4096336452&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~V))+O[7]+1126891415&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~R))+O[14]+2878612391&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~x))+O[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~z))+O[12]+1700485571&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~V))+O[3]+2399980690&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~R))+O[10]+4293915773&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~x))+O[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~z))+O[8]+1873313359&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~V))+O[15]+4264355552&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~R))+O[6]+2734768916&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~x))+O[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=x+(V^(R|~z))+O[4]+4149444226&4294967295,x=R+(C<<6&4294967295|C>>>26),C=z+(R^(x|~V))+O[11]+3174756917&4294967295,z=x+(C<<10&4294967295|C>>>22),C=V+(x^(z|~R))+O[2]+718787259&4294967295,V=z+(C<<15&4294967295|C>>>17),C=R+(z^(V|~x))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+z&4294967295}s.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var R=x-this.blockSize,O=this.B,V=this.h,z=0;z<x;){if(V==0)for(;z<=R;)o(this,P,z),z+=this.blockSize;if(typeof P=="string"){for(;z<x;)if(O[V++]=P.charCodeAt(z++),V==this.blockSize){o(this,O),V=0;break}}else for(;z<x;)if(O[V++]=P[z++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=x},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var R=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=R&255,R/=256;for(this.u(P),P=Array(16),x=R=0;4>x;++x)for(var O=0;32>O;O+=8)P[R++]=this.g[x]>>>O&255;return P};function u(P,x){var R=m;return Object.prototype.hasOwnProperty.call(R,P)?R[P]:R[P]=x(P)}function f(P,x){this.h=x;for(var R=[],O=!0,V=P.length-1;0<=V;V--){var z=P[V]|0;O&&z==x||(R[V]=z,O=!1)}this.g=R}var m={};function p(P){return-128<=P&&128>P?u(P,function(x){return new f([x|0],0>x?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return H(g(-P));for(var x=[],R=1,O=0;P>=R;O++)x[O]=P/R|0,R*=4294967296;return new f(x,0)}function E(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return H(E(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(x,8)),O=w,V=0;V<P.length;V+=8){var z=Math.min(8,P.length-V),C=parseInt(P.substring(V,V+z),x);8>z?(z=g(Math.pow(x,z)),O=O.j(z).add(g(C))):(O=O.j(R),O=O.add(g(C)))}return O}var w=p(0),A=p(1),k=p(16777216);i=f.prototype,i.m=function(){if(Y(this))return-H(this).m();for(var P=0,x=1,R=0;R<this.g.length;R++){var O=this.i(R);P+=(0<=O?O:4294967296+O)*x,x*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(N(this))return"0";if(Y(this))return"-"+H(this).toString(P);for(var x=g(Math.pow(P,6)),R=this,O="";;){var V=me(R,x).g;R=$(R,V.j(x));var z=((0<R.g.length?R.g[0]:R.h)>>>0).toString(P);if(R=V,N(R))return z+O;for(;6>z.length;)z="0"+z;O=z+O}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function N(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function Y(P){return P.h==-1}i.l=function(P){return P=$(this,P),Y(P)?-1:N(P)?0:1};function H(P){for(var x=P.g.length,R=[],O=0;O<x;O++)R[O]=~P.g[O];return new f(R,~P.h).add(A)}i.abs=function(){return Y(this)?H(this):this},i.add=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],O=0,V=0;V<=x;V++){var z=O+(this.i(V)&65535)+(P.i(V)&65535),C=(z>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);O=C>>>16,z&=65535,C&=65535,R[V]=C<<16|z}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(P,x){return P.add(H(x))}i.j=function(P){if(N(this)||N(P))return w;if(Y(this))return Y(P)?H(this).j(H(P)):H(H(this).j(P));if(Y(P))return H(this.j(H(P)));if(0>this.l(k)&&0>P.l(k))return g(this.m()*P.m());for(var x=this.g.length+P.g.length,R=[],O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<P.g.length;V++){var z=this.i(O)>>>16,C=this.i(O)&65535,Vt=P.i(V)>>>16,ot=P.i(V)&65535;R[2*O+2*V]+=C*ot,ie(R,2*O+2*V),R[2*O+2*V+1]+=z*ot,ie(R,2*O+2*V+1),R[2*O+2*V+1]+=C*Vt,ie(R,2*O+2*V+1),R[2*O+2*V+2]+=z*Vt,ie(R,2*O+2*V+2)}for(O=0;O<x;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=x;O<2*x;O++)R[O]=0;return new f(R,0)};function ie(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function re(P,x){this.g=P,this.h=x}function me(P,x){if(N(x))throw Error("division by zero");if(N(P))return new re(w,w);if(Y(P))return x=me(H(P),x),new re(H(x.g),H(x.h));if(Y(x))return x=me(P,H(x)),new re(H(x.g),x.h);if(30<P.g.length){if(Y(P)||Y(x))throw Error("slowDivide_ only works with positive integers.");for(var R=A,O=x;0>=O.l(P);)R=fe(R),O=fe(O);var V=xe(R,1),z=xe(O,1);for(O=xe(O,2),R=xe(R,2);!N(O);){var C=z.add(O);0>=C.l(P)&&(V=V.add(R),z=C),O=xe(O,1),R=xe(R,1)}return x=$(P,V.j(x)),new re(V,x)}for(V=w;0<=P.l(x);){for(R=Math.max(1,Math.floor(P.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),z=g(R),C=z.j(x);Y(C)||0<C.l(P);)R-=O,z=g(R),C=z.j(x);N(z)&&(z=A),V=V.add(z),P=$(P,C)}return new re(V,P)}i.A=function(P){return me(this,P).h},i.and=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)&P.i(O);return new f(R,this.h&P.h)},i.or=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)|P.i(O);return new f(R,this.h|P.h)},i.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)^P.i(O);return new f(R,this.h^P.h)};function fe(P){for(var x=P.g.length+1,R=[],O=0;O<x;O++)R[O]=P.i(O)<<1|P.i(O-1)>>>31;return new f(R,P.h)}function xe(P,x){var R=x>>5;x%=32;for(var O=P.g.length-R,V=[],z=0;z<O;z++)V[z]=0<x?P.i(z+R)>>>x|P.i(z+R+1)<<32-x:P.i(z+R);return new f(V,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Gi=f}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _T,Bl,ET,uh,zm,TT,bT,wT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function A(c,y,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function k(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,Q){for(var ae=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ae[Ve-2]=arguments[Ve];return y.prototype[B].apply(S,ae)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function H(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,Q=S.length||0;c.length=B+Q;for(let ae=0;ae<Q;ae++)c[B+ae]=S[ae]}else c.push(S)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ie(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var fe=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function xe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let Q=0;Q<R.length;Q++)v=R[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,v){const S=ot.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new $(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,Be=new Vt,D=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ne)}};var ne=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){z(v)}var y=ot;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ne(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(fe){e:{try{me(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}N(Ne,se);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Jn(c,y,v,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Je,this.da=this.fa=!1}function oi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wr(c){this.src=c,this.g={},this.h=0}wr.prototype.add=function(c,y,v,S,B){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=rs(c,y,S,B);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new Jn(y,this.src,Q,!!S,B),y.fa=v,c.push(y)),y};function ns(c,y){var v=y.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(S,B,1),Q&&(oi(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function rs(c,y,v,S){for(var B=0;B<c.length;++B){var Q=c[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return B}return-1}var is="closure_lm_"+(1e6*Math.random()|0),Ro={};function Au(c,y,v,S,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Au(c,y[Q],v,S,B);return null}return v=xu(v),c&&c[Ct]?c.K(y,v,g(S)?!!S.capture:!1,B):bn(c,y,v,!1,S,B)}function bn(c,y,v,S,B,Q){if(!y)throw Error("Invalid event type");var ae=g(B)?!!B.capture:!!B,Ve=oa(c);if(Ve||(c[is]=Ve=new wr(c)),v=Ve.add(y,v,S,ae,Q),v.proxy)return v;if(S=cf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ye||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(ss(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function cf(){function c(v){return y.call(c.src,c.listener,v)}const y=hf;return c}function Io(c,y,v,S,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Io(c,y[Q],v,S,B);else S=g(S)?!!S.capture:!!S,v=xu(v),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=rs(Q,v,S,B),-1<v&&(oi(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=oa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=rs(y,v,S,B)),(v=-1<c?y[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])ns(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ss(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=oa(y))?(ns(v,c),v.h==0&&(v.src=null,y[is]=null)):oi(c)}}}function ss(c){return c in Ro?Ro[c]:Ro[c]="on"+c}function hf(c,y){if(c.da)c=!0;else{y=new Ne(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&aa(c),c=v.call(S,y)}return c}function oa(c){return c=c[is],c instanceof wr?c:null}var Co="__closure_events_fn_"+(1e9*Math.random()>>>0);function xu(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function lt(){le.call(this),this.i=new wr(this),this.M=this,this.F=null}N(lt,le),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(c,y,v,S){Io(this,c,y,v,S)};function Ge(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(S,c),O(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ae=y.g=v[Q];B=cn(ae,S,!0,y)&&B}if(ae=y.g=c,B=cn(ae,S,!0,y)&&B,B=cn(ae,S,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)ae=y.g=v[Q],B=cn(ae,S,!1,y)&&B}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)oi(v[S]);delete c.g[y],c.h--}}this.F=null},lt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},lt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function cn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==v){var Ve=ae.listener,wt=ae.ha||ae.src;ae.fa&&ns(c.i,ae),B=Ve.call(wt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Gt(c,y,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Ru(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ff extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){le.call(this),this.h=c,this.g={}}N(as,le);var os=[];function ls(c){xe(c.g,function(y,v){this.g.hasOwnProperty(v)&&aa(y)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,la=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function ko(){}var Sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){se.call(this,"d")}N(Ar,se);function Oo(){se.call(this,"c")}N(Oo,se);var er={},Mo=null;function li(){return Mo=Mo||new lt}er.La="serverreachability";function ua(c){se.call(this,er.La,c)}N(ua,se);function ui(c){const y=li();Ge(y,new ua(y))}er.STAT_EVENT="statevent";function Iu(c,y){se.call(this,er.STAT_EVENT,c),this.stat=y}N(Iu,se);function nt(c){const y=li();Ge(y,new Iu(y,c))}er.Ma="timingevent";function bt(c,y){se.call(this,er.Ma,c),this.size=y}N(bt,se);function gt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Po(c,y,v,S,B,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ve=Q.split("&"),wt=0;wt<Ve.length;wt++){var Le=Ve[wt].split("=");if(1<Le.length){var Dt=Le[0];Le=Le[1];var St=Dt.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Dt+"="+Le+"&"):ae+(Dt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+ae})}function df(c,y,v,S,B,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+ae})}function ci(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+cs(c,v)+(S?" "+S:"")})}function Cu(c,y){c.info(function(){return"TIMEOUT: "+y})}wn.prototype.info=function(){};function cs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return Un(v)}catch{return y}}var hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tr;function nr(){}N(nr,No),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},tr=new nr;function Zt(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Vo={},ca={};function jn(c,y,v){c.L=1,c.v=ps(hn(y)),c.m=v,c.P=!0,Rr(c,null)}function Rr(c,y){c.F=Date.now(),hs(c),c.A=hn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),qo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new ft,c.g=Gu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ff(A(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(os[0]=B.toString()),B=os);for(var Q=0;Q<B.length;Q++){var ae=Au(v,B[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ui(),Po(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&Rn(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const St=Rn(this.g);var y=this.g.Ba();const Pr=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||St!=4||y==7||(y==8||0>=Pr?ui(3):ui(2)),fi(this);var v=this.g.Z();this.X=v;t:if(Nu(this)){var S=Lu(this.g);c="";var B=S.length,Q=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),rr(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,df(this.i,this.u,this.A,this.l,this.R,St,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,wt=this.g;if((Ve=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ve)){var Le=Ve;break t}}Le=null}if(v=Le)ci(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,v);else{this.o=!1,this.s=3,nt(12),Lt(this),rr(this);break e}}if(this.P){v=!0;let Ut;for(;!this.J&&this.C<ae.length;)if(Ut=Du(this,ae),Ut==ca){St==4&&(this.s=4,nt(14),v=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Vo){this.s=4,nt(15),ci(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else ci(this.i,this.l,Ut,null),fs(this,Ut);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)ci(this.i,this.l,ae,"[Invalid Chunked Response]"),Lt(this),rr(this);else if(0<ae.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ws(Dt),Dt.M=!0,nt(11))}}else ci(this.i,this.l,ae,null),fs(this,ae);St==4&&Lt(this),this.o&&!this.J&&(St==4?qu(this.j,this):(this.o=!1,hs(this)))}else vf(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Lt(this),rr(this)}}}catch{}finally{}};function Nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Du(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ca:(v=Number(y.substring(v,S)),isNaN(v)?Vo:(S+=1,S+v>y.length?ca:(y=y.slice(S,S+v),c.C=S+v,y)))}Zt.prototype.cancel=function(){this.J=!0,Lt(this)};function hs(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=gt(A(c.ba,c),y)}function fi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Cu(this.i,this.A),this.L!=2&&(ui(),nt(17)),Lt(this),this.s=2,rr(this)):ku(this,this.S-c)};function rr(c){c.j.G==0||c.J||qu(c.j,c)}function Lt(c){fi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function fs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Lo(v.h,c))){if(!c.K&&Lo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ba(v),Ea(v);else break e;Qo(v),nt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=gt(A(v.Za,v),6e3));if(1>=fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Mr(v,11)}else if((c.K||v.g==c)&&ba(v),!ie(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Le=B[y];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Dt=Le[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const St=Le[4];St!=null&&(v.Aa=St,v.j.info("SVER="+v.Aa));const Pr=Le[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(S=1.5*Pr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Ut=c.g;if(Ut){const cr=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cr){var Q=S.h;Q.g||cr.indexOf("spdy")==-1&&cr.indexOf("quic")==-1&&cr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(da(Q,Q.h),Q.h=null))}if(S.D){const $o=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(S.ya=$o,Ye(S.I,S.D,$o))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=Fu(S,S.J?S.ia:null,S.W),ae.K){Jt(S.h,ae);var Ve=ae,wt=S.L;wt&&(Ve.I=wt),Ve.B&&(fi(Ve),hs(Ve)),S.g=ae}else zu(S);0<v.i.length&&Ta(v)}else Le[0]!="stop"&&Le[0]!="close"||Mr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mr(v,7):Go(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}ui(4)}catch{}}var Ou=class{constructor(c,y){this.g=c,this.map=y}};function Ir(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function Lo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function da(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ir.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function mf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ma(c),S=mf(c),B=S.length,Q=0;Q<B;Q++)y.call(void 0,S[Q],v&&v[Q],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var Q=c[v].substring(0,S);B=c[v].substring(S+1)}else Q=c[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,di(this,c.s),this.l=c.l;var y=c.i,v=new Nr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Cr(this,v),this.m=c.m}else c&&(y=String(c).match(ds))?(this.h=!1,ms(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),di(this,y[4]),this.l=Sn(y[5]||"",!0),Cr(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}yt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(gs(y,zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(gs(y,zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(gs(v,v.charAt(0)=="/"?gf:Bo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",gs(v,pa)),c.join("")};function hn(c){return new yt(c)}function ms(c,y,v){c.j=v?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function di(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Cr(c,y,v){y instanceof Nr?(c.i=y,Pu(c.i,c.h)):(v||(y=gs(y,yf)),c.i=new Nr(y,c.h))}function Ye(c,y,v){c.i.set(y,v)}function ps(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Mu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,Bo=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,pa=/#/g;function Nr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&pf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Nr.prototype,i.add=function(c,y){An(this),this.i=null,c=ir(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Dr(c,y){An(c),y=ir(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function kr(c,y){return An(c),y=ir(c,y),c.g.has(y)}i.forEach=function(c,y){An(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(y,B,S,this)},this)},this)},i.na=function(){An(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=c[S];for(let Q=0;Q<B.length;Q++)v.push(y[S])}return v},i.V=function(c){An(this);let y=[];if(typeof c=="string")kr(this,c)&&(y=y.concat(this.g.get(ir(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return An(this),this.i=null,c=ir(this,c),kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,v){Dr(c,y),0<v.length&&(c.i=null,c.g.set(ir(c,y),Y(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var B=Q;ae[S]!==""&&(B+="="+encodeURIComponent(String(ae[S]))),c.push(B)}}return this.i=c.join("&")};function ir(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(An(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Dr(this,S),qo(this,B,v))},c)),c.j=y}function ys(c,y){const v=new wn;if(m.Image){const S=new Image;S.onload=k(xn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=k(xn,v,"TestLoadImage: error",!1,y,S),S.onabort=k(xn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=k(xn,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function zn(c,y){const v=new wn,S=new AbortController,B=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(B),Q.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function vs(){this.g=new us}function sr(c,y,v){const S=v||"";try{jo(c,function(B,Q){let ae=B;g(B)&&(ae=Un(B)),y.push(S+Q+"="+encodeURIComponent(ae))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(mi,No),mi.prototype.g=function(){return new Or(this.l,this.j)},mi.prototype.i=function(c){return function(){return c}}({});function Or(c,y){lt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Or,lt),i=Or.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,or(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,or(this)),this.g&&(this.readyState=3,or(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ar(this):or(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ar(this))},i.Qa=function(c){this.g&&(this.response=c,ar(this))},i.ga=function(){this.g&&ar(this)};function ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,or(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function or(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return xe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Nt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Fo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,y,v))}function He(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(He,lt);var ga=/^https?$/i,_s=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tr.g(),this.v=this.o?Do(this.o):Do(tr),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Vu(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_s,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Vu(this,Q)}};function Vu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ya(c),lr(c)}function ya(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),lr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},i.bb=function(){va(this)};function va(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Gt(c.Ea,0,c);else if(Ge(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ae===0){var B=String(c.D).match(ds)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ga.test(B?B.toLowerCase():"")}v=S}if(v)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var Q=2<Rn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ya(c)}}finally{lr(c)}}}}function lr(c,y){if(c.g){Es(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ge(c,"ready");try{v.onreadystatechange=S}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),la(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const y={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ie(c[S]))continue;var v=V(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}P(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function _a(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ir(c&&c.concurrentRequestLimit),this.Da=new vs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_a.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){nt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Fu(this,null,this.W),Ta(this)};function Go(c){if(Uu(c),c.G==3){var y=c.U++,v=hn(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),bs(c,v),y=new Zt(c,c.j,y),y.L=2,y.v=ps(hn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),hs(y)}Hu(c)}function Ea(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function Uu(c){Ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||D(),pe||(oe(),pe=!0),Be.add(y,c),c.B=0}}function _f(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=gt(A(c.Ga,c,y),Yo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Zt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=x(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ju(this,B,y),v=hn(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),bs(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Fo(Q)))+"&"+y:this.m&&Nt(v,this.m,Q)),da(this.h,B),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",y),Ye(v,"SID","null"),B.T=!0,jn(B,v,null)):jn(B,v,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||ha(this.h)||Ko(this))};function Ko(c,y){var v;y?v=y.l:v=c.U++;const S=hn(c.I);Ye(S,"SID",c.K),Ye(S,"RID",v),Ye(S,"AID",c.T),bs(c,S),c.m&&c.o&&Nt(S,c.m,c.o),v=new Zt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),da(c.h,v),jn(v,S,y)}function bs(c,y){c.H&&xe(c.H,function(v,S){Ye(y,S,v)}),c.l&&jo({},function(v,S){Ye(y,S,v)})}function ju(c,y,v){v=Math.min(c.i.length,v);var S=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let Q=-1;for(;;){const ae=["count="+v];Q==-1?0<v?(Q=B[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ve=!0;for(let wt=0;wt<v;wt++){let Le=B[wt].g;const Dt=B[wt].map;if(Le-=Q,0>Le)Q=Math.max(0,B[wt].g-100),Ve=!1;else try{sr(Dt,ae,"req"+Le+"_")}catch{S&&S(Dt)}}if(Ve){S=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||D(),pe||(oe(),pe=!0),Be.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=gt(A(c.Fa,c),Yo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=gt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Ea(this),Bu(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Ye(y,"RID","rpc"),Ye(y,"SID",c.K),Ye(y,"AID",c.T),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(y,"TO",c.ja),Ye(y,"TYPE","xmlhttp"),bs(c,y),c.m&&c.o&&Nt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ps(hn(y)),v.m=null,v.P=!0,Rr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ea(this),Qo(this),nt(19))};function ba(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){ba(c),ws(c),c.g=null;var S=2}else if(Lo(c.h,y))v=y.D,Jt(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=li(),Ge(S,new bt(S,v)),Ta(c)}else zu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&_f(c,y)||S==2&&Qo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Mr(c,5);break;case 4:Mr(c,10);break;case 3:Mr(c,6);break;default:Mr(c,2)}}}function Yo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Mr(c,y){if(c.j.info("Error code "+y),y==2){var v=A(c.fb,c),S=c.Xa;const B=!S;S=new yt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(S,"https"),ps(S),B?ys(S.toString(),v):zn(S.toString(),v)}else nt(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,v){var S=v instanceof yt?hn(v):new yt(v);if(S.g!="")y&&(S.g=y+"."+S.g),di(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new yt(null);S&&ms(Q,S),y&&(Q.g=y),B&&di(Q,B),v&&(Q.l=v),S=Q}return v=c.D,y=c.ya,v&&y&&Ye(S,v,y),Ye(S,"VER",c.la),bs(c,S),S}function Gu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new mi({eb:v})):new He(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new en(c,y)};function en(c,y){lt.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ie(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ie(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ur(this)}N(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Go(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Un(c),c=v);y.i.push(new Ou(y.Ya++,c)),y.G==3&&Ta(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,en.aa.N.call(this)};function Qu(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}N(Qu,Ar);function Yu(){Oo.call(this),this.status=1}N(Yu,Oo);function ur(c){this.g=c}N(ur,Ku),ur.prototype.ua=function(){Ge(this.g,"a")},ur.prototype.ta=function(c){Ge(this.g,new Qu(c))},ur.prototype.sa=function(c){Ge(this.g,new Yu)},ur.prototype.ra=function(){Ge(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,wT=function(){return new wa},bT=function(){return li()},TT=er,zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hi.NO_ERROR=0,hi.TIMEOUT=8,hi.HTTP_ERROR=6,uh=hi,xr.COMPLETE="complete",ET=xr,ko.EventType=Sr,Sr.OPEN="a",Sr.CLOSE="b",Sr.ERROR="c",Sr.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Bl=ko,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,_T=He}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const a0="@firebase/firestore",o0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new fp("@firebase/firestore");function Za(){return Ks.logLevel}function ue(i,...e){if(Ks.logLevel<=Me.DEBUG){const n=e.map(Sp);Ks.debug(`Firestore (${To}): ${i}`,...n)}}function ri(i,...e){if(Ks.logLevel<=Me.ERROR){const n=e.map(Sp);Ks.error(`Firestore (${To}): ${i}`,...n)}}function lo(i,...e){if(Ks.logLevel<=Me.WARN){const n=e.map(Sp);Ks.warn(`Firestore (${To}): ${i}`,...n)}}function Sp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+i;throw ri(e),new Error(e)}function Fe(i,e){i||be()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class EI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TI{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Jr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Jr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new ST(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new $t(e)}}class bI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new bI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new l0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new l0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=AI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Bm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=AT(),f=xI(u.encode(u0(i,n)),u.encode(u0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function u0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function xI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function uo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=-62135596800,h0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*h0);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<c0)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/h0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-c0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Rt(0,0))}static max(){return new Se(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="__name__";class gr{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=gr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=gr.isNumericId(e),o=gr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?gr.extractNumericId(e).compare(gr.extractNumericId(n)):Bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class tt extends gr{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const RI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends gr{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return RI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===f0}static keyField(){return new Ht([f0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function II(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Qi(o,ge.empty(),e)}function CI(i){return new Qi(i.readTime,i.key,Jl)}class Qi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qi(Se.min(),ge.empty(),Jl)}static max(){return new Qi(Se.max(),ge.empty(),Jl)}}function NI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==DI)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function OI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Hh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function Fh(i){return i==null}function Ah(i){return i===0&&1/i==-1/0}function MI(i){return typeof i=="number"&&Number.isInteger(i)&&!Ah(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function PI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=d0(e)),e=VI(i.get(n),e);return d0(e)}function VI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case RT:n+="";break;default:n+=u}}return n}function d0(i){return i+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function es(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function IT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p0(this.data.getIterator())}getIteratorFrom(e){return new p0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class p0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new CT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const LI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(i){if(Fe(!!i),typeof i=="string"){let e=0;const n=LI.exec(i);if(Fe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $i(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",DT="__type__",kT="__previous_value__",OT="__local_write_time__";function xp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[DT])===null||n===void 0?void 0:n.stringValue)===NT}function Gh(i){const e=i.mapValue.fields[kT];return xp(e)?Gh(e):e}function eu(i){const e=Yi(i.mapValue.fields[OT].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const xh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__type__",jI="__max__",Jc={mapValue:{}},PT="__vector__",Rh="value";function Wi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xp(i)?4:BI(i)?9007199254740991:zI(i)?10:11:be()}function Tr(i,e){if(i===e)return!0;const n=Wi(i);if(n!==Wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return eu(i).isEqual(eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yi(o.timestampValue),m=Yi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return $i(o.bytesValue).isEqual($i(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(m0(f)!==m0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Tr(f[p],m[p])))return!1;return!0}(i,e);default:return be()}}function nu(i,e){return(i.values||[]).find(n=>Tr(n,e))!==void 0}function co(i,e){if(i===e)return 0;const n=Wi(i),s=Wi(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return g0(i.timestampValue,e.timestampValue);case 4:return g0(eu(i),eu(e));case 5:return Bm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=$i(u),p=$i(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(pt(u.latitude),pt(f.latitude));return m!==0?m:Ce(pt(u.longitude),pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return y0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},k=(m=w[Rh])===null||m===void 0?void 0:m.arrayValue,N=(p=A[Rh])===null||p===void 0?void 0:p.arrayValue,Y=Ce(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:y0(k,N)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Bm(p[w],E[w]);if(A!==0)return A;const k=co(m[p[w]],g[E[w]]);if(k!==0)return k}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function g0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Yi(i),s=Yi(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function y0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function ho(i){return qm(i)}function qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Yi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return $i(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${qm(n.fields[f])}`;return o+"}"}(i.mapValue):be()}function ch(i){switch(Wi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(i);return e?16+ch(e):16;case 5:return 2*i.stringValue.length;case 6:return $i(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ch(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+ch(f)}),o}(i.mapValue);default:throw be()}}function v0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Hm(i){return!!i&&"integerValue"in i}function Rp(i){return!!i&&"arrayValue"in i}function _0(i){return!!i&&"nullValue"in i}function E0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hh(i){return!!i&&"mapValue"in i}function zI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[MT])===null||n===void 0?void 0:n.stringValue)===PT}function Kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return es(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function BI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(Kl(this.value))}}function VT(i){const e=[];return es(i.fields,(n,s)=>{const o=new Ht([n]);if(hh(s)){const u=VT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n){this.position=e,this.inclusive=n}}function T0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function b0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Tr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function qI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{}class Tt extends LT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new FI(e,n,s):n==="array-contains"?new QI(e,s):n==="in"?new YI(e,s):n==="not-in"?new $I(e,s):n==="array-contains-any"?new WI(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new GI(e,s):new KI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(co(n,this.value)):n!==null&&Wi(this.value)===Wi(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends LT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Qn(e,n)}matches(e){return UT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function UT(i){return i.op==="and"}function jT(i){return HI(i)&&UT(i)}function HI(i){for(const e of i.filters)if(e instanceof Qn)return!1;return!0}function Fm(i){if(i instanceof Tt)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(jT(i))return i.filters.map(e=>Fm(e)).join(",");{const e=i.filters.map(n=>Fm(n)).join(",");return`${i.op}(${e})`}}function zT(i,e){return i instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Tr(s.value,o.value)}(i,e):i instanceof Qn?function(s,o){return o instanceof Qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&zT(f,o.filters[m]),!0):!1}(i,e):void be()}function BT(i){return i instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(i):i instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(BT).join(" ,")+"}"}(i):"Filter"}class FI extends Tt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class GI extends Tt{constructor(e,n){super(e,"in",n),this.keys=qT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KI extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=qT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class QI extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&nu(n.arrayValue,this.value)}}class YI extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class $I extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}}class WI extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function w0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new XI(i,e,n,s,o,u,f)}function Ip(i){const e=Ae(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ho(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ho(s)).join(",")),e.le=n}return e.le}function Cp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!qI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!zT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!b0(i.startAt,e.startAt)&&b0(i.endAt,e.endAt)}function Gm(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ZI(i,e,n,s,o,u,f,m){return new yu(i,e,n,s,o,u,f,m)}function Np(i){return new yu(i)}function S0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function HT(i){return i.collectionGroup!==null}function Ql(i){const e=Ae(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ch(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new Ch(Ht.keyField(),s))}return e.he}function _r(i){const e=Ae(i);return e.Pe||(e.Pe=JI(e,Ql(i))),e.Pe}function JI(i,e){if(i.limitType==="F")return w0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ch(o.field,u)});const n=i.endAt?new Ih(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ih(i.startAt.position,i.startAt.inclusive):null;return w0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Km(i,e){const n=i.filters.concat([e]);return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Qm(i,e,n){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Kh(i,e){return Cp(_r(i),_r(e))&&i.limitType===e.limitType}function FT(i){return`${Ip(_r(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>BT(o)).join(", ")}]`),Fh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ho(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ho(o)).join(",")),`Target(${s})`}(_r(i))}; limitType=${i.limitType})`}function Qh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=T0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=T0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function eC(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function GT(i){return(e,n)=>{let s=!1;for(const o of Ql(i)){const u=tC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function tC(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?co(p,g):be()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return IT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new at(ge.comparator);function ii(){return nC}const KT=new at(ge.comparator);function ql(...i){let e=KT;for(const n of i)e=e.insert(n.key,n);return e}function QT(i){let e=KT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zs(){return Yl()}function YT(){return Yl()}function Yl(){return new Ws(i=>i.toString(),(i,e)=>i.isEqual(e))}const rC=new at(ge.comparator),iC=new It(ge.comparator);function Pe(...i){let e=iC;for(const n of i)e=e.add(n);return e}const sC=new It(Ce);function aC(){return sC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function $T(i){return{integerValue:""+i}}function oC(i,e){return MI(e)?$T(e):Dp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function lC(i,e,n){return i instanceof ru?function(o,u){const f={fields:{[DT]:{stringValue:NT},[OT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=Gh(u)),u&&(f.fields[kT]=u),{mapValue:f}}(n,e):i instanceof iu?XT(i,e):i instanceof su?ZT(i,e):function(o,u){const f=WT(o,u),m=A0(f)+A0(o.Ie);return Hm(f)&&Hm(o.Ie)?$T(m):Dp(o.serializer,m)}(i,e)}function uC(i,e,n){return i instanceof iu?XT(i,e):i instanceof su?ZT(i,e):n}function WT(i,e){return i instanceof Nh?function(s){return Hm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ru extends Yh{}class iu extends Yh{constructor(e){super(),this.elements=e}}function XT(i,e){const n=JT(e);for(const s of i.elements)n.some(o=>Tr(o,s))||n.push(s);return{arrayValue:{values:n}}}class su extends Yh{constructor(e){super(),this.elements=e}}function ZT(i,e){let n=JT(e);for(const s of i.elements)n=n.filter(o=>!Tr(o,s));return{arrayValue:{values:n}}}class Nh extends Yh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function A0(i){return pt(i.integerValue||i.doubleValue)}function JT(i){return Rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.field=e,this.transform=n}}function hC(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof iu&&o instanceof iu||s instanceof su&&o instanceof su?uo(s.elements,o.elements,Tr):s instanceof Nh&&o instanceof Nh?Tr(s.Ie,o.Ie):s instanceof ru&&o instanceof ru}(i.transform,e.transform)}class fC{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $h{}function eb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new kp(i.key,Vn.none()):new vu(i.key,i.data,Vn.none());{const n=i.data,s=un.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(i.key,s,new Tn(o.toArray()),Vn.none())}}function dC(i,e,n){i instanceof vu?function(o,u,f){const m=o.value.clone(),p=R0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof ts?function(o,u,f){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=R0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(tb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(i,e,n,s){return i instanceof vu?function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=u.value.clone(),E=I0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof ts?function(u,f,m,p){if(!fh(u.precondition,f))return m;const g=I0(u.fieldTransforms,p,f),E=f.data;return E.setAll(tb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return fh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function mC(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=WT(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function x0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,(u,f)=>hC(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class vu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function R0(i,e,n){const s=new Map;Fe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,uC(f,m,n[o]))}return s}function I0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,lC(u,f,e))}return s}class kp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&dC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=YT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=eb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,s)=>x0(n,s))&&uo(this.baseMutations,e.baseMutations,(n,s)=>x0(n,s))}}class Op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length);let o=function(){return rC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,je;function _C(i){switch(i){case te.OK:return be();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return be()}}function nb(i){if(i===void 0)return ri("GRPC error has no .code"),te.UNKNOWN;switch(i){case Et.OK:return te.OK;case Et.CANCELLED:return te.CANCELLED;case Et.UNKNOWN:return te.UNKNOWN;case Et.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Et.INTERNAL:return te.INTERNAL;case Et.UNAVAILABLE:return te.UNAVAILABLE;case Et.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Et.NOT_FOUND:return te.NOT_FOUND;case Et.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Et.ABORTED:return te.ABORTED;case Et.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Et.DATA_LOSS:return te.DATA_LOSS;default:return be()}}(je=Et||(Et={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Gi([4294967295,4294967295],0);function C0(i){const e=AT().encode(i),n=new vT;return n.update(e),new Uint8Array(n.digest())}function N0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gi([n,s],0),new Gi([o,u],0)]}class Mp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gi.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Gi.fromNumber(s)));return o.compare(EC)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=C0(e),[s,o]=N0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Mp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=C0(e),[s,o]=N0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Wh(Se.min(),o,new at(Ce),ii(),Pe())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class rb{constructor(e,n){this.targetId=e,this.ge=n}}class ib{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class D0{constructor(){this.pe=0,this.ye=k0(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new _u(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=k0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class TC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ii(),this.$e=eh(),this.Ue=eh(),this.Ke=new at(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Gm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Wt.newNoDocument(f,Se.min()))}else Fe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=$i(s).toUint8Array()}catch(p){if(p instanceof CT)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mp(f,o,u)}catch(p){return lo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Gm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Wt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Wh(e,n,this.Ke,this.Qe,s);return this.Qe=ii(),this.$e=eh(),this.Ue=eh(),this.Ke=new at(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new D0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new It(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new It(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new D0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function eh(){return new at(ge.comparator)}function k0(){return new at(ge.comparator)}const bC={asc:"ASCENDING",desc:"DESCENDING"},wC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC={and:"AND",or:"OR"};class AC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ym(i,e){return i.useProto3Json||Fh(e)?e:{value:e}}function Dh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function xC(i,e){return Dh(i,e.toTimestamp())}function Er(i){return Fe(!!i),Se.fromTimestamp(function(n){const s=Yi(n);return new Rt(s.seconds,s.nanos)}(i))}function Pp(i,e){return $m(i,e).canonicalString()}function $m(i,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ab(i){const e=tt.fromString(i);return Fe(hb(e)),e}function Wm(i,e){return Pp(i.databaseId,e.path)}function bm(i,e){const n=ab(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(lb(n))}function ob(i,e){return Pp(i.databaseId,e)}function RC(i){const e=ab(i);return e.length===4?tt.emptyPath():lb(e)}function Xm(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function lb(i){return Fe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function O0(i,e,n){return{name:Wm(i,e),fields:n.value.mapValue.fields}}function IC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Fe(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?te.UNKNOWN:nb(g.code);return new ce(E,g.message||"")}(f);n=new ib(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=bm(i,s.document.name),u=Er(s.document.updateTime),f=s.document.createTime?Er(s.document.createTime):Se.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=bm(i,s.document),u=s.readTime?Er(s.readTime):Se.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new dh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=bm(i,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new vC(o,u),m=s.targetId;n=new rb(m,f)}}return n}function CC(i,e){let n;if(e instanceof vu)n={update:O0(i,e.key,e.value)};else if(e instanceof kp)n={delete:Wm(i,e.key)};else if(e instanceof ts)n={update:O0(i,e.key,e.data),updateMask:UC(e.fieldMask)};else{if(!(e instanceof pC))return be();n={verify:Wm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof ru)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:xC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),n}function NC(i,e){return i&&i.length>0?(Fe(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?Er(o.updateTime):Er(u);return f.isEqual(Se.min())&&(f=Er(u)),new fC(f,o.transformResults||[])}(n,e))):[]}function DC(i,e){return{documents:[ob(i,e.path)]}}function kC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ob(i,o);const u=function(g){if(g.length!==0)return cb(Qn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:eo(A.field),direction:PC(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ym(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function OC(i){let e=RC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=ub(w);return A instanceof Qn&&jT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(N){return new Ch(to(N.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,Fh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,k=w.values||[];return new Ih(k,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,k=w.values||[];return new Ih(k,A)}(n.endAt)),ZI(e,o,f,u,m,"F",p,g)}function MC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ub(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(n){return Tt.create(to(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(s=>ub(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(i):be()}function PC(i){return bC[i]}function VC(i){return wC[i]}function LC(i){return SC[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return Ht.fromServerFormat(i.fieldPath)}function cb(i){return i instanceof Tt?function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(_0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(_0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:VC(n.op),value:n.value}}}(i):i instanceof Qn?function(n){const s=n.getFilters().map(o=>cb(o));return s.length===1?s[0]:{compositeFilter:{op:LC(n.op),filters:s}}}(i):be()}function UC(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.Tt=e}}function zC(i){const e=OC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Tn=new qC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Qi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class qC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fb=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(fb,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fo(0)}static Kn(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",HC=1048576;function V0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class FC{constructor(e){this.Hn=e,this.buffer=new It(V0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();V0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(P0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ue(P0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.er(3e5)})}}class KC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Hh.ae);const s=new FC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(M0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Za()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function QC(i,e){return new KC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&$l(s.mutation,o,Tn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ii();const f=Yl(),m=function(){return Yl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),Rt.now())):f.set(g.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new $C(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new at((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Tn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=YT();E.forEach(A=>{if(!u.has(A)){const k=eb(n.get(A),s.get(A));k!==null&&w.set(A,k),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(zs());let m=Jl,p=u;return f.next(g=>ee.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(E=>({batchId:m,changes:QT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(w,A){return new yu(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,Tn.empty(),Rt.now()),Qh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Er(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:zC(o.bundledQuery),readTime:Er(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=zs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=zs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return ee.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new yC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(){this.Vr=new It(Pt.mr),this.gr=new It(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Pt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ge(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new Pt(n,e),o=new Pt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Pt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Pt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new gC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Pt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ap:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ce);return n.forEach(o=>{const u=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ee.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Pt(new ge(u),0);let m=new It(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),ee.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ee.forEach(n.mutations,o=>{const u=new Pt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Mr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ii();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ii();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||NI(CI(E),s)<=0||(o.has(E.key)||Qh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new nN(this)}getSize(e){return ee.resolve(this.size)}}class nN extends YC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.persistence=e,this.Qr=new Ws(n=>Ip(n),Cp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Vp,this.targetCount=0,this.Kr=fo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Hh(0),this.zr=!1,this.zr=!0,this.jr=new JC,this.referenceDelegate=e(this),this.Hr=new rN(this),this.indexManager=new BC,this.remoteDocumentCache=function(o){return new tN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jC(n),this.Yr=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new eN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new iN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ee.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class iN extends kI{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.ti=new Vp,this.ni=null}static ri(e){return new Lp(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class kh{constructor(e,n){this.persistence=e,this.oi=new Ws(s=>PI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QC(this,n)}static ri(e,n){return new kh(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}ar(e,n,s){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Up(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return NA()?8:OI(Xt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new sN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Za()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Za()<=Me.DEBUG&&ue("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Za()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):ee.resolve())}rs(e,n){if(S0(n))return ee.resolve(null);let s=_r(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Qm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return S0(n)||o.isEqual(Se.min())?ee.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ee.resolve(null):(Za()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.hs(e,f,n,II(o,Jl)).next(m=>m))})}cs(e,n){let s=new It(GT(e));return n.forEach((o,u)=>{Qh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Za()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ns.getDocumentsMatchingQuery(e,n,Qi.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",oN=3e8;class lN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ce),this.Is=new Ws(u=>Ip(u),Cp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function uN(i,e,n,s){return new lN(i,e,n,s)}async function mb(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function cN(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let k=ee.resolve();return A.forEach(N=>{k=k.next(()=>E.getEntry(p,N)).next(Y=>{const H=g.docVersions.get(N);Fe(H!==null),Y.version.compareTo(H)<0&&(w.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function pb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function hN(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Ft.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(w,k),function(Y,H,$){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=oN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,k,E)&&m.push(n.Hr.updateTargetData(u,k))});let p=ii(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(fN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function fN(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ii();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function dN(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mN(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Bi(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Zm(i,e,n){const s=Ae(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;ue(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function L0(i,e,n){const s=Ae(i);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ae(p),A=w.Is.get(E);return A!==void 0?ee.resolve(w.Ts.get(A)):w.Hr.getTargetData(g,E)}(s,f,_r(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>(pN(s,eC(e),m),{documents:m,gs:u})))}function pN(i,e,n){let s=i.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class U0{constructor(){this.activeTargetIds=aC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gN{constructor(){this.ho=new U0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new U0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="ConnectivityMonitor";class z0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(j0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(j0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Jm(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _N{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Jm(),m=this.bo(e,n.toUriEncodedString());ue(wm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(wm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw lo(wm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=vN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class TN extends _N{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Jm();return new Promise((f,m)=>{const p=new _T;p.setWithCredentials(!0),p.listenOnce(ET.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case uh.NO_ERROR:const E=p.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case uh.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),m(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const w=p.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A==null?void 0:A.error;if(k&&k.status&&k.message){const N=function(H){const $=H.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN}(k.status);m(new ce(N,k.message))}else m(new ce(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ce(te.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Jm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=wT(),m=bT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,k=!1;const N=new EN({Fo:H=>{k?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(A||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,H),w.send(H))},Mo:()=>w.close()}),Y=(H,$,ie)=>{H.listen($,re=>{try{ie(re)}catch(me){setTimeout(()=>{throw me},0)}})};return Y(w,Bl.EventType.OPEN,()=>{k||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),N.Qo())}),Y(w,Bl.EventType.CLOSE,()=>{k||(k=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),N.Uo())}),Y(w,Bl.EventType.ERROR,H=>{k||(k=!0,lo(Yt,`RPC '${e}' stream ${o} transport errored:`,H),N.Uo(new ce(te.UNAVAILABLE,"The operation could not be completed")))}),Y(w,Bl.EventType.MESSAGE,H=>{var $;if(!k){const ie=H.data[0];Fe(!!ie);const re=ie,me=(re==null?void 0:re.error)||(($=re[0])===null||$===void 0?void 0:$.error);if(me){ue(Yt,`RPC '${e}' stream ${o} received error:`,me);const fe=me.status;let xe=function(R){const O=Et[R];if(O!==void 0)return nb(O)}(fe),P=me.message;xe===void 0&&(xe=te.INTERNAL,P="Unknown error status: "+fe+" with message "+me.message),k=!0,N.Uo(new ce(xe,P)),w.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,ie),N.Ko(ie)}}),Y(m,TT.STAT_EVENT,H=>{H.stat===zm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===zm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i){return new AC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class yb{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bN extends yb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=IC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Er(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Xm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Gm(p)?{documents:DC(u,p)}:{query:kC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sb(u,f.resumeToken);const g=Ym(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=Ym(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=MC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.I_(n)}}class wN extends yb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=NC(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Xm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>CC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{}class AN extends SN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,$m(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,$m(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ri(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class RN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(ue(Qs,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.W_.add(4),await Eu(g),g.j_.set("Unknown"),g.W_.delete(4),await Zh(g)}(this))})}),this.j_=new xN(s,o)}}async function Zh(i){if(Xs(i))for(const e of i.G_)await e(!0)}async function Eu(i){for(const e of i.G_)await e(!1)}function vb(i,e){const n=Ae(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Hp(n)?qp(n):So(n).c_()&&Bp(n,e))}function zp(i,e){const n=Ae(i),s=So(n);n.K_.delete(e),s.c_()&&_b(n,e),n.K_.size===0&&(s.c_()?s.P_():Xs(n)&&n.j_.set("Unknown"))}function Bp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(i).y_(e)}function _b(i,e){i.H_.Ne(e),So(i).w_(e)}function qp(i){i.H_=new TC({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),So(i).start(),i.j_.B_()}function Hp(i){return Xs(i)&&!So(i).u_()&&i.K_.size>0}function Xs(i){return Ae(i).W_.size===0}function Eb(i){i.H_=void 0}async function IN(i){i.j_.set("Online")}async function CN(i){i.K_.forEach((e,n)=>{Bp(i,e)})}async function NN(i,e){Eb(i),Hp(i)?(i.j_.q_(e),qp(i)):i.j_.set("Unknown")}async function DN(i,e,n){if(i.j_.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){ue(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oh(i,s)}else if(e instanceof dh?i.H_.We(e):e instanceof rb?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Se.min()))try{const s=await pb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),_b(u,p);const w=new Bi(E.target,p,g,E.sequenceNumber);Bp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(Qs,"Failed to raise snapshot:",s),await Oh(i,s)}}async function Oh(i,e,n){if(!wo(e))throw e;i.W_.add(1),await Eu(i),i.j_.set("Offline"),n||(n=()=>pb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Qs,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Zh(i)})}function Tb(i,e){return e().catch(n=>Oh(i,n,e))}async function Jh(i){const e=Ae(i),n=Xi(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ap;for(;kN(e);)try{const o=await dN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,ON(e,o)}catch(o){await Oh(e,o)}bb(e)&&wb(e)}function kN(i){return Xs(i)&&i.U_.length<10}function ON(i,e){i.U_.push(e);const n=Xi(i);n.c_()&&n.S_&&n.b_(e.mutations)}function bb(i){return Xs(i)&&!Xi(i).u_()&&i.U_.length>0}function wb(i){Xi(i).start()}async function MN(i){Xi(i).C_()}async function PN(i){const e=Xi(i);for(const n of i.U_)e.b_(n.mutations)}async function VN(i,e,n){const s=i.U_.shift(),o=Op.from(s,e,n);await Tb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Jh(i)}async function LN(i,e){e&&Xi(i).S_&&await async function(s,o){if(function(f){return _C(f)&&f!==te.ABORTED}(o.code)){const u=s.U_.shift();Xi(s).h_(),await Tb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jh(s)}}(i,e),bb(i)&&wb(i)}async function q0(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(Qs,"RemoteStore received new credentials");const s=Xs(n);n.W_.add(3),await Eu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Zh(n)}async function UN(i,e){const n=Ae(i);e?(n.W_.delete(2),await Zh(n)):e||(n.W_.add(2),await Eu(n),n.j_.set("Unknown"))}function So(i){return i.J_||(i.J_=function(n,s,o){const u=Ae(n);return u.M_(),new bN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:IN.bind(null,i),No:CN.bind(null,i),Lo:NN.bind(null,i),p_:DN.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Hp(i)?qp(i):i.j_.set("Unknown")):(await i.J_.stop(),Eb(i))})),i.J_}function Xi(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new wN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:MN.bind(null,i),Lo:LN.bind(null,i),D_:PN.bind(null,i),v_:VN.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Jh(i)):(await i.Y_.stop(),i.U_.length>0&&(ue(Qs,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Fp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(i,e){if(ri("AsyncQueue",`${e}: ${i}`),wo(i))return new ce(te.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class mo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new mo(e,n,ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zN{constructor(){this.queries=F0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=F0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function F0(){return new Ws(i=>FT(i),Kh)}async function Sb(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new jN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Kp(n)}async function Ab(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function BN(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Kp(n)}function qN(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Kp(i){i.ia.forEach(e=>{e.next()})}var ep,G0;(G0=ep||(ep={}))._a="default",G0.Cache="cache";class xb{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ep.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.key=e}}class Ib{constructor(e){this.key=e}}class HN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=GT(e),this.wa=new ao(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new H0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),k=Qh(this.query,w)?w:null,N=!!A&&this.mutatedKeys.has(A.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let H=!1;A&&k?A.data.isEqual(k.data)?N!==Y&&(s.track({type:3,doc:k}),H=!0):this.va(A,k)||(s.track({type:2,doc:k}),H=!0,(p&&this.ya(k,p)>0||g&&this.ya(k,g)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),H=!0):A&&!k&&(s.track({type:1,doc:A}),H=!0,(p||g)&&(m=!0)),H&&(k?(f=f.add(k),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(k,N){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return Y(k)-Y(N)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new mo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new H0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Ib(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Rb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qp="SyncEngine";class FN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class GN{constructor(e){this.key=e,this.Ba=!1}}class KN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ws(m=>FT(m),Kh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ua=new Map,this.Ka=new Vp,this.Wa={},this.Ga=new Map,this.za=fo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function QN(i,e,n=!0){const s=Mb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Cb(s,e,n,!0),o}async function YN(i,e){const n=Mb(i);await Cb(n,e,!0,!1)}async function Cb(i,e,n,s){const o=await mN(i.localStore,_r(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $N(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&vb(i.remoteStore,o),m}async function $N(i,e,n,s,o){i.Ha=(w,A,k)=>async function(Y,H,$,ie){let re=H.view.ba($);re.ls&&(re=await L0(Y.localStore,H.query,!1).then(({documents:P})=>H.view.ba(P,re)));const me=ie&&ie.targetChanges.get(H.targetId),fe=ie&&ie.targetMismatches.get(H.targetId)!=null,xe=H.view.applyChanges(re,Y.isPrimaryClient,me,fe);return Q0(Y,H.targetId,xe.Ma),xe.snapshot}(i,w,A,k);const u=await L0(i.localStore,e,!0),f=new HN(e,u.gs),m=f.ba(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);Q0(i,n,g.Ma);const E=new FN(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function WN(i,e,n){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Kh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),tp(s,o.targetId)}).catch(bo)):(tp(s,o.targetId),await Zm(s.localStore,o.targetId,!0))}async function XN(i,e){const n=Ae(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function ZN(i,e,n){const s=sD(i);try{const o=await function(f,m){const p=Ae(f),g=Rt.now(),E=m.reduce((k,N)=>k.add(N.key),Pe());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let N=ii(),Y=Pe();return p.ds.getEntries(k,E).next(H=>{N=H,N.forEach(($,ie)=>{ie.isValidDocument()||(Y=Y.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,N)).next(H=>{w=H;const $=[];for(const ie of m){const re=mC(ie,w.get(ie.key).overlayedDocument);re!=null&&$.push(new ts(ie.key,re,VT(re.value.mapValue),Vn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,$,m)}).next(H=>{A=H;const $=H.applyToLocalDocumentSet(w,Y);return p.documentOverlayCache.saveOverlays(k,H.batchId,$)})}).then(()=>({batchId:A.batchId,changes:QT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new at(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Tu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function Nb(i,e){const n=Ae(i);try{const s=await hN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Fe(f.Ba):o.removedDocuments.size>0&&(Fe(f.Ba),f.Ba=!1))}),await Tu(n,s,e)}catch(s){await bo(s)}}function K0(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(g=!0)}),g&&Kp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JN(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Wh(Se.min(),new Map,new at(Ce),f,m);await Nb(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Yp(s)}else await Zm(s.localStore,e,!1).then(()=>tp(s,e,n)).catch(bo)}async function eD(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await cN(n.localStore,e);kb(n,s,null),Db(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await bo(o)}}async function tD(i,e,n){const s=Ae(i);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(Fe(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);kb(s,e,n),Db(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await bo(o)}}function Db(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function kb(i,e,n){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function tp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Ob(i,s)})}function Ob(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(zp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Yp(i))}function Q0(i,e,n){for(const s of n)s instanceof Rb?(i.Ka.addReference(s.key,e),nD(i,s)):s instanceof Ib?(ue(Qp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Ob(i,s.key)):be()}function nD(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ue(Qp,"New document in limbo: "+n),i.Qa.add(s),Yp(i))}function Yp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ge(tt.fromString(e)),s=i.za.next();i.Ua.set(s,new GN(n)),i.$a=i.$a.insert(n,s),vb(i.remoteStore,new Bi(_r(Np(n.path)),s,"TargetPurposeLimboResolution",Hh.ae))}}async function Tu(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Up.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(g,A=>ee.forEach(A.Hi,k=>E.persistence.referenceDelegate.addReference(w,A.targetId,k)).next(()=>ee.forEach(A.Ji,k=>E.persistence.referenceDelegate.removeReference(w,A.targetId,k)))))}catch(w){if(!wo(w))throw w;ue(jp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const k=E.Ts.get(A),N=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(N);E.Ts=E.Ts.insert(A,Y)}}}(s.localStore,u))}async function rD(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(Qp,"User change. New user:",e.toKey());const s=await mb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ce(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Rs)}}function iD(i,e){const n=Ae(i),s=n.Ua.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Mb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JN.bind(null,e),e.La.p_=BN.bind(null,e.eventManager),e.La.Ja=qN.bind(null,e.eventManager),e}function sD(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return uN(this.persistence,new aN,e.initialUser,this.serializer)}Xa(e){return new db(Lp.ri,this.serializer)}Za(e){return new gN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class aD extends Mh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Fe(this.persistence.referenceDelegate instanceof kh);const s=this.persistence.referenceDelegate.garbageCollector;return new GC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new db(s=>kh.ri(s,n),this.serializer)}}class np{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),await UN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zN}()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=function(u){return new TN(u)}(e.databaseInfo);return function(u,f,m,p){return new AN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new RN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>K0(this.syncEngine,n,0),function(){return z0.D()?new z0:new yN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new KN(o,u,f,m,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(Qs,"RemoteStore shutting down."),u.W_.add(5),await Eu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}np.provider={build:()=>new np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class oD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=xT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Zi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Zi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Am(i,e){i.asyncQueue.verifyOperationInProgress(),ue(Zi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Y0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await lD(i);ue(Zi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>q0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>q0(e.remoteStore,o)),i._onlineComponents=e}async function lD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(Zi,"Using user provided OfflineComponentProvider");try{await Am(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await Am(i,new Mh)}}else ue(Zi,"Using default OfflineComponentProvider"),await Am(i,new aD(void 0));return i._offlineComponents}async function Vb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(Zi,"Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(ue(Zi,"Using default OnlineComponentProvider"),await Y0(i,new np))),i._onlineComponents}function uD(i){return Vb(i).then(e=>e.syncEngine)}async function Lb(i){const e=await Vb(i),n=e.eventManager;return n.onListen=QN.bind(null,e.syncEngine),n.onUnlisten=WN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XN.bind(null,e.syncEngine),n}function cD(i,e,n={}){const s=new Jr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Pb({next:A=>{E.su(),f.enqueueAndForget(()=>Ab(u,w));const k=A.docs.has(m);!k&&A.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&p&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new xb(Np(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Sb(u,w)}(await Lb(i),i.asyncQueue,e,n,s)),s.promise}function hD(i,e,n={}){const s=new Jr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new Pb({next:A=>{E.su(),f.enqueueAndForget(()=>Ab(u,w)),A.fromCache&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new xb(m,E,{includeMetadataChanges:!0,Ta:!0});return Sb(u,w)}(await Lb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function fD(i,e,n,s){if(e===!0&&s===!0)throw new ce(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function W0(i){if(!ge.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function X0(i){if(ge.isDocumentKey(i))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ef(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function Yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ef(i);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="firestore.googleapis.com",Z0=!0;class J0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zb,this.ssl=Z0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Z0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HC)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ub((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new wI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$0.get(n);s&&(ue("ComponentProvider","Removing Datastore"),$0.delete(n),s.terminate())}(this),Promise.resolve()}}function dD(i,e,n,s={}){var o;const u=(i=Yn(i,tf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==zb&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Bs(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=wA(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(w)}i._authCredentials=new EI(new ST(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class Ki extends Ao{constructor(e,n,s){super(e,n,Np(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ge(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function Ys(i,e,...n){if(i=ht(i),jb("collection","path",e),i instanceof tf){const s=tt.fromString(e,...n);return X0(s),new Ki(i,null,s)}{if(!(i instanceof nn||i instanceof Ki))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return X0(s),new Ki(i.firestore,null,s)}}function si(i,e,...n){if(i=ht(i),arguments.length===1&&(e=xT.newId()),jb("doc","path",e),i instanceof tf){const s=tt.fromString(e,...n);return W0(s),new nn(i,null,new ge(s))}{if(!(i instanceof nn||i instanceof Ki))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...n));return W0(s),new nn(i.firestore,i instanceof Ki?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gb(this,"async_queue_retry"),this.Su=()=>{const s=Sm();s&&ue(eE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Jr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wo(e))throw e;ue(eE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ri("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Zs extends tf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new tE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function mD(i,e){const n=typeof i=="object"?i:ME(),s=typeof i=="string"?i:xh,o=mp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=TA("firestore");u&&dD(o,...u)}return o}function $p(i){if(i._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||pD(i),i._firestoreClient}function pD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new UI(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ub(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new oD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Ft.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^__.*__$/;class yD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class Bb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class Zp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ph(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qb(this.Lu)&&gD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}ju(e,n,s,o=!1){return new Zp({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sf(i){const e=i._freezeSettings(),n=Xh(i._databaseId);return new vD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Hb(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",f,s);const m=Fb(s,f);let p,g;if(u.merge)p=new Tn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=rp(e,w,n);if(!f.contains(A))throw new ce(te.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Kb(E,A)||E.push(A)}p=new Tn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new yD(new un(m),p,g)}class af extends rf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}class Jp extends rf{_toFieldTransform(e){return new cC(e.path,new ru)}isEqual(e){return e instanceof Jp}}function _D(i,e,n,s){const o=i.ju(1,e,n);eg("Data must be an object, but it was:",o,s);const u=[],f=un.empty();es(s,(p,g)=>{const E=tg(e,p,n);g=ht(g);const w=o.Uu(E);if(g instanceof af)u.push(E);else{const A=bu(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new Tn(u);return new Bb(f,m,o.fieldTransforms)}function ED(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[rp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(rp(e,u[A])),p.push(u[A+1]);const g=[],E=un.empty();for(let A=m.length-1;A>=0;--A)if(!Kb(g,m[A])){const k=m[A];let N=p[A];N=ht(N);const Y=f.Uu(k);if(N instanceof af)g.push(k);else{const H=bu(N,Y);H!=null&&(g.push(k),E.set(k,H))}}const w=new Tn(g);return new Bb(E,w,f.fieldTransforms)}function TD(i,e,n,s=!1){return bu(n,i.ju(s?4:3,e))}function bu(i,e){if(Gb(i=ht(i)))return eg("Unsupported field value:",e,i),Fb(i,e);if(i instanceof rf)return function(s,o){if(!qb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=bu(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Wp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:sb(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xp)return function(f,m){return{mapValue:{fields:{[MT]:{stringValue:PT},[Rh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Dp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${ef(s)}`)}(i,e)}function Fb(i,e){const n={};return IT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(i,(s,o)=>{const u=bu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Gb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof Wp||i instanceof po||i instanceof nn||i instanceof rf||i instanceof Xp)}function eg(i,e,n){if(!Gb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=ef(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function rp(i,e,n){if((e=ht(e))instanceof nf)return e._internalPath;if(typeof e=="string")return tg(i,e);throw Ph("Field path arguments must be of type string or ",i,!1,void 0,n)}const bD=new RegExp("[~\\*/\\[\\]]");function tg(i,e,n){if(e.search(bD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new nf(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Ph(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+i+p)}function Kb(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wD extends Qb{data(){return super.data()}}function ng(i,e){return typeof e=="string"?tg(i,e):e instanceof nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class AD extends rg{}function au(i,e,...n){let s=[];e instanceof rg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ig).length,m=u.filter(p=>p instanceof of).length;if(f>1||f>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class of extends AD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new of(e,n,s)}_apply(e){const n=this._parse(e);return Yb(e._query,n),new Ao(e.firestore,e.converter,Km(e._query,n))}_parse(e){const n=sf(e.firestore);return function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){rE(w,E);const N=[];for(const Y of w)N.push(nE(p,u,Y));A={arrayValue:{values:N}}}else A=nE(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||rE(w,E),A=TD(m,f,w,E==="in"||E==="not-in");return Tt.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ou(i,e,n){const s=e,o=ng("where",i);return of._create(o,s,n)}class ig extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Yb(f,p),f=Km(f,p)}(e._query,n),new Ao(e.firestore,e.converter,Km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function nE(i,e,n){if(typeof(n=ht(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HT(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return v0(i,new ge(s))}if(n instanceof nn)return v0(i,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ef(n)}.`)}function rE(i,e){if(!Array.isArray(i)||i.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Yb(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xD{convertValue(e,n="none"){switch(Wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Rh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Xp(u)}convertGeoPoint(e){return new Wp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Gh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=Yi(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(hb(s));const o=new tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ri(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wb extends Qb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ng("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class mh extends Wb{data(e={}){return super.data(e)}}class RD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new mh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:ID(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ID(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i){i=Yn(i,nn);const e=Yn(i.firestore,Zs);return cD($p(e),i._key).then(n=>ND(e,i,n))}class Xb extends xD{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function lu(i){i=Yn(i,Ao);const e=Yn(i.firestore,Zs),n=$p(e),s=new Xb(e);return SD(i._query),hD(n,i._query).then(o=>new RD(e,s,i,o))}function Zb(i,e,n){i=Yn(i,nn);const s=Yn(i.firestore,Zs),o=$b(i.converter,e,n);return lf(s,[Hb(sf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Vn.none())])}function sg(i,e,n,...s){i=Yn(i,nn);const o=Yn(i.firestore,Zs),u=sf(o);let f;return f=typeof(e=ht(e))=="string"||e instanceof nf?ED(u,"updateDoc",i._key,e,n,s):_D(u,"updateDoc",i._key,e),lf(o,[f.toMutation(i._key,Vn.exists(!0))])}function Vh(i){return lf(Yn(i.firestore,Zs),[new kp(i._key,Vn.none())])}function Jb(i,e){const n=Yn(i.firestore,Zs),s=si(i),o=$b(i.converter,e);return lf(n,[Hb(sf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then(()=>s)}function lf(i,e){return function(s,o){const u=new Jr;return s.asyncQueue.enqueueAndForget(async()=>ZN(await uD(s),o,u)),u.promise}($p(i),e)}function ND(i,e,n){const s=n.docs.get(e._key),o=new Xb(i);return new Wb(i,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}function DD(){return new Jp("serverTimestamp")}(function(e,n=!0){(function(o){To=o})(Eo),oo(new qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zs(new TI(s.getProvider("auth-internal")),new SI(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fi(a0,o0,e),Fi(a0,o0,"esm2017")})();const kD={apiKey:"AIzaSyDMTx4TOfgKz1Lij6ASZq8_Cpk1DJs-eRc",authDomain:"pitstop-pro-9f6b1.firebaseapp.com",projectId:"pitstop-pro-9f6b1",storageBucket:"pitstop-pro-9f6b1.appspot.com",messagingSenderId:"879099424476",appId:"1:879099424476:web:1ef0ead9bbd88259cf4e19"},e1=OE(kD),wu=Zn(e1),rn=mD(e1),Su=()=>({...U.useContext(SE),logout:async()=>{await i2(wu)}}),t1="/Pitstop-pro/assets/car-illustration-Ba366Px5.png";function OD(){const{user:i}=Su(),e=_o(),n=()=>{e(i?"/dashboard":"/register")};return T.jsx("section",{className:"bg-surface text-text py-16 px-6 pt-navbar",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-12",children:[T.jsxs("div",{className:"flex-1 space-y-6",children:[T.jsx("h1",{className:"text-4xl sm:text-5xl font-bold leading-tight text-primary",children:"Simplified Vehicle Management"}),T.jsx("p",{className:"text-lg text-gray-300",children:"Track maintenance, expenses, insurance and IUC â€“ all in one place."}),T.jsxs("div",{className:"flex flex-wrap gap-4",children:[T.jsx("button",{onClick:n,className:"bg-primary text-background px-6 py-3 rounded-md text-base font-medium hover:bg-opacity-90 transition",children:"Get Started"}),!i&&T.jsx(En,{to:"/login",className:"border border-primary text-primary px-6 py-3 rounded-md hover:bg-primary hover:text-background transition",children:"Sign in"})]})]}),T.jsx("div",{className:"flex-1",children:T.jsx("img",{src:t1,alt:"Illustration of a car",className:"w-full max-w-md mx-auto"})})]})})}var MD=U.createContext({color:"currentColor",size:"1em",weight:"regular",mirrored:!1}),xo=function(e,n,s){var o=s.get(e);return o?o(n):(console.error('Unsupported icon weight. Choose from "thin", "light", "regular", "bold", "fill", or "duotone".'),null)};function iE(i,e){if(i==null)return{};var n={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var Js=U.forwardRef(function(i,e){var n=i.alt,s=i.color,o=i.size,u=i.weight,f=i.mirrored,m=i.children,p=i.renderPath,g=iE(i,["alt","color","size","weight","mirrored","children","renderPath"]),E=U.useContext(MD),w=E.color,A=w===void 0?"currentColor":w,k=E.size,N=E.weight,Y=N===void 0?"regular":N,H=E.mirrored,$=H===void 0?!1:H,ie=iE(E,["color","size","weight","mirrored"]);return L.createElement("svg",Object.assign({ref:e,xmlns:"http://www.w3.org/2000/svg",width:o??k,height:o??k,fill:s??A,viewBox:"0 0 256 256",transform:f||$?"scale(-1, 1)":void 0},ie,g),!!n&&L.createElement("title",null,n),m,L.createElement("rect",{width:"256",height:"256",fill:"none"}),p(u??Y,s??A))});Js.displayName="IconBase";var ea=new Map;ea.set("bold",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"40",y1:"108",x2:"136",y2:"108",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"40",y1:"148",x2:"120",y2:"148",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ea.set("duotone",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ea.set("fill",function(){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M192.6,189.3a8,8,0,0,1,0,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,192.6,55.4a8,8,0,0,1,0,11.3,7.9,7.9,0,0,1-11.3,0A64.1,64.1,0,0,0,72.5,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.5a64.1,64.1,0,0,0,108.8,37.3A7.9,7.9,0,0,1,192.6,189.3Z"}))});ea.set("light",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ea.set("thin",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ea.set("regular",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M186.9,194.9A72,72,0,0,1,64,144V112A72,72,0,0,1,186.9,61.1",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"40",y1:"112",x2:"136",y2:"112",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"40",y1:"144",x2:"120",y2:"144",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var PD=function(e,n){return xo(e,n,ea)},n1=U.forwardRef(function(i,e){return L.createElement(Js,Object.assign({ref:e},i,{renderPath:PD}))});n1.displayName="CurrencyEur";var ta=new Map;ta.set("bold",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("circle",{cx:"44",cy:"128",r:"16"}),L.createElement("circle",{cx:"44",cy:"64",r:"16"}),L.createElement("circle",{cx:"44",cy:"192",r:"16"}))});ta.set("duotone",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("circle",{cx:"44",cy:"64",r:"12"}),L.createElement("circle",{cx:"44",cy:"128",r:"12"}),L.createElement("circle",{cx:"44",cy:"192",r:"12"}))});ta.set("fill",function(){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M80,64a8,8,0,0,1,8-8H216a8,8,0,0,1,0,16H88A8,8,0,0,1,80,64Zm136,56H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Zm0,64H88a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16ZM44,116a12,12,0,1,0,12,12A12,12,0,0,0,44,116Zm0-64A12,12,0,1,0,56,64,12,12,0,0,0,44,52Zm0,128a12,12,0,1,0,12,12A12,12,0,0,0,44,180Z"}))});ta.set("light",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("circle",{cx:"44",cy:"64",r:"10"}),L.createElement("circle",{cx:"44",cy:"192",r:"10"}),L.createElement("circle",{cx:"44",cy:"128",r:"10"}))});ta.set("thin",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("circle",{cx:"44",cy:"128",r:"8"}),L.createElement("circle",{cx:"44",cy:"64",r:"8"}),L.createElement("circle",{cx:"44",cy:"192",r:"8"}))});ta.set("regular",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"88",y1:"64",x2:"216",y2:"64",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"88",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"88",y1:"192",x2:"216",y2:"192",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("circle",{cx:"44",cy:"64",r:"12"}),L.createElement("circle",{cx:"44",cy:"128",r:"12"}),L.createElement("circle",{cx:"44",cy:"192",r:"12"}))});var VD=function(e,n){return xo(e,n,ta)},r1=U.forwardRef(function(i,e){return L.createElement(Js,Object.assign({ref:e},i,{renderPath:VD}))});r1.displayName="ListBullets";var na=new Map;na.set("bold",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});na.set("duotone",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M136,64l56,56,26.3-26.3a8,8,0,0,0,0-11.4L173.7,37.7a8,8,0,0,0-11.4,0Z",opacity:"0.2"}),L.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});na.set("fill",function(){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M224,76.7,179.7,32.3a16.6,16.6,0,0,0-11.3-5A16,16,0,0,0,156.7,32L130.3,58.3h0L36.7,152A15.9,15.9,0,0,0,32,163.3V208a16,16,0,0,0,16,16H92.7a16.1,16.1,0,0,0,11.3-4.7l120-120A16.1,16.1,0,0,0,224,76.7Zm-32,32L147.3,64,168,43.3,212.7,88Z"}))});na.set("light",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});na.set("thin",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});na.set("regular",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M92.7,216H48a8,8,0,0,1-8-8V163.3a7.9,7.9,0,0,1,2.3-5.6l120-120a8,8,0,0,1,11.4,0l44.6,44.6a8,8,0,0,1,0,11.4l-120,120A7.9,7.9,0,0,1,92.7,216Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"136",y1:"64",x2:"192",y2:"120",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var LD=function(e,n){return xo(e,n,na)},i1=U.forwardRef(function(i,e){return L.createElement(Js,Object.assign({ref:e},i,{renderPath:LD}))});i1.displayName="PencilSimple";var ra=new Map;ra.set("bold",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ra.set("duotone",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ra.set("fill",function(){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M216,120H136V40a8,8,0,0,0-16,0v80H40a8,8,0,0,0,0,16h80v80a8,8,0,0,0,16,0V136h80a8,8,0,0,0,0-16Z"}))});ra.set("light",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ra.set("thin",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ra.set("regular",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"40",y1:"128",x2:"216",y2:"128",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"128",y1:"40",x2:"128",y2:"216",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var UD=function(e,n){return xo(e,n,ra)},s1=U.forwardRef(function(i,e){return L.createElement(Js,Object.assign({ref:e},i,{renderPath:UD}))});s1.displayName="Plus";var ia=new Map;ia.set("bold",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"216",y1:"60",x2:"40",y2:"60",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("path",{d:"M200,60V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V60",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}),L.createElement("path",{d:"M168,60V36a16,16,0,0,0-16-16H104A16,16,0,0,0,88,36V60",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});ia.set("duotone",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),L.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});ia.set("fill",function(){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M216,48H176V40a24.1,24.1,0,0,0-24-24H104A24.1,24.1,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))});ia.set("light",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}),L.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});ia.set("thin",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}),L.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});ia.set("regular",function(i){return L.createElement(L.Fragment,null,L.createElement("line",{x1:"216",y1:"56",x2:"40",y2:"56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"104",y1:"104",x2:"104",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("line",{x1:"152",y1:"104",x2:"152",y2:"168",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}),L.createElement("path",{d:"M168,56V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V56",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var jD=function(e,n){return xo(e,n,ia)},a1=U.forwardRef(function(i,e){return L.createElement(Js,Object.assign({ref:e},i,{renderPath:jD}))});a1.displayName="Trash";var sa=new Map;sa.set("bold",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"24"}))});sa.set("duotone",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",opacity:"0.2"}),L.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});sa.set("fill",function(){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M210.9,146.9A72.6,72.6,0,0,1,131,162L79,222.2c-.1.2-.3.3-.4.4a31.9,31.9,0,0,1-45.2,0,31.9,31.9,0,0,1,0-45.2l.4-.4L94,125a72,72,0,0,1,94.1-95.2,7.9,7.9,0,0,1,4.7,5.8,8,8,0,0,1-2.2,7.2L151.7,81.7l3.7,18.9,18.9,3.7,38.9-38.9a8,8,0,0,1,7.2-2.2,7.9,7.9,0,0,1,5.8,4.7A71.7,71.7,0,0,1,210.9,146.9Z"}))});sa.set("light",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"12"}))});sa.set("thin",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"8"}))});sa.set("regular",function(i){return L.createElement(L.Fragment,null,L.createElement("path",{d:"M218.9,71a63.9,63.9,0,0,1-89.8,81h0L73,217a24,24,0,0,1-34-34l65-56.1h0a63.9,63.9,0,0,1,81-89.8L143,79l5.7,28.3L177,113Z",fill:"none",stroke:i,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"16"}))});var zD=function(e,n){return xo(e,n,sa)},o1=U.forwardRef(function(i,e){return L.createElement(Js,Object.assign({ref:e},i,{renderPath:zD}))});o1.displayName="Wrench";function xm({Icon:i,title:e,description:n}){return T.jsxs("div",{className:"border border-gray-700 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow bg-surface",children:[T.jsx("div",{className:"flex justify-center mb-4",children:T.jsx(i,{size:40,weight:"duotone",className:"text-primary"})}),T.jsx("h3",{className:"text-xl font-semibold",children:e}),T.jsx("p",{className:"text-gray-400 text-sm mt-2",children:n})]})}function BD(){return T.jsx("section",{className:"bg-background text-text py-16 px-6",children:T.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-3 gap-8 text-center",children:[T.jsx(xm,{Icon:o1,title:"Organized Maintenance",description:"Easily track and schedule each vehicle service."}),T.jsx(xm,{Icon:n1,title:"Expense Tracking - coming soon",description:"Know exactly how much you vehicle is costing you on maintenance, repairs and insurance. "}),T.jsx(xm,{Icon:r1,title:"List your Next Events",description:"Never forget your inspections, insurance payments or IUC again."})]})})}function qD(){return T.jsx("footer",{className:"bg-surface text-gray-400 text-sm text-center py-4",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-between items-center gap-4 px-6",children:[T.jsxs("div",{className:"flex gap-4",children:[T.jsx(En,{to:"#",className:"hover:underline",children:"Terms"}),T.jsx(En,{to:"#",className:"hover:underline",children:"Privacy"}),T.jsx(En,{to:"#",className:"hover:underline",children:"Contact"})]}),T.jsxs("p",{children:["Â© ",new Date().getFullYear()," PitStop Pro"]})]})})}function HD(){return T.jsxs(T.Fragment,{children:[T.jsx(OD,{}),T.jsx(BD,{}),T.jsx(qD,{})]})}function ag(i){switch(i.code){case"auth/email-already-in-use":return"This email is already registered.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/too-many-requests":return"Too many login attempts. Please wait and try again later.";default:return"An unexpected error occurred. Please try again."}}function FD({onSubmit:i}){const[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(!1),g=async E=>{E.preventDefault(),f(""),p(!0);try{await i(e,s)}catch(w){w instanceof Ln?f(ag(w)):f("An unexpected error occurred. Please try again.")}finally{p(!1)}};return T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm text-gray-400",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your email"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm text-gray-400",children:"Password"}),T.jsx("input",{id:"password",type:"password",value:s,onChange:E=>o(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your password"})]}),T.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:m?"Logging in...":"Login"}),T.jsx("p",{className:"text-sm text-center text-gray-400 mt-4",children:T.jsx("a",{href:"/forgot-password",className:"text-primary hover:underline",children:"Forgot your password?"})}),u&&T.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:u})]})}function GD(){const i=_o(),e=async(n,s)=>{await WR(wu,n,s),i("/dashboard")};return T.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:T.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Login"}),T.jsx(FD,{onSubmit:e})]})})}function KD({onSubmit:i}){const[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(""),[g,E]=U.useState(!1),w=async A=>{if(A.preventDefault(),p(""),s!==u){p("Passwords do not match.");return}E(!0);try{await i(e,s)}catch(k){k instanceof Ln?p(ag(k)):p("An unexpected error occurred. Please try again.")}finally{E(!1)}};return T.jsxs("form",{onSubmit:w,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:"block mb-1 text-sm text-gray-400",children:"Email"}),T.jsx("input",{id:"email",type:"email",value:e,onChange:A=>n(A.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your email"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"block mb-1 text-sm text-gray-400",children:"Password"}),T.jsx("input",{id:"password",type:"password",value:s,onChange:A=>o(A.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Your password"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"confirmPassword",className:"block mb-1 text-sm text-gray-400",children:"Confirm Password"}),T.jsx("input",{id:"confirmPassword",type:"password",value:u,onChange:A=>f(A.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base",placeholder:"Confirm your password"})]}),T.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:g,children:g?"Registering...":"Register"}),m&&T.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:m})]})}function QD(){const i=_o(),e=async(n,s)=>{const u=(await $R(wu,n,s)).user;await Zb(si(rn,"users",u.uid),{displayName:"",email:u.email,photoUrl:"",phone:"",address:"",createdAt:DD()}),i("/dashboard")};return T.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:T.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Create Account"}),T.jsx(KD,{onSubmit:e})]})})}function YD({onSubmit:i}){const[e,n]=U.useState(""),[s,o]=U.useState(""),[u,f]=U.useState(""),[m,p]=U.useState(!1),g=async E=>{E.preventDefault(),f(""),o(""),p(!0);try{await i(e),o("We have sent you a password reset link.")}catch(w){w instanceof Ln?f(ag(w)):f("An unexpected error occurred. Please try again.")}finally{p(!1)}};return T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsx("input",{type:"email",placeholder:"Your email",value:e,onChange:E=>n(E.target.value),required:!0,className:"w-full px-4 py-2 rounded-md bg-background border border-gray-700 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base"}),T.jsx("button",{type:"submit",className:"w-full bg-primary text-background py-2 px-4 rounded-md font-medium hover:bg-opacity-90 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",disabled:m,children:m?"Sending...":"Send reset link"}),s&&T.jsx("p",{className:"text-green-500 text-sm text-center mt-4",children:s}),u&&T.jsx("p",{className:"text-red-500 text-sm text-center mt-2",children:u})]})}function $D(){const i=async e=>{await YR(wu,e)};return T.jsx("div",{className:"min-h-screen bg-background text-text pt-20 px-4 flex justify-center items-start",children:T.jsxs("div",{className:"w-full max-w-md bg-surface rounded-xl shadow-lg px-6 py-8 sm:px-8 border border-neutral-700 mt-10 md:mt-20",children:[T.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-primary mb-6",children:"Reset your password"}),T.jsx(YD,{onSubmit:i})]})})}function WD(){return T.jsx("h1",{children:"Not Found - PitStop Pro ðŸš—"})}const XD="/Pitstop-pro/assets/logo-flat-CsB4qleT.png";function ZD(){var e;const{user:i}=Su();return i?T.jsxs("div",{className:"flex items-center gap-3",children:[i.photoURL?T.jsx("img",{src:i.photoURL,alt:i.displayName||"User",className:"w-10 h-10 rounded-full object-cover border border-border shadow"}):T.jsx("div",{className:"w-10 h-10 rounded-full bg-muted text-background flex items-center justify-center font-semibold",children:((e=i.displayName)==null?void 0:e.charAt(0).toUpperCase())??"U"}),T.jsx("span",{className:"text-sm",children:i.displayName})]}):null}function l1({onToggleSidebar:i}){const{user:e,logout:n}=Su(),s=br(),o=async()=>{try{await n()}catch(u){console.error("Logout failed:",u)}};return T.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-surface text-text px-6 py-4 shadow-md",children:T.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[i&&T.jsx("button",{onClick:i,className:"md:hidden border border-border text-text rounded px-3 py-2 hover:bg-border transition","aria-label":"Toggle menu",children:"Menu"}),T.jsxs(En,{to:"/",className:"flex items-center gap-2 transition-transform hover:scale-105",children:[T.jsx("img",{src:XD,alt:"",className:"h-12 w-auto"}),T.jsx("span",{className:"sr-only",children:"PitStop Pro"}),T.jsx("span",{className:"text-xl font-semibold text-primary hidden sm:inline",children:"PitStop Pro"})]})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[e&&T.jsx(ZD,{}),T.jsx("ul",{className:"flex gap-4 items-center text-sm sm:text-base",children:e?T.jsxs(T.Fragment,{children:[s.pathname==="/"&&T.jsx("li",{children:T.jsx(En,{to:"/dashboard",className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"My Garage"})}),T.jsx("li",{children:T.jsx("button",{onClick:o,className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"Logout"})})]}):T.jsxs(T.Fragment,{children:[s.pathname!=="/login"&&T.jsx("li",{children:T.jsx(En,{to:"/login",className:"px-4 py-2 rounded-md border border-primary text-primary bg-surface hover:bg-primary hover:text-background transition-colors",children:"Login"})}),s.pathname!=="/register"&&T.jsx("li",{children:T.jsx(En,{to:"/register",className:"px-4 py-2 rounded-md bg-primary text-background hover:bg-opacity-90 transition-colors",children:"Register"})})]})})]})]})})}const JD=({children:i})=>{const{user:e,loading:n}=Su();return n?T.jsx("div",{className:"text-center py-20 text-text",children:"Loading..."}):e?i:T.jsx(CS,{to:"/login"})},ek=[{path:"/dashboard",label:"Overview"},{path:"/vehicles",label:"Garage"},{path:"/maintenance",label:"Maintenance"},{path:"/expenses",label:"Expenses"},{path:"/documents",label:"Documents"},{path:"/settings",label:"Settings"}];function tk({isOpen:i}){const e=br();return T.jsx("aside",{className:`${i?"block":"hidden"} md:block fixed top-16 left-0 w-64 h-[calc(100vh-4rem)] bg-surface border-r border-border px-4 py-6 shadow-md z-20`,children:T.jsx("nav",{className:"space-y-2",children:ek.map(n=>T.jsx(En,{to:n.path,className:`block px-4 py-2 rounded transition ${e.pathname===n.path?"bg-muted font-semibold text-white":"text-muted-foreground hover:bg-muted"}`,children:n.label},n.path))})})}function nk(){const[i,e]=U.useState(!1);return T.jsxs("div",{className:"pt-16 flex",children:[T.jsx(tk,{isOpen:i}),T.jsx("main",{className:`w-full transition-all duration-300 px-6 py-8 ${i?"ml-64":"ml-0 md:ml-64"}`,children:T.jsx("div",{className:"max-w-7xl mx-auto",children:T.jsx(NS,{})})}),T.jsx(l1,{onToggleSidebar:()=>e(n=>!n)})]})}const og=async()=>{const e=Zn().currentUser;if(!e)return[];const n=au(Ys(rn,"vehicles"),ou("userId","==",e.uid));return(await lu(n)).docs.map(o=>({id:o.id,...o.data()}))};function rk(){const[i,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(5);U.useEffect(()=>{(async()=>{if(!Zn().currentUser)return;const E=await og(),w=[],A=[{key:"insuranceDate",doneKey:"insuranceDone",label:"Insurance payment date"},{key:"inspectionDate",doneKey:"inspectionDone",label:"Inspection date"},{key:"taxDate",doneKey:"taxDone",label:"Tax payment date"},{key:"maintenanceDate",doneKey:"maintenanceDone",label:"Scheduled maintenance"}];E.forEach(k=>{A.forEach(({key:N,doneKey:Y,label:H})=>{const $=k[N];!k[Y]&&$&&w.push({date:$,label:H,vehicleName:k.vehicleName||`${k.brand} ${k.model}`,vehicleId:k.id,image:k.image})})}),w.sort((k,N)=>new Date(k.date).getTime()-new Date(N.date).getTime()),e(w),s(!1)})()},[]);const f=m=>{const p=new Date(m),g=String(p.getDate()).padStart(2,"0"),E=String(p.getMonth()+1).padStart(2,"0"),w=p.getFullYear();return`${g}/${E}/${w}`};return T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Upcoming Events"}),n?T.jsx("p",{className:"text-muted-foreground",children:"Loading events..."}):i.length===0?T.jsx("div",{className:"p-6 border border-gray-700 rounded-lg bg-surface text-center text-muted-foreground",children:"No upcoming events."}):T.jsxs(T.Fragment,{children:[T.jsx("ul",{className:"space-y-4",children:i.slice(0,o).map((m,p)=>{const g=new Date(m.date)<new Date;return T.jsxs("li",{className:"p-4 bg-surface border border-border rounded flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[T.jsxs("div",{className:"flex items-center gap-4 text-text",children:[m.image?T.jsx("img",{src:m.image,alt:"Vehicle",className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full object-cover border border-border"}):T.jsx("div",{className:"w-10 h-10 sm:w-8 sm:h-8 rounded-full bg-background border border-dashed border-border flex items-center justify-center text-xs text-text-muted",children:"No photo"}),T.jsxs("div",{className:"flex flex-col",children:[T.jsxs("span",{className:"text-sm sm:text-base",children:[T.jsx("strong",{children:f(m.date)})," â€” ",m.label]}),T.jsx(En,{to:"/vehicles",className:"text-accent text-sm underline-offset-2 hover:underline",children:m.vehicleName}),g&&T.jsx("span",{className:"text-xs font-semibold text-destructive sm:hidden mt-1",children:"âš ï¸ Overdue"})]})]}),g&&T.jsx("span",{className:"text-xs font-semibold text-destructive hidden sm:block",children:"âš ï¸ Overdue"})]},`${m.vehicleId}-${m.label}-${p}`)})}),i.length>o&&T.jsx("div",{className:"flex justify-center mt-4",children:T.jsx("button",{onClick:()=>u(m=>m+5),className:"text-sm text-accent hover:underline",children:"Load more"})})]})]})}const ik=({vehicle:i})=>T.jsxs("div",{className:"p-6 rounded-xl bg-surface border border-border flex flex-col items-center text-center shadow-sm",children:[i.image?T.jsx("img",{src:i.image,alt:"Vehicle",className:"rounded-full w-28 h-28 object-cover border border-border mb-4"}):T.jsx("div",{className:"rounded-full w-28 h-28 bg-background flex items-center justify-center text-sm text-text-muted border border-dashed border-border mb-4",children:"No photo"}),T.jsx("h2",{className:"text-lg font-semibold text-text break-words",children:i.vehicleName||`${i.brand} ${i.model}`}),T.jsx("p",{className:"text-sm text-text-muted",children:i.licensePlate}),T.jsxs(En,{to:"/vehicles",className:"mt-4 text-sm text-accent inline-flex items-center gap-1 group",children:[T.jsx("span",{className:"text-xl leading-none",children:"ï¼‹"}),T.jsx("span",{className:"underline-offset-2 group-hover:underline",children:"More details"})]})]});function sk(){const[i,e]=U.useState([]),[n,s]=U.useState(!0);return U.useEffect(()=>{(async()=>{if(!Zn().currentUser)return;const m=await og();e(m),s(!1)})()},[]),n?T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),T.jsx("p",{className:"text-muted-foreground",children:"Loading vehicles..."})]}):i.length===0?T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),T.jsx("div",{className:"p-6 border border-gray-700 rounded-lg bg-surface text-center text-muted-foreground",children:"No vehicles registered."})]}):T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Vehicles"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(o=>T.jsx(ik,{vehicle:o},o.id))})]})}function ak(){return T.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-12",children:[T.jsx(rk,{}),T.jsx(sk,{})]})}function u1(){const[i,e]=U.useState([]),[n,s]=U.useState(!0);return U.useEffect(()=>{(async()=>{const f=Zn().currentUser;if(!f)return;const m=au(Ys(rn,"vehicles"),ou("userId","==",f.uid)),g=(await lu(m)).docs.map(E=>({id:E.id,...E.data()}));e(g),s(!1)})()},[]),{vehicles:i,loading:n}}function ok({parts:i,onEdit:e,onDelete:n}){const{vehicles:s}=u1(),o=(m,p)=>{if(!p)return null;const g=new Date(m);return g.setMonth(g.getMonth()+p),g},u=m=>{var H;const p=new Date,g=s.find($=>$.id===m.vehicleId),E=(H=g==null?void 0:g.kilometerHistory)==null?void 0:H.at(-1),w=(E==null?void 0:E.value)??0,A=m.validForMonths?o(m.installDate,m.validForMonths):null,k=m.validForKm?m.installKilometers+m.validForKm:null,N=A?p>A:!1,Y=k!==null?w>=k:!1;return N||Y},f=m=>{const p=new Date(m);return`${String(p.getDate()).padStart(2,"0")}/${String(p.getMonth()+1).padStart(2,"0")}/${p.getFullYear()}`};return T.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-700 shadow-sm bg-surface",children:T.jsxs("table",{className:"min-w-full text-sm text-left",children:[T.jsx("thead",{className:"bg-background border-b border-gray-600",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-4 py-3 font-medium",children:"Part"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Vehicle"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Installed"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Limits"}),T.jsx("th",{className:"px-4 py-3 font-medium",children:"Status"}),T.jsx("th",{className:"px-4 py-3 font-medium text-right",children:"Actions"})]})}),T.jsx("tbody",{children:i.map(m=>{const p=s.find(A=>A.id===m.vehicleId),g=o(m.installDate,m.validForMonths),E=m.validForKm?m.installKilometers+m.validForKm:null,w=u(m);return T.jsxs("tr",{className:"border-b border-gray-700 hover:bg-muted transition",children:[T.jsx("td",{className:"px-4 py-2",children:m.partName}),T.jsx("td",{className:"px-4 py-2",children:(p==null?void 0:p.vehicleName)||`${p==null?void 0:p.brand} ${p==null?void 0:p.model}`||"â€“"}),T.jsxs("td",{className:"px-4 py-2",children:[f(m.installDate)," â€“ ",m.installKilometers.toLocaleString()," km"]}),T.jsxs("td",{className:"px-4 py-2",children:[g?f(g.toISOString()):"â€“"," / ",E?`${E.toLocaleString()} km`:"â€“"]}),T.jsx("td",{className:"px-4 py-2",children:w?T.jsx("span",{className:"text-sm font-semibold text-destructive",children:"âš ï¸ Overdue"}):T.jsx("span",{className:"text-sm text-green-500",children:"âœ” OK"})}),T.jsxs("td",{className:"px-4 py-2 text-right space-x-2",children:[T.jsx("button",{onClick:()=>e(m),className:"text-sm text-accent hover:underline",children:"âœï¸ Edit"}),T.jsx("button",{onClick:()=>n(m.id),className:"text-sm text-destructive hover:underline",children:"ðŸ—‘ï¸ Delete"})]})]},m.id)})})]})})}function lk({isOpen:i,mode:e,defaultValues:n,onClose:s,onAdd:o,onEdit:u}){const{vehicles:f}=u1(),[m,p]=U.useState({vehicleId:"",partName:"",installDate:"",installKilometers:0,validForMonths:"",validForKm:"",notes:""});if(U.useEffect(()=>{var w,A;p(e==="edit"&&n?{vehicleId:n.vehicleId,partName:n.partName,installDate:n.installDate,installKilometers:n.installKilometers,validForMonths:((w=n.validForMonths)==null?void 0:w.toString())||"",validForKm:((A=n.validForKm)==null?void 0:A.toString())||"",notes:n.notes||""}:{vehicleId:"",partName:"",installDate:new Date().toISOString().split("T")[0],installKilometers:0,validForMonths:"",validForKm:"",notes:""})},[e,n]),!i)return null;const g=(w,A)=>{p(k=>({...k,[w]:A}))},E=w=>{w.preventDefault();const k=Zn().currentUser;if(!k)return;const N=f.find(H=>H.id===m.vehicleId);if(!N)return;const Y={id:(n==null?void 0:n.id)||crypto.randomUUID(),vehicleId:m.vehicleId,vehicleName:N.vehicleName||`${N.brand} ${N.model}`,partName:m.partName,installDate:m.installDate,installKilometers:m.installKilometers,validForMonths:m.validForMonths?Number(m.validForMonths):void 0,validForKm:m.validForKm?Number(m.validForKm):void 0,notes:m.notes||"",userId:k.uid};e==="edit"&&u?u(Y):o(Y),s()};return T.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[999]",children:T.jsxs("div",{className:"bg-surface p-6 rounded-lg w-full max-w-lg shadow-xl border border-border",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:e==="edit"?"Edit Part":"Add New Part"}),T.jsxs("form",{onSubmit:E,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vehicle"}),T.jsxs("select",{value:m.vehicleId,onChange:w=>g("vehicleId",w.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0,disabled:e==="edit",children:[T.jsx("option",{value:"",children:"Select a vehicle"}),f.map(w=>T.jsx("option",{value:w.id,children:w.vehicleName||`${w.brand} ${w.model}`},w.id))]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Part name"}),T.jsx("input",{type:"text",value:m.partName,onChange:w=>g("partName",w.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Install date"}),T.jsx("input",{type:"date",value:m.installDate,onChange:w=>g("installDate",w.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Install km"}),T.jsx("input",{type:"number",value:m.installKilometers,onChange:w=>g("installKilometers",Number(w.target.value)),className:"w-full p-2 rounded-md bg-input text-text border border-border",required:!0})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid for (months)"}),T.jsx("input",{type:"number",value:m.validForMonths,onChange:w=>g("validForMonths",w.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valid for (km)"}),T.jsx("input",{type:"number",value:m.validForKm,onChange:w=>g("validForKm",w.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes"}),T.jsx("textarea",{value:m.notes,onChange:w=>g("notes",w.target.value),className:"w-full p-2 rounded-md bg-input text-text border border-border",rows:2})]}),T.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[T.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 rounded bg-muted text-sm hover:bg-muted/70 transition",children:"Cancel"}),T.jsx("button",{type:"submit",className:"px-4 py-2 rounded bg-primary text-white text-sm hover:bg-accent transition",children:e==="edit"?"Save Changes":"Add Part"})]})]})]})})}const uf="trackedParts",uk=async i=>{await Jb(Ys(rn,uf),i)},ck=async i=>{const e=au(Ys(rn,uf),ou("userId","==",i));return(await lu(e)).docs.map(s=>({id:s.id,...s.data()}))},hk=async i=>{const e=si(rn,uf,i.id),{id:n,...s}=i;await sg(e,s)},fk=async i=>{await Vh(si(rn,uf,i))};function dk(){const[i,e]=U.useState([]),[n,s]=U.useState(!0),[o,u]=U.useState(!1),[f,m]=U.useState("add"),[p,g]=U.useState(null),w=Zn().currentUser,A=U.useCallback(async()=>{if(!w)return;s(!0);const ie=await ck(w.uid);e(ie),s(!1)},[w]);U.useEffect(()=>{A()},[A]);const k=async ie=>{w&&(await uk({...ie,userId:w.uid}),await A())},N=async ie=>{await hk(ie),await A()},Y=async ie=>{window.confirm("Are you sure you want to delete this part?")&&(await fk(ie),await A())},H=()=>{g(null),m("add"),u(!0)},$=ie=>{g(ie),m("edit"),u(!0)};return T.jsx("main",{className:"px-6 py-8 w-full",children:T.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("h1",{className:"text-2xl font-bold",children:"Maintenance - Tracked Parts"}),T.jsx("button",{onClick:H,className:"bg-accent text-white px-4 py-2 rounded hover:bg-accent/90 transition",children:"âž• Add Part"})]}),n?T.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading parts..."}):T.jsx(ok,{parts:i,onEdit:$,onDelete:Y}),T.jsx(lk,{isOpen:o,mode:f,defaultValues:p,onClose:()=>u(!1),onAdd:k,onEdit:N})]})})}const c1=({mode:i,defaultValues:e,onSuccess:n})=>{const[s,o]=U.useState({vehicleName:"",brand:"",model:"",licensePlate:"",type:"",photoUrl:"",kilometers:0,year:new Date().getFullYear(),insuranceDate:"",inspectionDate:"",taxDate:"",maintenanceDate:""}),[u,f]=U.useState(!1),[m,p]=U.useState(""),[g,E]=U.useState(!1);U.useEffect(()=>{var N,Y;i==="edit"&&e&&o({vehicleName:e.vehicleName||"",brand:e.brand,model:e.model,licensePlate:e.licensePlate,type:e.type,photoUrl:e.image||"",kilometers:((Y=(N=e.kilometerHistory)==null?void 0:N.at(-1))==null?void 0:Y.value)||0,year:e.year,insuranceDate:e.insuranceDate||"",inspectionDate:e.inspectionDate||"",taxDate:e.taxDate||"",maintenanceDate:e.maintenanceDate||""})},[i,e]);const w=(N,Y)=>{o(H=>({...H,[N]:Y}))},A="w-full p-2 rounded-md bg-input text-text border border-border focus:outline-none focus:ring-2 focus:ring-accent",k=async N=>{N.preventDefault(),f(!0),p(""),E(!1);const H=Zn().currentUser;if(!H){p("User not authenticated."),f(!1);return}const $={vehicleName:s.vehicleName,brand:s.brand,model:s.model,licensePlate:s.licensePlate,type:s.type,image:s.photoUrl,year:s.year,insuranceDate:s.insuranceDate,inspectionDate:s.inspectionDate,taxDate:s.taxDate,maintenanceDate:s.maintenanceDate,userId:H.uid,kilometerHistory:[{date:new Date().toISOString().split("T")[0],value:s.kilometers}]};try{i==="edit"&&(e!=null&&e.id)?await sg(si(rn,"vehicles",e.id),$):await Jb(Ys(rn,"vehicles"),$),E(!0),n&&n()}catch(ie){console.error(ie),p("Something went wrong. Please try again.")}finally{f(!1)}};return T.jsxs("form",{onSubmit:k,children:[T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"flex flex-col items-center w-full",children:[s.photoUrl?T.jsx("img",{src:s.photoUrl,alt:"Vehicle",className:"rounded-xl w-full max-w-sm object-cover border border-border"}):T.jsx("div",{className:"w-full max-w-sm aspect-[4/3] bg-surface text-text-muted flex items-center justify-center rounded-xl border border-dashed border-border",children:"No photo"}),T.jsxs("div",{className:"mt-4 w-full space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Photo URL"}),T.jsx("input",{type:"url",className:A,value:s.photoUrl,onChange:N=>w("photoUrl",N.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Type"}),T.jsxs("select",{className:A,value:s.type,onChange:N=>w("type",N.target.value),required:!0,children:[T.jsx("option",{value:"",children:"Select vehicle type"}),T.jsx("option",{value:"car",children:"Car"}),T.jsx("option",{value:"motorcycle",children:"Motorcycle"})]})]})]})]}),T.jsx("div",{className:"space-y-4",children:[{id:"vehicleName",label:"Vehicle name (optional)",required:!1},{id:"brand",label:"Brand",required:!0},{id:"model",label:"Model",required:!0},{id:"licensePlate",label:"License Plate",required:!0},{id:"year",label:"Year",required:!0},{id:"kilometers",label:"Kilometers",required:!0}].map(N=>T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:N.label}),T.jsx("input",{type:N.id==="year"||N.id==="kilometers"?"number":"text",className:A,value:s[N.id],onChange:Y=>w(N.id,N.id==="year"||N.id==="kilometers"?Number(Y.target.value):Y.target.value),required:N.required})]},N.id))})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Insurance payment date"}),T.jsx("input",{type:"date",className:A,value:s.insuranceDate,onChange:N=>w("insuranceDate",N.target.value),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Inspection date"}),T.jsx("input",{type:"date",className:A,value:s.inspectionDate,onChange:N=>w("inspectionDate",N.target.value),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Car Circulation Unified Tax payment date"}),T.jsx("input",{type:"date",className:A,value:s.taxDate,onChange:N=>w("taxDate",N.target.value),required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Scheduled vehicle service date"}),T.jsx("input",{type:"date",className:A,value:s.maintenanceDate,onChange:N=>w("maintenanceDate",N.target.value),required:!0})]})]}),T.jsxs("div",{className:"pt-6",children:[T.jsx("button",{type:"submit",disabled:u,className:"bg-primary hover:bg-accent text-white font-medium px-4 py-2 rounded w-full transition disabled:opacity-50",children:u?i==="edit"?"Saving changes...":"Saving...":i==="edit"?"Save Changes":"Save Vehicle"}),g&&T.jsx("p",{className:"text-accent mt-2 text-sm text-center",children:"Success!"}),m&&T.jsx("p",{className:"text-red-500 mt-2 text-sm text-center",children:m})]})]})},h1=({isOpen:i,onClose:e,title:n,icon:s,children:o})=>i?T.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",children:T.jsxs("div",{className:"bg-background text-text p-6 rounded-2xl shadow-2xl relative w-full max-w-4xl border border-border",children:[T.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-text-muted hover:text-red-600 text-xl","aria-label":"Close modal",title:"Close",children:"Ã—"}),T.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s,T.jsx("h2",{className:"text-2xl font-semibold",children:n})]}),o]})}):null,mk=({isOpen:i,onClose:e})=>T.jsx(h1,{isOpen:i,onClose:e,title:"Add Vehicle",icon:T.jsx(s1,{size:24,className:"text-primary"}),children:T.jsx(c1,{mode:"add",onSuccess:e})}),pk=({isOpen:i,onClose:e,vehicle:n})=>T.jsx(h1,{isOpen:i,onClose:e,title:"Edit Vehicle",icon:T.jsx(i1,{size:24,className:"text-primary"}),children:T.jsx(c1,{mode:"edit",defaultValues:n,onSuccess:e})}),nh=({label:i,date:e,done:n,onMarkAsDone:s})=>{let o="No date set",u="text-xs";if(e){const f=new Date,m=new Date(e);o=m.toLocaleDateString();const p=m<new Date(f.setHours(0,0,0,0));m.toDateString()===new Date().toDateString()?u+=" text-warning/70 font-medium":p?u+=" text-destructive/70 line-through":u+=" text-muted-foreground"}else u+=" text-muted-foreground";return T.jsxs(T.Fragment,{children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium",children:i}),T.jsx("p",{className:u,children:o})]}),T.jsx("div",{className:"flex items-center justify-center",children:T.jsx("input",{type:"checkbox",checked:n,onClick:f=>f.stopPropagation(),onChange:s,className:"accent-accent w-4 h-4"})})]})},gk=({vehicle:i,onDelete:e,onEdit:n})=>{const[s,o]=U.useState(i),u=async()=>{if(window.confirm(`Are you sure you want to delete ${s.vehicleName||s.brand+" "+s.model}?`))try{await Vh(si(rn,"vehicles",s.id)),e()}catch(p){console.error("Error deleting vehicle:",p)}},f=async m=>{try{const p=si(rn,"vehicles",s.id),g=!s[m];await sg(p,{[m]:g}),o({...s,[m]:g})}catch(p){console.error("Failed to toggle field:",m,p)}};return T.jsxs("div",{className:"p-4 rounded-xl bg-surface border border-border flex flex-col justify-between shadow-sm",children:[T.jsxs("div",{className:"flex items-start gap-4",children:[T.jsxs("div",{className:"flex flex-col items-center w-28 shrink-0",children:[s.image?T.jsx("img",{src:s.image,alt:"Vehicle",className:"rounded-full w-28 h-28 object-cover border border-border"}):T.jsx("div",{className:"rounded-full w-28 h-28 bg-background flex items-center justify-center text-sm text-text-muted border border-dashed border-border",children:"No photo"}),T.jsx("p",{className:"text-xs text-text-muted mt-2",children:s.licensePlate})]}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h2",{className:"text-lg font-semibold text-text",children:s.vehicleName||`${s.brand} ${s.model}`}),T.jsxs("div",{className:"grid sm:grid-cols-[1fr_auto] grid-cols-1 gap-2 mt-4 items-center",children:[T.jsx("span",{className:"text-xs font-semibold text-text-muted sm:col-start-2",children:"Mark as done"}),T.jsx(nh,{label:"Insurance",date:s.insuranceDate,done:s.insuranceDone,onMarkAsDone:()=>f("insuranceDone")}),T.jsx(nh,{label:"Inspection",date:s.inspectionDate,done:s.inspectionDone,onMarkAsDone:()=>f("inspectionDone")}),T.jsx(nh,{label:"Car Circulation Unified Tax",date:s.taxDate,done:s.taxDone,onMarkAsDone:()=>f("taxDone")}),T.jsx(nh,{label:"Scheduled vehicle service",date:s.maintenanceDate,done:s.maintenanceDone,onMarkAsDone:()=>f("maintenanceDone")})]})]})]}),T.jsx("div",{className:"mt-4 flex justify-end items-center",children:T.jsxs("div",{className:"flex gap-3",children:[T.jsxs("button",{onClick:m=>{m.stopPropagation(),n(s)},className:"text-sm text-accent flex items-center gap-1 group",children:[T.jsx("span",{className:"text-xl leading-none",children:"ï¼‹"}),T.jsx("span",{className:"underline-offset-2 group-hover:underline",children:"More details"})]}),T.jsxs("button",{onClick:u,className:"text-sm text-destructive/70 hover:underline flex items-center gap-1",children:[T.jsx(a1,{size:16})," Delete"]})]})})]})},yk=()=>{const[i,e]=U.useState([]),[n,s]=U.useState(!1),[o,u]=U.useState(!1),[f,m]=U.useState(null),p=async()=>{if(!Zn().currentUser)return;const w=await og();e(w)};return U.useEffect(()=>{p()},[]),T.jsxs("div",{className:"p-6 space-y-6",children:[T.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold",children:"My Garage"}),T.jsx("p",{className:"text-gray-500",children:"Manage your cars and motorcycles below."})]}),T.jsx("button",{onClick:()=>s(!0),className:"bg-accent/90 hover:bg-accent text-white font-medium px-4 py-2 rounded transition",children:"Add Vehicle"})]}),T.jsx(mk,{isOpen:n,onClose:()=>{s(!1),p()}}),o&&f&&T.jsx(pk,{isOpen:o,onClose:()=>{u(!1),m(null),p()},vehicle:f}),i.length===0?T.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-text-muted py-20 gap-6",children:[T.jsx("img",{src:t1,alt:"No vehicles",className:"w-40 h-auto opacity-70"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-lg font-medium",children:"You haven't added any vehicles yet."}),T.jsx("p",{className:"text-sm",children:"Click the button above to start your garage."})]})]}):T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map(g=>T.jsx(gk,{vehicle:g,onDelete:p,onEdit:E=>{m(E),u(!0)}},g.id))})]})},vk=async(i,e)=>{const n=si(rn,"users",i);await Zb(n,e,{merge:!0})};function _k(){const{user:i}=Su(),[e,n]=U.useState({displayName:"",photoUrl:"",phone:"",address:""}),[s,o]=U.useState(""),[u,f]=U.useState("");U.useEffect(()=>{(async()=>{if(!i)return;const E=si(rn,"users",i.uid),w=await CD(E);if(w.exists()){const A=w.data();n({displayName:A.displayName||"",photoUrl:A.photoUrl||"",phone:A.phone||"",address:A.address||""})}})()},[i]);const m=(g,E)=>{n(w=>({...w,[g]:E}))},p=async g=>{if(g.preventDefault(),o(""),f(""),!!i)try{await vk(i.uid,e),await ZR(i,{displayName:e.displayName,photoURL:e.photoUrl}),o("Profile updated successfully.")}catch(E){console.error(E),f("Failed to update profile. Please try again later.")}};return T.jsxs("section",{children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Edit Profile:        "}),T.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[T.jsxs("form",{onSubmit:p,className:"space-y-4 max-w-sm w-full",children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Name"}),T.jsx("input",{type:"text",placeholder:"Your name",value:e.displayName,onChange:g=>m("displayName",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Profile Photo URL:"}),T.jsx("input",{type:"url",placeholder:"Photo URL",value:e.photoUrl,onChange:g=>m("photoUrl",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Phone Number:"}),T.jsx("input",{type:"tel",placeholder:"Phone number",value:e.phone,onChange:g=>m("phone",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Current Location (city, state):"}),T.jsx("input",{type:"text",placeholder:"Address",value:e.address,onChange:g=>m("address",g.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text"}),T.jsx("button",{type:"submit",className:"px-4 py-2 rounded border border-primary text-primary bg-surface hover:bg-primary hover:text-white transition-colors",children:"Update Profile"}),s&&T.jsx("p",{className:"text-sm text-accent",children:s}),u&&T.jsx("p",{className:"text-sm text-destructive",children:u})]}),e.photoUrl?T.jsx("img",{src:e.photoUrl,alt:"Profile",className:"rounded-full shadow w-60 h-60 object-cover border border-border"}):T.jsx("div",{className:"w-40 h-40 bg-surface border border-dashed border-border flex items-center justify-center text-muted-foreground rounded-full",children:"No photo"})]})]})}function Ek(){const e=Zn().currentUser,[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(""),[p,g]=U.useState(""),E=async w=>{if(w.preventDefault(),m(""),g(""),!(!e||!e.email))try{const A=$s.credential(e.email,n);await QR(e,A),await JR(e,o),m("Password updated successfully."),s(""),u("")}catch(A){console.error(A),g("Failed to update password. Please check your current password and try again.")}};return T.jsx("section",{className:"space-y-4",children:T.jsxs("form",{onSubmit:E,className:"space-y-4 max-w-sm",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"Current Password"}),T.jsx("input",{type:"password",value:n,onChange:w=>s(w.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text",required:!0})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-text-muted mb-1",children:"New Password"}),T.jsx("input",{type:"password",value:o,onChange:w=>u(w.target.value),className:"w-full px-3 py-2 rounded border border-border bg-input text-text",minLength:6,required:!0})]}),T.jsx("button",{type:"submit",className:"px-4 py-2 rounded border border-primary text-primary bg-surface hover:bg-primary hover:text-white transition-colors",children:"Update Password"}),f&&T.jsx("p",{className:"text-sm text-accent",children:f}),p&&T.jsx("p",{className:"text-sm text-destructive",children:p})]})})}function Tk(){const i=Zn(),e=_o(),n=i.currentUser,s=async()=>{if(!(!n||!window.confirm("Are you sure you want to permanently delete your account and all your data? This action cannot be undone.")))try{const u=await lu(au(Ys(rn,"vehicles"),ou("userId","==",n.uid)));await Promise.all(u.docs.map(m=>Vh(m.ref)));const f=await lu(au(Ys(rn,"trackedParts"),ou("userId","==",n.uid)));await Promise.all(f.docs.map(m=>Vh(m.ref))),await s2(n),e("/")}catch(u){console.error("Error deleting account:",u),alert("An error occurred while deleting your account. Please try again later.")}};return T.jsxs("section",{className:"space-y-4",children:[T.jsx("h2",{className:"text-xl font-semibold text-destructive",children:"Delete Account"}),T.jsx("p",{className:"text-muted-foreground",children:"This action is irreversible. All your data will be permanently deleted."}),T.jsx("button",{onClick:s,className:"bg-destructive text-white px-4 py-2 rounded hover:bg-destructive/90 transition",children:"Delete Account"})]})}function bk(){return T.jsxs("div",{className:"p-6 max-w-5xl w-full mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold text-text mb-10",children:"Settings"}),T.jsxs("div",{className:"space-y-12",children:[T.jsx(_k,{}),T.jsx(Ek,{}),T.jsx(Tk,{})]})]})}function wk(){return T.jsx("div",{className:"flex items-center justify-center h-[60vh] text-2xl text-muted",children:"Expenses - Coming soon ðŸš§"})}function Sk(){return T.jsx("div",{className:"flex items-center justify-center h-[60vh] text-2xl text-muted",children:"Documents - Coming soon ðŸ“„"})}const Ak=T.jsxs(_n,{path:"/",element:T.jsx(JD,{children:T.jsx(nk,{})}),children:[T.jsx(_n,{path:"dashboard",element:T.jsx(ak,{})}),T.jsx(_n,{path:"maintenance",element:T.jsx(dk,{})}),T.jsx(_n,{path:"vehicles",element:T.jsx(yk,{})}),T.jsx(_n,{path:"expenses",element:T.jsx(wk,{})}),T.jsx(_n,{path:"documents",element:T.jsx(Sk,{})}),T.jsx(_n,{path:"settings",element:T.jsx(bk,{})})]}),xk="/Pitstop-pro/";function Rk(){return T.jsx("div",{className:"min-h-screen bg-background text-text font-sans",children:T.jsxs(tA,{basename:xk,children:[T.jsx(l1,{}),T.jsxs(kS,{children:[T.jsx(_n,{path:"/",element:T.jsx(HD,{})}),T.jsx(_n,{path:"/login",element:T.jsx(GD,{})}),T.jsx(_n,{path:"/register",element:T.jsx(QD,{})}),T.jsx(_n,{path:"/forgot-password",element:T.jsx($D,{})}),Ak,T.jsx(_n,{path:"*",element:T.jsx(WD,{})})]})]})})}var Rm={exports:{}},Ul={},Im={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function Ik(){return sE||(sE=1,function(i){function e(W,oe){var pe=W.length;W.push(oe);e:for(;0<pe;){var Be=pe-1>>>1,D=W[Be];if(0<o(D,oe))W[Be]=oe,W[pe]=D,pe=Be;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var oe=W[0],pe=W.pop();if(pe!==oe){W[0]=pe;e:for(var Be=0,D=W.length,ne=D>>>1;Be<ne;){var le=2*(Be+1)-1,se=W[le],ye=le+1,Ne=W[ye];if(0>o(se,pe))ye<D&&0>o(Ne,se)?(W[Be]=Ne,W[ye]=pe,Be=ye):(W[Be]=se,W[le]=pe,Be=le);else if(ye<D&&0>o(Ne,pe))W[Be]=Ne,W[ye]=pe,Be=ye;else break e}}return oe}function o(W,oe){var pe=W.sortIndex-oe.sortIndex;return pe!==0?pe:W.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,k=!1,N=!1,Y=!1,H=!1,$=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function me(W){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=W)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function fe(W){if(Y=!1,me(W),!N)if(n(p)!==null)N=!0,xe||(xe=!0,z());else{var oe=n(g);oe!==null&&ot(fe,oe.startTime-W)}}var xe=!1,P=-1,x=5,R=-1;function O(){return H?!0:!(i.unstable_now()-R<x)}function V(){if(H=!1,xe){var W=i.unstable_now();R=W;var oe=!0;try{e:{N=!1,Y&&(Y=!1,ie(P),P=-1),k=!0;var pe=A;try{t:{for(me(W),w=n(p);w!==null&&!(w.expirationTime>W&&O());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,A=w.priorityLevel;var D=Be(w.expirationTime<=W);if(W=i.unstable_now(),typeof D=="function"){w.callback=D,me(W),oe=!0;break t}w===n(p)&&s(p),me(W)}else s(p);w=n(p)}if(w!==null)oe=!0;else{var ne=n(g);ne!==null&&ot(fe,ne.startTime-W),oe=!1}}break e}finally{w=null,A=pe,k=!1}oe=void 0}}finally{oe?z():xe=!1}}}var z;if(typeof re=="function")z=function(){re(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Vt=C.port2;C.port1.onmessage=V,z=function(){Vt.postMessage(null)}}else z=function(){$(V,0)};function ot(W,oe){P=$(function(){W(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(W){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var pe=A;A=oe;try{return W()}finally{A=pe}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=A;A=W;try{return oe()}finally{A=pe}},i.unstable_scheduleCallback=function(W,oe,pe){var Be=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Be+pe:Be):pe=Be,W){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pe+D,W={id:E++,callback:oe,priorityLevel:W,startTime:pe,expirationTime:D,sortIndex:-1},pe>Be?(W.sortIndex=pe,e(g,W),n(p)===null&&W===n(g)&&(Y?(ie(P),P=-1):Y=!0,ot(fe,pe-Be))):(W.sortIndex=D,e(p,W),N||k||(N=!0,xe||(xe=!0,z()))),W},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(W){var oe=A;return function(){var pe=A;A=oe;try{return W.apply(this,arguments)}finally{A=pe}}}}(Cm)),Cm}var aE;function Ck(){return aE||(aE=1,Im.exports=Ik()),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function Nk(){if(oE)return Ul;oE=1;var i=Ck(),e=ip(),n=fA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,l=d;break}if(b===l){_=!0,l=h,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=h;break}if(b===l){_=!0,l=d,a=h;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case H:return"Profiler";case Y:return"StrictMode";case fe:return"Suspense";case xe:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:Vt(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return Vt(t(r))}catch{}}return null}var ot=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Be=[],D=-1;function ne(t){return{current:t}}function le(t){0>D||(t.current=Be[D],Be[D]=null,D--)}function se(t,r){D++,Be[D]=t.current,t.current=r}var ye=ne(null),Ne=ne(null),we=ne(null),Ct=ne(null);function Je(t,r){switch(se(we,r),se(Ne,t),se(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Kv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Kv(r),t=Qv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(ye),se(ye,t)}function Jn(){le(ye),le(Ne),le(we)}function oi(t){t.memoizedState!==null&&se(Ct,t);var r=ye.current,a=Qv(r,t.type);r!==a&&(se(Ne,t),se(ye,a))}function wr(t){Ne.current===t&&(le(ye),le(Ne)),Ct.current===t&&(le(Ct),Nl._currentValue=pe)}var ns=Object.prototype.hasOwnProperty,rs=i.unstable_scheduleCallback,is=i.unstable_cancelCallback,Ro=i.unstable_shouldYield,Au=i.unstable_requestPaint,bn=i.unstable_now,cf=i.unstable_getCurrentPriorityLevel,Io=i.unstable_ImmediatePriority,aa=i.unstable_UserBlockingPriority,ss=i.unstable_NormalPriority,hf=i.unstable_LowPriority,oa=i.unstable_IdlePriority,Co=i.log,xu=i.unstable_setDisableYieldValue,lt=null,Ge=null;function cn(t){if(typeof Co=="function"&&xu(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(lt,t)}catch{}}var Gt=Math.clz32?Math.clz32:as,Ru=Math.log,ff=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(Ru(t)/ff|0)|0}var os=256,ls=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function la(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Un(l):(_&=b,_!==0?h=Un(_):a||(a=b&~t,a!==0&&(h=Un(a))))):(b=l&~d,b!==0?h=Un(b):_!==0?h=Un(_):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function us(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function No(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function ko(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function Sr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ar(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,r,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-Gt(a),J=1<<X;b[X]=0,I[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var K=G[X];K!==null&&(K.lane&=-536870913)}a&=~J}l!==0&&er(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function er(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Mo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ui(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:f_(t.type))}function Iu(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,gt="__reactProps$"+nt,wn="__reactContainer$"+nt,Po="__reactEvents$"+nt,df="__reactListeners$"+nt,ci="__reactHandles$"+nt,Cu="__reactResources$"+nt,cs="__reactMarker$"+nt;function hi(t){delete t[bt],delete t[gt],delete t[Po],delete t[df],delete t[ci]}function xr(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wn]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Xv(t);t!==null;){if(a=t[bt])return a;t=Xv(t)}return r}t=a,a=t.parentNode}return null}function tr(t){if(t=t[bt]||t[wn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function nr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[Cu];return r||(r=t[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(t){t[cs]=!0}var Vo=new Set,ca={};function jn(t,r){Rr(t,r),Rr(t+"Capture",r)}function Rr(t,r){for(ca[t]=r,t=0;t<r.length;t++)Vo.add(r[t])}var Nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},hs={};function ku(t){return ns.call(hs,t)?!0:ns.call(Du,t)?!1:Nu.test(t)?hs[t]=!0:(Du[t]=!0,!1)}function fi(t,r,a){if(ku(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function rr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var fs,Ou;function Ir(t){if(fs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);fs=r&&r[1]||"",Ou=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+Ou}var ha=!1;function fa(t,r){if(!t||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(K){var G=K}Reflect.construct(t,[],J)}else{try{J.call()}catch(K){G=K}t.call(J.prototype)}}else{try{throw Error()}catch(K){G=K}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var I=_.split(`
`),F=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===F.length)for(l=I.length-1,h=F.length-1;1<=l&&0<=h&&I[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==F[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ir(a):""}function Lo(t){switch(t.tag){case 26:case 27:case 5:return Ir(t.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return fa(t.type,!1);case 11:return fa(t.type.render,!1);case 1:return fa(t.type,!0);case 31:return Ir("Activity");default:return""}}function da(t){try{var r="";do r+=Lo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mf(t){var r=Uo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ma(t){t._valueTracker||(t._valueTracker=mf(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Uo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var pf=/[\n"\\]/g;function yt(t){return t.replace(pf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function hn(t,r,a,l,h,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Jt(r)):t.value!==""+Jt(r)&&(t.value=""+Jt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?di(t,_,Jt(r)):a!=null?di(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Jt(b):t.removeAttribute("name")}function ms(t,r,a,l,h,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Jt(a):"",r=r!=null?""+Jt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function di(t,r,a){r==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ye(t,r,a){if(r!=null&&(r=""+Jt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Jt(a):""}function ps(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Jt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||gs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Mu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Mu(t,d,r[d])}function Bo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Nr=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dr=null,kr=null;function qo(t){var r=tr(t);if(r&&(t=r.stateNode)){var a=t[gt]||null;e:switch(t=r.stateNode,r.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&jo(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Cr(t,!!a.multiple,r,!1)}}}var ir=!1;function Pu(t,r,a){if(ir)return t(r,a);ir=!0;try{var l=t(r);return l}finally{if(ir=!1,(Dr!==null||kr!==null)&&(Ic(),Dr&&(r=Dr,t=kr,kr=Dr=null,qo(r),t)))for(r=0;r<t.length;r++)qo(t[r])}}function ys(t,r){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(zn)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){xn=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{xn=!1}var sr=null,mi=null,Or=null;function Ho(){if(Or)return Or;var t,r=mi,a=r.length,l,h="value"in sr?sr.value:sr.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===h[d-l];l++);return Or=h.slice(t,1<l?1-l:void 0)}function ar(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function Fo(){return!1}function Nt(t){function r(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?or:Fo,this.isPropagationStopped=Fo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Nt(He),_s=E({},He,{view:0,detail:0}),Vu=Nt(_s),ya,va,lr,Es=E({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==lr&&(lr&&t.type==="mousemove"?(ya=t.screenX-lr.screenX,va=t.screenY-lr.screenY):va=ya=0,lr=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:va}}),Rn=Nt(Es),Lu=E({},Es,{dataTransfer:0}),vf=Nt(Lu),Ts=E({},_s,{relatedTarget:0}),_a=Nt(Ts),Go=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Nt(Go),Uu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ta=Nt(Uu),_f=E({},He,{data:0}),Ko=Nt(_f),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=zu[t])?!!r[t]:!1}function ws(){return Qo}var Bu=E({},_s,{key:function(t){if(t.key){var r=bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ba=Nt(Bu),qu=E({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Nt(qu),Mr=E({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Hu=Nt(Mr),Fu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Nt(Fu),Ku=E({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Nt(Ku),en=E({},He,{newState:0,oldState:0}),Qu=Nt(en),Yu=[9,13,27,32],ur=zn&&"CompositionEvent"in window,c=null;zn&&"documentMode"in document&&(c=document.documentMode);var y=zn&&"TextEvent"in window&&!c,v=zn&&(!ur||c&&8<c&&11>=c),S=" ",B=!1;function Q(t,r){switch(t){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function wt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return t=r.data,t===S&&B?null:t;default:return null}}function Le(t,r){if(Ve)return t==="compositionend"||!ur&&Q(t,r)?(t=Ho(),Or=mi=sr=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dt[t.type]:r==="textarea"}function Pr(t,r,a,l){Dr?kr?kr.push(l):kr=[l]:Dr=l,r=Mc(r,"onChange"),0<r.length&&(a=new ga("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ut=null,cr=null;function $o(t){Bv(t,0)}function $u(t){var r=nr(t);if(jo(r))return t}function lg(t,r){if(t==="change")return r}var ug=!1;if(zn){var Ef;if(zn){var Tf="oninput"in document;if(!Tf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Tf=typeof cg.oninput=="function"}Ef=Tf}else Ef=!1;ug=Ef&&(!document.documentMode||9<document.documentMode)}function hg(){Ut&&(Ut.detachEvent("onpropertychange",fg),cr=Ut=null)}function fg(t){if(t.propertyName==="value"&&$u(cr)){var r=[];Pr(r,cr,t,An(t)),Pu($o,r)}}function f1(t,r,a){t==="focusin"?(hg(),Ut=r,cr=a,Ut.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function d1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(cr)}function m1(t,r){if(t==="click")return $u(r)}function p1(t,r){if(t==="input"||t==="change")return $u(r)}function g1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var fn=typeof Object.is=="function"?Object.is:g1;function Wo(t,r){if(fn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ns.call(r,h)||!fn(t[h],r[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,r){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?pg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ds(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ds(t.document)}return r}function bf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var y1=zn&&"documentMode"in document&&11>=document.documentMode,Sa=null,wf=null,Xo=null,Sf=!1;function yg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Sa==null||Sa!==ds(l)||(l=Sa,"selectionStart"in l&&bf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Wo(Xo,l)||(Xo=l,l=Mc(wf,"onSelect"),0<l.length&&(r=new ga("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Sa)))}function Ss(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Aa={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Af={},vg={};zn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function As(t){if(Af[t])return Af[t];if(!Aa[t])return t;var r=Aa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in vg)return Af[t]=r[a];return t}var _g=As("animationend"),Eg=As("animationiteration"),Tg=As("animationstart"),v1=As("transitionrun"),_1=As("transitionstart"),E1=As("transitioncancel"),bg=As("transitionend"),wg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Bn(t,r){wg.set(t,r),jn(r,[t])}var Sg=new WeakMap;function In(t,r){if(typeof t=="object"&&t!==null){var a=Sg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:da(r)},Sg.set(t,r),r)}return{value:t,source:r,stack:da(r)}}var Cn=[],xa=0,Rf=0;function Wu(){for(var t=xa,r=Rf=xa=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var h=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function Xu(t,r,a,l){Cn[xa++]=t,Cn[xa++]=r,Cn[xa++]=a,Cn[xa++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function If(t,r,a,l){return Xu(t,r,a,l),Zu(t)}function Ra(t,r){return Xu(t,null,null,r),Zu(t)}function Ag(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Zu(t){if(50<bl)throw bl=0,Md=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function T1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,r,a,l){return new T1(t,r,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,r){var a=t.alternate;return a===null?(a=dn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ju(t,r,a,l,h,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=ww(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=dn(31,a,r,h),t.elementType=R,t.lanes=d,t;case N:return xs(a.children,h,d,r);case Y:_=8,h|=24;break;case H:return t=dn(12,a,r,h|2),t.elementType=H,t.lanes=d,t;case fe:return t=dn(13,a,r,h),t.elementType=fe,t.lanes=d,t;case xe:return t=dn(19,a,r,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case re:_=10;break e;case ie:_=9;break e;case me:_=11;break e;case P:_=14;break e;case x:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=dn(_,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function xs(t,r,a,l){return t=dn(7,t,l,r),t.lanes=a,t}function Nf(t,r,a){return t=dn(6,t,null,r),t.lanes=a,t}function Df(t,r,a){return r=dn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ca=[],Na=0,ec=null,tc=0,Nn=[],Dn=0,Rs=null,Lr=1,Ur="";function Is(t,r){Ca[Na++]=tc,Ca[Na++]=ec,ec=t,tc=r}function Rg(t,r,a){Nn[Dn++]=Lr,Nn[Dn++]=Ur,Nn[Dn++]=Rs,Rs=t;var l=Lr;t=Ur;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Lr=1<<32-Gt(r)+h|a<<h|l,Ur=d+t}else Lr=1<<d|a<<h|l,Ur=t}function kf(t){t.return!==null&&(Is(t,1),Rg(t,1,0))}function Of(t){for(;t===ec;)ec=Ca[--Na],Ca[Na]=null,tc=Ca[--Na],Ca[Na]=null;for(;t===Rs;)Rs=Nn[--Dn],Nn[Dn]=null,Ur=Nn[--Dn],Nn[Dn]=null,Lr=Nn[--Dn],Nn[Dn]=null}var tn=null,ut=null,qe=!1,Cs=null,hr=!1,Mf=Error(s(519));function Ns(t){var r=Error(s(418,""));throw el(In(r,t)),Mf}function Ig(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[gt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Oe(Sl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ms(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ma(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ps(r,l.value,l.defaultValue,l.children),ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Gv(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||Ns(t)}function Cg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:hr=!1;return;case 27:case 3:hr=!0;return;default:tn=tn.return}}function Zo(t){if(t!==tn)return!1;if(!qe)return Cg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&ut&&Ns(t),Cg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ut=Hn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ut=null}}else r===27?(r=ut,Ni(t.type)?(t=em,em=null,ut=t):ut=r):ut=tn?Hn(t.stateNode.nextSibling):null;return!0}function Jo(){ut=tn=null,qe=!1}function Ng(){var t=Cs;return t!==null&&(on===null?on=t:on.push.apply(on,t),Cs=null),t}function el(t){Cs===null?Cs=[t]:Cs.push(t)}var Pf=ne(null),Ds=null,jr=null;function pi(t,r,a){se(Pf,r._currentValue),r._currentValue=a}function zr(t){t._currentValue=Pf.current,le(Pf)}function Vf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Lf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<r.length;I++)if(b.context===r[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Vf(d.return,a,t),l||(_=null);break e}d=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Vf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function tl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=h.type;fn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ct.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Lf(r,t,a,l),r.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Ds=t,jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Dg(Ds,t)}function rc(t,r){return Ds===null&&ks(t),Dg(t,r)}function Dg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},jr===null){if(t===null)throw Error(s(308));jr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else jr=jr.next=r;return a}var b1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},w1=i.unstable_scheduleCallback,S1=i.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new b1,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&w1(S1,function(){t.controller.abort()})}var rl=null,jf=0,Da=0,ka=null;function A1(t,r){if(rl===null){var a=rl=[];jf=0,Da=Bd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,r.then(kg,kg),r}function kg(){if(--jf===0&&rl!==null){ka!==null&&(ka.status="fulfilled");var t=rl;rl=null,Da=0,ka=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function x1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=W.S;W.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&A1(t,r),Og!==null&&Og(t,r)};var Os=ne(null);function zf(){var t=Os.current;return t!==null?t:et.pooledCache}function ic(t,r){r===null?se(Os,Os.current):se(Os,r.pool)}function Mg(){var t=zf();return t===null?null:{parent:At._currentValue,pool:t}}var il=Error(s(460)),Pg=Error(s(474)),sc=Error(s(542)),Bf={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ac(){}function Lg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ac,ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jg(t),t;default:if(typeof r.status=="string")r.then(ac,ac);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,jg(t),t}throw sl=r,il}}var sl=null;function Ug(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function jg(t){if(t===il||t===sc)throw Error(s(483))}var gi=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function vi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Zu(t),Ag(t,null,a),r}return Xu(t,l,r,a),Zu(t)}function al(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}function Ff(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Gf=!1;function ol(){if(Gf){var t=ka;if(t!==null)throw t}}function ll(t,r,a,l){Gf=!1;var h=t.updateQueue;gi=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,F=I.next;I.next=null,_===null?d=F:_.next=F,_=I;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=F:b.next=F,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;_=0,X=F=I=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Ue&G)===G:(l&G)===G){G!==0&&G===Da&&(Gf=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,ve=b;G=r;var Xe=a;switch(ve.tag){case 1:if(Te=ve.payload,typeof Te=="function"){J=Te.call(Xe,J,G);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ve.payload,G=typeof Te=="function"?Te.call(Xe,J,G):Te,G==null)break e;J=E({},J,G);break e;case 2:gi=!0}}G=b.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(F=X=K,I=J):X=X.next=K,_|=G;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;K=b,b=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),xi|=_,t.lanes=_,t.memoizedState=J}}function zg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Bg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],r)}var Oa=ne(null),oc=ne(0);function qg(t,r){t=Qr,se(oc,t),se(Oa,r),Qr=t|r.baseLanes}function Kf(){se(oc,Qr),se(Oa,Oa.current)}function Qf(){Qr=oc.current,le(Oa),le(oc)}var _i=0,Ie=null,$e=null,vt=null,lc=!1,Ma=!1,Ms=!1,uc=0,ul=0,Pa=null,R1=0;function dt(){throw Error(s(321))}function Yf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!fn(t[a],r[a]))return!1;return!0}function $f(t,r,a,l,h,d){return _i=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?Ay:xy,Ms=!1,d=a(l,h),Ms=!1,Ma&&(d=Fg(r,a,l,h)),Hg(t),d}function Hg(t){W.H=pc;var r=$e!==null&&$e.next!==null;if(_i=0,vt=$e=Ie=null,lc=!1,ul=0,Pa=null,r)throw Error(s(300));t===null||kt||(t=t.dependencies,t!==null&&nc(t)&&(kt=!0))}function Fg(t,r,a,l){Ie=t;var h=0;do{if(Ma&&(Pa=null),ul=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=M1,d=r(a,l)}while(Ma);return d}function I1(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?cl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Wf(){var t=uc!==0;return uc=0,t}function Xf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Zf(t){if(lc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lc=!1}_i=0,vt=$e=Ie=null,Ma=!1,ul=uc=0,Pa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function _t(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var r=ul;return ul+=1,Pa===null&&(Pa=[]),t=Lg(Pa,t,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Ay:xy),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===re)return Kt(t)}throw Error(s(438,String(t)))}function ed(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Jf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function Br(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=_t();return td(r,$e,t)}function td(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=_=null,I=null,F=r,X=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Ue&J)===J:(_i&J)===J){var G=F.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Da&&(X=!0);else if((_i&G)===G){F=F.next,G===Da&&(X=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=J,_=d):I=I.next=J,Ie.lanes|=G,xi|=G;J=F.action,Ms&&a(d,J),d=F.hasEagerState?F.eagerState:a(d,J)}else G={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=G,_=d):I=I.next=G,Ie.lanes|=J,xi|=J;F=F.next}while(F!==null&&F!==r);if(I===null?_=d:I.next=b,!fn(d,t.memoizedState)&&(kt=!0,X&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var r=_t(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);fn(d,r.memoizedState)||(kt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Gg(t,r,a){var l=Ie,h=_t(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!fn(($e||h).memoizedState,a);_&&(h.memoizedState=a,kt=!0),h=h.queue;var b=Yg.bind(null,l,h,t);if(hl(2048,8,b,[t]),h.getSnapshot!==r||_||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Va(9,fc(),Qg.bind(null,l,h,a,r),null),et===null)throw Error(s(349));d||(_i&124)!==0||Kg(l,r,a)}return a}function Kg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=Jf(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Qg(t,r,a,l){r.value=a,r.getSnapshot=l,$g(r)&&Wg(t)}function Yg(t,r,a){return a(function(){$g(r)&&Wg(t)})}function $g(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!fn(t,a)}catch{return!0}}function Wg(t){var r=Ra(t,2);r!==null&&vn(r,t,2)}function rd(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),Ms){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:t},r}function Xg(t,r,a,l){return t.baseState=a,td(t,$e,typeof l=="function"?l:Br)}function C1(t,r,a,l,h){if(mc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Zg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Zg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=W.T,_={};W.T=_;try{var b=a(h,l),I=W.S;I!==null&&I(_,b),Jg(t,r,b)}catch(F){id(t,r,F)}finally{W.T=d}}else try{d=a(h,l),Jg(t,r,d)}catch(F){id(t,r,F)}}function Jg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ey(t,r,l)},function(l){return id(t,r,l)}):ey(t,r,a)}function ey(t,r,a){r.status="fulfilled",r.value=a,ty(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Zg(t,a)))}function id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,ty(r),r=r.next;while(r!==l)}t.action=null}function ty(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ny(t,r){return r}function ry(t,r){if(qe){var a=et.formState;if(a!==null){e:{var l=Ie;if(qe){if(ut){t:{for(var h=ut,d=hr;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Hn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ny,lastRenderedState:r},a.queue=l,a=by.bind(null,Ie,l),l.dispatch=a,l=rd(!1),d=ud.bind(null,Ie,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=C1.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function iy(t){var r=_t();return sy(r,$e,t)}function sy(t,r,a){if(r=td(t,r,ny)[0],t=hc(Br)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(_){throw _===il?sc:_}else l=r;r=_t();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Va(9,fc(),N1.bind(null,h,a),null)),[l,d,t]}function N1(t,r){t.action=r}function ay(t){var r=_t(),a=$e;if(a!==null)return sy(r,a,t);_t(),r=r.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Va(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=Jf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function fc(){return{destroy:void 0,resource:void 0}}function oy(){return _t().memoizedState}function dc(t,r,a,l){var h=sn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Va(1|r,fc(),a,l)}function hl(t,r,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Yf(l,$e.memoizedState.deps)?h.memoizedState=Va(r,d,a,l):(Ie.flags|=t,h.memoizedState=Va(1|r,d,a,l))}function ly(t,r){dc(8390656,8,t,r)}function uy(t,r){hl(2048,8,t,r)}function cy(t,r){return hl(4,2,t,r)}function hy(t,r){return hl(4,4,t,r)}function fy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function dy(t,r,a){a=a!=null?a.concat([t]):null,hl(4,4,fy.bind(null,r,t),a)}function sd(){}function my(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function py(t,r){var a=_t();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=t(),Ms){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function ad(t,r,a){return a===void 0||(_i&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=vv(),Ie.lanes|=t,xi|=t,a)}function gy(t,r,a,l){return fn(a,r)?a:Oa.current!==null?(t=ad(t,a,l),fn(t,r)||(kt=!0),t):(_i&42)===0?(kt=!0,t.memoizedState=a):(t=vv(),Ie.lanes|=t,xi|=t,r)}function yy(t,r,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=W.T,b={};W.T=b,ud(t,!1,r,a);try{var I=h(),F=W.S;if(F!==null&&F(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=x1(I,l);fl(t,r,X,yn(t))}else fl(t,r,l,yn(t))}catch(J){fl(t,r,{then:function(){},status:"rejected",reason:J},yn())}finally{oe.p=d,W.T=_}}function D1(){}function od(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=vy(t).queue;yy(t,h,r,pe,a===null?D1:function(){return _y(t),a(l)})}function vy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function _y(t){var r=vy(t).next.queue;fl(t,r,{},yn())}function ld(){return Kt(Nl)}function Ey(){return _t().memoizedState}function Ty(){return _t().memoizedState}function k1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();t=yi(a);var l=vi(r,t,a);l!==null&&(vn(l,r,a),al(l,r,a)),r={cache:Uf()},t.payload=r;return}r=r.return}}function O1(t,r,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?wy(r,a):(a=If(t,r,a,l),a!==null&&(vn(a,t,l),Sy(a,r,l)))}function by(t,r,a){var l=yn();fl(t,r,a,l)}function fl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))wy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,a);if(h.hasEagerState=!0,h.eagerState=b,fn(b,_))return Xu(t,r,h,0),et===null&&Wu(),!1}catch{}finally{}if(a=If(t,r,h,l),a!==null)return vn(a,t,l),Sy(a,r,l),!0}return!1}function ud(t,r,a,l){if(l={lane:2,revertLane:Bd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(r)throw Error(s(479))}else r=If(t,a,l,2),r!==null&&vn(r,t,2)}function mc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function wy(t,r){Ma=lc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Sy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Mo(t,a)}}var pc={readContext:Kt,use:cc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Ay={readContext:Kt,use:cc,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:ly,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,dc(4194308,4,fy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return dc(4194308,4,t,r)},useInsertionEffect:function(t,r){dc(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(Ms){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(Ms){cn(!0);try{a(r)}finally{cn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=O1.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=rd(t);var r=t.queue,a=by.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,r){var a=sn();return ad(a,t,r)},useTransition:function(){var t=rd(!1);return t=yy.bind(null,Ie,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=sn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),et===null)throw Error(s(349));(Ue&124)!==0||Kg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,ly(Yg.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,fc(),Qg.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=et.identifierPrefix;if(qe){var a=Ur,l=Lr;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r="Â«"+r+"R"+a,a=uc++,0<a&&(r+="H"+a.toString(32)),r+="Â»"}else a=R1++,r="Â«"+r+"r"+a.toString(32)+"Â»";return t.memoizedState=r},useHostTransitionStatus:ld,useFormState:ry,useActionState:ry,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=ud.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:ed,useCacheRefresh:function(){return sn().memoizedState=k1.bind(null,Ie)}},xy={readContext:Kt,use:cc,useCallback:my,useContext:Kt,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:hc,useRef:oy,useState:function(){return hc(Br)},useDebugValue:sd,useDeferredValue:function(t,r){var a=_t();return gy(a,$e.memoizedState,t,r)},useTransition:function(){var t=hc(Br)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:ld,useFormState:iy,useActionState:iy,useOptimistic:function(t,r){var a=_t();return Xg(a,$e,t,r)},useMemoCache:ed,useCacheRefresh:Ty},M1={readContext:Kt,use:cc,useCallback:my,useContext:Kt,useEffect:uy,useImperativeHandle:dy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:py,useReducer:nd,useRef:oy,useState:function(){return nd(Br)},useDebugValue:sd,useDeferredValue:function(t,r){var a=_t();return $e===null?ad(a,t,r):gy(a,$e.memoizedState,t,r)},useTransition:function(){var t=nd(Br)[0],r=_t().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Gg,useId:Ey,useHostTransitionStatus:ld,useFormState:ay,useActionState:ay,useOptimistic:function(t,r){var a=_t();return $e!==null?Xg(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Ty},La=null,dl=0;function gc(t){var r=dl;return dl+=1,La===null&&(La=[]),Lg(La,t,r)}function ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function yc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ry(t){var r=t._init;return r(t._payload)}function Iy(t){function r(j,M){if(t){var q=j.deletions;q===null?(j.deletions=[M],j.flags|=16):q.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)r(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Vr(j,M),j.index=0,j.sibling=null,j}function d(j,M,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<M?(j.flags|=67108866,M):q):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,M,q,Z){return M===null||M.tag!==6?(M=Nf(q,j.mode,Z),M.return=j,M):(M=h(M,q),M.return=j,M)}function I(j,M,q,Z){var he=q.type;return he===N?X(j,M,q.props.children,Z,q.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===x&&Ry(he)===M.type)?(M=h(M,q.props),ml(M,q),M.return=j,M):(M=Ju(q.type,q.key,q.props,null,j.mode,Z),ml(M,q),M.return=j,M)}function F(j,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Df(q,j.mode,Z),M.return=j,M):(M=h(M,q.children||[]),M.return=j,M)}function X(j,M,q,Z,he){return M===null||M.tag!==7?(M=xs(q,j.mode,Z,he),M.return=j,M):(M=h(M,q),M.return=j,M)}function J(j,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nf(""+M,j.mode,q),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return q=Ju(M.type,M.key,M.props,null,j.mode,q),ml(q,M),q.return=j,q;case k:return M=Df(M,j.mode,q),M.return=j,M;case x:var Z=M._init;return M=Z(M._payload),J(j,M,q)}if(ot(M)||z(M))return M=xs(M,j.mode,q,null),M.return=j,M;if(typeof M.then=="function")return J(j,gc(M),q);if(M.$$typeof===re)return J(j,rc(j,M),q);yc(j,M)}return null}function G(j,M,q,Z){var he=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return he!==null?null:b(j,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===he?I(j,M,q,Z):null;case k:return q.key===he?F(j,M,q,Z):null;case x:return he=q._init,q=he(q._payload),G(j,M,q,Z)}if(ot(q)||z(q))return he!==null?null:X(j,M,q,Z,null);if(typeof q.then=="function")return G(j,M,gc(q),Z);if(q.$$typeof===re)return G(j,M,rc(j,q),Z);yc(j,q)}return null}function K(j,M,q,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,b(M,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return j=j.get(Z.key===null?q:Z.key)||null,I(M,j,Z,he);case k:return j=j.get(Z.key===null?q:Z.key)||null,F(M,j,Z,he);case x:var De=Z._init;return Z=De(Z._payload),K(j,M,q,Z,he)}if(ot(Z)||z(Z))return j=j.get(q)||null,X(M,j,Z,he,null);if(typeof Z.then=="function")return K(j,M,q,gc(Z),he);if(Z.$$typeof===re)return K(j,M,q,rc(M,Z),he);yc(M,Z)}return null}function Te(j,M,q,Z){for(var he=null,De=null,de=M,_e=M=0,Mt=null;de!==null&&_e<q.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var ze=G(j,de,q[_e],Z);if(ze===null){de===null&&(de=Mt);break}t&&de&&ze.alternate===null&&r(j,de),M=d(ze,M,_e),De===null?he=ze:De.sibling=ze,De=ze,de=Mt}if(_e===q.length)return a(j,de),qe&&Is(j,_e),he;if(de===null){for(;_e<q.length;_e++)de=J(j,q[_e],Z),de!==null&&(M=d(de,M,_e),De===null?he=de:De.sibling=de,De=de);return qe&&Is(j,_e),he}for(de=l(de);_e<q.length;_e++)Mt=K(de,j,_e,q[_e],Z),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),M=d(Mt,M,_e),De===null?he=Mt:De.sibling=Mt,De=Mt);return t&&de.forEach(function(Pi){return r(j,Pi)}),qe&&Is(j,_e),he}function ve(j,M,q,Z){if(q==null)throw Error(s(151));for(var he=null,De=null,de=M,_e=M=0,Mt=null,ze=q.next();de!==null&&!ze.done;_e++,ze=q.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Pi=G(j,de,ze.value,Z);if(Pi===null){de===null&&(de=Mt);break}t&&de&&Pi.alternate===null&&r(j,de),M=d(Pi,M,_e),De===null?he=Pi:De.sibling=Pi,De=Pi,de=Mt}if(ze.done)return a(j,de),qe&&Is(j,_e),he;if(de===null){for(;!ze.done;_e++,ze=q.next())ze=J(j,ze.value,Z),ze!==null&&(M=d(ze,M,_e),De===null?he=ze:De.sibling=ze,De=ze);return qe&&Is(j,_e),he}for(de=l(de);!ze.done;_e++,ze=q.next())ze=K(de,j,_e,ze.value,Z),ze!==null&&(t&&ze.alternate!==null&&de.delete(ze.key===null?_e:ze.key),M=d(ze,M,_e),De===null?he=ze:De.sibling=ze,De=ze);return t&&de.forEach(function(Pw){return r(j,Pw)}),qe&&Is(j,_e),he}function Xe(j,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===N&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var he=q.key;M!==null;){if(M.key===he){if(he=q.type,he===N){if(M.tag===7){a(j,M.sibling),Z=h(M,q.props.children),Z.return=j,j=Z;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===x&&Ry(he)===M.type){a(j,M.sibling),Z=h(M,q.props),ml(Z,q),Z.return=j,j=Z;break e}a(j,M);break}else r(j,M);M=M.sibling}q.type===N?(Z=xs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=Ju(q.type,q.key,q.props,null,j.mode,Z),ml(Z,q),Z.return=j,j=Z)}return _(j);case k:e:{for(he=q.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(j,M.sibling),Z=h(M,q.children||[]),Z.return=j,j=Z;break e}else{a(j,M);break}else r(j,M);M=M.sibling}Z=Df(q,j.mode,Z),Z.return=j,j=Z}return _(j);case x:return he=q._init,q=he(q._payload),Xe(j,M,q,Z)}if(ot(q))return Te(j,M,q,Z);if(z(q)){if(he=z(q),typeof he!="function")throw Error(s(150));return q=he.call(q),ve(j,M,q,Z)}if(typeof q.then=="function")return Xe(j,M,gc(q),Z);if(q.$$typeof===re)return Xe(j,M,rc(j,q),Z);yc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(j,M.sibling),Z=h(M,q),Z.return=j,j=Z):(a(j,M),Z=Nf(q,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,M)}return function(j,M,q,Z){try{dl=0;var he=Xe(j,M,q,Z);return La=null,he}catch(de){if(de===il||de===sc)throw de;var De=dn(29,de,null,j.mode);return De.lanes=Z,De.return=j,De}finally{}}}var Ua=Iy(!0),Cy=Iy(!1),kn=ne(null),fr=null;function Ei(t){var r=t.alternate;se(xt,xt.current&1),se(kn,t),fr===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(fr=t)}function Ny(t){if(t.tag===22){if(se(xt,xt.current),se(kn,t),fr===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(fr=t)}}else Ti()}function Ti(){se(xt,xt.current),se(kn,kn.current)}function qr(t){le(kn),fr===t&&(fr=null),le(xt)}var xt=ne(0);function vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Jd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function cd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var hd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=yn(),h=yi(l);h.payload=r,a!=null&&(h.callback=a),r=vi(t,h,l),r!==null&&(vn(r,t,l),al(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=yn(),h=yi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=vi(t,h,l),r!==null&&(vn(r,t,l),al(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=yn(),l=yi(a);l.tag=2,r!=null&&(l.callback=r),r=vi(t,l,a),r!==null&&(vn(r,t,a),al(r,t,a))}};function Dy(t,r,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function ky(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&hd.enqueueReplaceState(r,r.state,null)}function Ps(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Oy(t){_c(t)}function My(t){console.error(t)}function Py(t){_c(t)}function Ec(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function fd(t,r,a){return a=yi(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,r)},a}function Ly(t){return t=yi(t),t.tag=3,t}function Uy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Vy(r,a,l),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function P1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&tl(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return fr===null?Vd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===Bf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Vd(),!1}if(qe)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),el(In(t,a)))):(l!==Mf&&(r=Error(s(423),{cause:l}),el(In(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=fd(t.stateNode,l,h),Ff(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),Tl===null?Tl=[d]:Tl.push(d),ct!==4&&(ct=2),r===null)return!0;l=In(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=fd(a.stateNode,l,t),Ff(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ri===null||!Ri.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),Uy(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var jy=Error(s(461)),kt=!1;function jt(t,r,a,l){r.child=t===null?Cy(r,null,a,l):Ua(r,t.child,a,l)}function zy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ks(r),l=$f(t,r,a,_,d,h),b=Wf(),t!==null&&!kt?(Xf(t,r,h),Hr(t,r,h)):(qe&&b&&kf(r),r.flags|=1,jt(t,r,l,h),r.child)}function By(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,qy(t,r,d,l,h)):(t=Ju(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ed(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===r.ref)return Hr(t,r,h)}return r.flags|=1,t=Vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function qy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===r.ref)if(kt=!1,r.pendingProps=l=d,Ed(t,h))(t.flags&131072)!==0&&(kt=!0);else return r.lanes=t.lanes,Hr(t,r,h)}return dd(t,r,a,l,h)}function Hy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Fy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(r,d!==null?d.cachePool:null),d!==null?qg(r,d):Kf(),Ny(r);else return r.lanes=r.childLanes=536870912,Fy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ic(r,d.cachePool),qg(r,d),Ti(),r.memoizedState=null):(t!==null&&ic(r,null),Kf(),Ti());return jt(t,r,h,a),r.child}function Fy(t,r,a,l){var h=zf();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&ic(r,null),Kf(),Ny(r),t!==null&&tl(t,r,l,!0),null}function Tc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function dd(t,r,a,l,h){return ks(r),a=$f(t,r,a,l,void 0,h),l=Wf(),t!==null&&!kt?(Xf(t,r,h),Hr(t,r,h)):(qe&&l&&kf(r),r.flags|=1,jt(t,r,a,h),r.child)}function Gy(t,r,a,l,h,d){return ks(r),r.updateQueue=null,a=Fg(r,l,a,h),Hg(t),l=Wf(),t!==null&&!kt?(Xf(t,r,d),Hr(t,r,d)):(qe&&l&&kf(r),r.flags|=1,jt(t,r,a,d),r.child)}function Ky(t,r,a,l,h){if(ks(r),r.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},qf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Ia,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(cd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&hd.enqueueReplaceState(d,d.state,null),ll(r,l,d,h),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,I=Ps(a,b);d.props=I;var F=d.context,X=a.contextType;_=Ia,typeof X=="object"&&X!==null&&(_=Kt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==_)&&ky(r,d,l,_),gi=!1;var G=r.memoizedState;d.state=G,ll(r,l,d,h),ol(),F=r.memoizedState,b||G!==F||gi?(typeof J=="function"&&(cd(r,a,J,l),F=r.memoizedState),(I=gi||Dy(r,a,I,l,G,F,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Hf(t,r),_=r.memoizedProps,X=Ps(a,_),d.props=X,J=r.pendingProps,G=d.context,F=a.contextType,I=Ia,typeof F=="object"&&F!==null&&(I=Kt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||G!==I)&&ky(r,d,l,I),gi=!1,G=r.memoizedState,d.state=G,ll(r,l,d,h),ol();var K=r.memoizedState;_!==J||G!==K||gi||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof b=="function"&&(cd(r,a,b,l),K=r.memoizedState),(X=gi||Dy(r,a,X,l,G,K,I)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Tc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ua(r,t.child,null,h),r.child=Ua(r,null,a,h)):jt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Hr(t,r,h),t}function Qy(t,r,a,l){return Jo(),r.flags|=256,jt(t,r,a,l),r.child}var md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pd(t){return{baseLanes:t,cachePool:Mg()}}function gd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=On),t}function Yy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),_&&(h=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Ei(r):Ti(),qe){var b=ut,I;if(I=b){e:{for(I=b,b=hr;I.nodeType!==8;){if(!b){b=null;break e}if(I=Hn(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(r.memoizedState={dehydrated:b,treeContext:Rs!==null?{id:Lr,overflow:Ur}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=b,I.return=r,r.child=I,tn=r,ut=null,I=!0):I=!1}I||Ns(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Jd(b)?r.lanes=32:r.lanes=536870912,null;qr(r)}return b=l.children,l=l.fallback,h?(Ti(),h=r.mode,b=bc({mode:"hidden",children:b},h),l=xs(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=pd(a),h.childLanes=gd(t,_,a),r.memoizedState=md,l):(Ei(r),yd(r,b))}if(I=t.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)r.flags&256?(Ei(r),r.flags&=-257,r=vd(t,r,a)):r.memoizedState!==null?(Ti(),r.child=t.child,r.flags|=128,r=null):(Ti(),h=l.fallback,b=r.mode,l=bc({mode:"visible",children:l.children},b),h=xs(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ua(r,t.child,null,a),l=r.child,l.memoizedState=pd(a),l.childLanes=gd(t,_,a),r.memoizedState=md,r=h);else if(Ei(r),Jd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),r=vd(t,r,a)}else if(kt||tl(t,r,a,!1),_=(a&t.childLanes)!==0,kt||_){if(_=et,_!==null&&(l=a&-a,l=(l&42)!==0?1:li(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ra(t,l),vn(_,t,l),jy;b.data==="$?"||Vd(),r=vd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,ut=Hn(b.nextSibling),tn=r,qe=!0,Cs=null,hr=!1,t!==null&&(Nn[Dn++]=Lr,Nn[Dn++]=Ur,Nn[Dn++]=Rs,Lr=t.id,Ur=t.overflow,Rs=r),r=yd(r,l.children),r.flags|=4096);return r}return h?(Ti(),h=l.fallback,b=r.mode,I=t.child,F=I.sibling,l=Vr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?h=Vr(F,h):(h=xs(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=pd(a):(I=b.cachePool,I!==null?(F=At._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=Mg(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=gd(t,_,a),r.memoizedState=md,l):(Ei(r),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function yd(t,r){return r=bc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function bc(t,r){return t=dn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function vd(t,r,a){return Ua(r,t.child,null,a),t=yd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function $y(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Vf(t.return,r,a)}function _d(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Wy(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,r,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$y(t,a,r);else if(t.tag===19)$y(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(xt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),_d(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&vc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(r,!0,a,null,d);break;case"together":_d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Hr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),xi|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(tl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ed(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function V1(t,r,a){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),pi(r,At,t.memoizedState.cache),Jo();break;case 27:case 5:oi(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:pi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ei(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Yy(t,r,a):(Ei(r),t=Hr(t,r,a),t!==null?t.sibling:null);Ei(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(tl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Wy(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(xt,xt.current),l)break;return null;case 22:case 23:return r.lanes=0,Hy(t,r,a);case 24:pi(r,At,t.memoizedState.cache)}return Hr(t,r,a)}function Xy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)kt=!0;else{if(!Ed(t,a)&&(r.flags&128)===0)return kt=!1,V1(t,r,a);kt=(t.flags&131072)!==0}else kt=!1,qe&&(r.flags&1048576)!==0&&Rg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Cf(l)?(t=Ps(l,t),r.tag=1,r=Ky(null,r,l,t,a)):(r.tag=0,r=dd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===me){r.tag=11,r=zy(null,r,l,t,a);break e}else if(h===P){r.tag=14,r=By(null,r,l,t,a);break e}}throw r=Vt(l)||l,Error(s(306,r,""))}}return r;case 0:return dd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Ps(l,r.pendingProps),Ky(t,r,l,h,a);case 3:e:{if(Je(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Hf(t,r),ll(r,l,null,a);var _=r.memoizedState;if(l=_.cache,pi(r,At,l),l!==d.cache&&Lf(r,[At],a,!0),ol(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Qy(t,r,l,a);break e}else if(l!==h){h=In(Error(s(424)),r),el(h),r=Qy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Hn(t.firstChild),tn=r,qe=!0,Cs=null,hr=!0,a=Cy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),l===h){r=Hr(t,r,a);break e}jt(t,r,l,a)}r=r.child}return r;case 26:return Tc(t,r),t===null?(a=t_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Vc(we.current).createElement(a),l[bt]=r,l[gt]=t,Bt(l,a,t),ft(l),r.stateNode=l):r.memoizedState=t_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return oi(r),t===null&&qe&&(l=r.stateNode=Zv(r.type,r.pendingProps,we.current),tn=r,hr=!0,h=ut,Ni(r.type)?(em=h,ut=Hn(l.firstChild)):ut=h),jt(t,r,r.pendingProps.children,a),Tc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ut)&&(l=cw(l,r.type,r.pendingProps,hr),l!==null?(r.stateNode=l,tn=r,ut=Hn(l.firstChild),hr=!1,h=!0):h=!1),h||Ns(r)),oi(r),h=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:_!==null&&Wd(h,_)&&(r.flags|=32),r.memoizedState!==null&&(h=$f(t,r,I1,null,null,a),Nl._currentValue=h),Tc(t,r),jt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=hw(a,r.pendingProps,hr),a!==null?(r.stateNode=a,tn=r,ut=null,t=!0):t=!1),t||Ns(r)),null;case 13:return Yy(t,r,a);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ua(r,null,l,a):jt(t,r,l,a),r.child;case 11:return zy(t,r,r.type,r.pendingProps,a);case 7:return jt(t,r,r.pendingProps,a),r.child;case 8:return jt(t,r,r.pendingProps.children,a),r.child;case 12:return jt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,pi(r,r.type,l.value),jt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ks(r),h=Kt(h),l=l(h),r.flags|=1,jt(t,r,l,a),r.child;case 14:return By(t,r,r.type,r.pendingProps,a);case 15:return qy(t,r,r.type,r.pendingProps,a);case 19:return Wy(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Hy(t,r,a);case 24:return ks(r),l=Kt(At),t===null?(h=zf(),h===null&&(h=et,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},qf(r),pi(r,At,h)):((t.lanes&a)!==0&&(Hf(t,r),ll(r,null,null,a),ol()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),pi(r,At,l)):(l=d.cache,pi(r,At,l),l!==h.cache&&Lf(r,[At],a,!0))),jt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fr(t){t.flags|=4}function Zy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!a_(r)){if(r=kn.current,r!==null&&((Ue&4194048)===Ue?fr!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==fr))throw sl=Bf,Pg;t.flags|=8192}}function wc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ko():536870912,t.lanes|=r,qa|=r)}function pl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function L1(t,r,a){var l=r.pendingProps;switch(Of(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),zr(At),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(r)?Fr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ng())),st(r),null;case 26:return a=r.memoizedState,t===null?(Fr(r),a!==null?(st(r),Zy(r,a)):(st(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Fr(r),st(r),Zy(r,a)):(st(r),r.flags&=-16777217):(t.memoizedProps!==l&&Fr(r),st(r),r.flags&=-16777217),null;case 27:wr(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}t=ye.current,Zo(r)?Ig(r):(t=Zv(h,l,a),r.stateNode=t,Fr(r))}return st(r),null;case 5:if(wr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Fr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(t=ye.current,Zo(r))Ig(r);else{switch(h=Vc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=r,t[gt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Bt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fr(r)}}return st(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Fr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,Zo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gv(t.nodeValue,a)),t||Ns(r)}else t=Vc(t).createTextNode(l),t[bt]=r,r.stateNode=t}return st(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=r}else Jo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=Ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(qr(r),r):(qr(r),null)}if(qr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),st(r),null;case 4:return Jn(),t===null&&Gd(r.stateNode.containerInfo),st(r),null;case 10:return zr(r.type),st(r),null;case 19:if(le(xt),h=r.memoizedState,h===null)return st(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=vc(t),d!==null){for(r.flags|=128,pl(h,!1),t=d.updateQueue,r.updateQueue=t,wc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)xg(a,t),a=a.sibling;return se(xt,xt.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>xc&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304)}else{if(!l)if(t=vc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,wc(r,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return st(r),null}else 2*bn()-h.renderingStartTime>xc&&a!==536870912&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=xt.current,se(xt,l?t&1|2:t&1),r):(st(r),null);case 22:case 23:return qr(r),Qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),zr(At),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function U1(t,r){switch(Of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return zr(At),Jn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return wr(r),null;case 13:if(qr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Jo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(xt),null;case 4:return Jn(),null;case 10:return zr(r.type),null;case 22:case 23:return qr(r),Qf(),t!==null&&le(Os),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return zr(At),null;case 25:return null;default:return null}}function Jy(t,r){switch(Of(r),r.tag){case 3:zr(At),Jn();break;case 26:case 27:case 5:wr(r);break;case 4:Jn();break;case 13:qr(r);break;case 19:le(xt);break;case 10:zr(r.type);break;case 22:case 23:qr(r),Qf(),t!==null&&le(Os);break;case 24:zr(At)}}function gl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(r,r.return,b)}}function bi(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=r;var I=a,F=b;try{F()}catch(X){Ze(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){Ze(r,r.return,X)}}function ev(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Bg(r,a)}catch(l){Ze(t,t.return,l)}}}function tv(t,r,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function yl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function dr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function nv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Td(t,r,a){try{var l=t.stateNode;sw(l,t.type,a,r),l[gt]=r}catch(h){Ze(t,t.return,h)}}function rv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function bd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(wd(t,r,a),t=t.sibling;t!==null;)wd(t,r,a),t=t.sibling}function Sc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ni(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Sc(t,r,a),t=t.sibling;t!==null;)Sc(t,r,a),t=t.sibling}function iv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Bt(r,l,a),r[bt]=t,r[gt]=a}catch(d){Ze(t,t.return,d)}}var Gr=!1,mt=!1,Sd=!1,sv=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function j1(t,r){if(t=t.containerInfo,Yd=qc,t=gg(t),bf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,I=-1,F=0,X=0,J=t,G=null;t:for(;;){for(var K;J!==a||h!==0&&J.nodeType!==3||(b=_+h),J!==d||l!==0&&J.nodeType!==3||(I=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(K=J.firstChild)!==null;)G=J,J=K;for(;;){if(J===t)break t;if(G===a&&++F===h&&(b=_),G===d&&++X===l&&(I=_),(K=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=K}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},qc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ps(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function av(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&gl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Ps(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&ev(a),l&512&&yl(a,a.return);break;case 3:if(wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Bg(t,r)}catch(_){Ze(a,a.return,_)}}break;case 27:r===null&&l&4&&iv(a);case 26:case 5:wi(t,a),r===null&&l&4&&nv(a),l&512&&yl(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&uv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Y1.bind(null,a),fw(t,a))));break;case 22:if(l=a.memoizedState!==null||Gr,!l){r=r!==null&&r.memoizedState!==null||mt,h=Gr;var d=mt;Gr=l,(mt=r)&&!d?Si(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),Gr=h,mt=d}break;case 30:break;default:wi(t,a)}}function ov(t){var r=t.alternate;r!==null&&(t.alternate=null,ov(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&hi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,an=!1;function Kr(t,r,a){for(a=a.child;a!==null;)lv(t,r,a),a=a.sibling}function lv(t,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:mt||dr(a,r),Kr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||dr(a,r);var l=rt,h=an;Ni(a.type)&&(rt=a.stateNode,an=!1),Kr(t,r,a),xl(a.stateNode),rt=l,an=h;break;case 5:mt||dr(a,r);case 6:if(l=rt,h=an,rt=null,Kr(t,r,a),rt=l,an=h,rt!==null)if(an)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{rt.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:rt!==null&&(an?(t=rt,Wv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ml(t)):Wv(rt,a.stateNode));break;case 4:l=rt,h=an,rt=a.stateNode.containerInfo,an=!0,Kr(t,r,a),rt=l,an=h;break;case 0:case 11:case 14:case 15:mt||bi(2,a,r),mt||bi(4,a,r),Kr(t,r,a);break;case 1:mt||(dr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&tv(a,r,l)),Kr(t,r,a);break;case 21:Kr(t,r,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Kr(t,r,a),mt=l;break;default:Kr(t,r,a)}}function uv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ml(t)}catch(a){Ze(r,r.return,a)}}function z1(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new sv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new sv),r;default:throw Error(s(435,t.tag))}}function Ad(t,r){var a=z1(t);r.forEach(function(l){var h=$1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Ni(b.type)){rt=b.stateNode,an=!1;break e}break;case 5:rt=b.stateNode,an=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(rt===null)throw Error(s(160));lv(d,_,h),rt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)cv(r,t),r=r.sibling}var qn=null;function cv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(r,t),pn(t),l&4&&(bi(3,t,t.return),gl(3,t),bi(5,t,t.return));break;case 1:mn(r,t),pn(t),l&512&&(mt||a===null||dr(a,a.return)),l&64&&Gr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=qn;if(mn(r,t),pn(t),l&512&&(mt||a===null||dr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,a),d[bt]=t,ft(d),l=d;break e;case"link":var _=i_("link","href",h).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=i_("meta","content",h).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=h.createElement(l),Bt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,ft(d),l=d}t.stateNode=l}else s_(h,t.type,t.stateNode);else t.stateNode=r_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?s_(h,t.type,t.stateNode):r_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Td(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(r,t),pn(t),l&512&&(mt||a===null||dr(a,a.return)),a!==null&&l&4&&Td(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(r,t),pn(t),l&512&&(mt||a===null||dr(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(K){Ze(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Td(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(mn(r,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){Ze(t,t.return,K)}}break;case 3:if(jc=null,h=qn,qn=Lc(r.containerInfo),mn(r,t),qn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(r.containerInfo)}catch(K){Ze(t,t.return,K)}Sd&&(Sd=!1,hv(t));break;case 4:l=qn,qn=Lc(t.stateNode.containerInfo),mn(r,t),pn(t),qn=l;break;case 12:mn(r,t),pn(t);break;case 13:mn(r,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ad(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=Gr,X=mt;if(Gr=F||h,mt=X||I,mn(r,t),mt=X,Gr=F,pn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Gr||mt||Vs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=I.stateNode;var J=I.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){Ze(I,I.return,K)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(K){Ze(I,I.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ad(t,a))));break;case 19:mn(r,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ad(t,l)));break;case 30:break;case 21:break;default:mn(r,t),pn(t)}}function pn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=bd(t);Sc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(Sn(_,""),a.flags&=-33);var b=bd(t);Sc(t,b,_);break;case 3:case 4:var I=a.stateNode.containerInfo,F=bd(t);wd(t,F,I);break;default:throw Error(s(161))}}catch(X){Ze(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function hv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;hv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)av(t,r.alternate,r),r=r.sibling}function Vs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:bi(4,r,r.return),Vs(r);break;case 1:dr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&tv(r,r.return,a),Vs(r);break;case 27:xl(r.stateNode);case 26:case 5:dr(r,r.return),Vs(r);break;case 22:r.memoizedState===null&&Vs(r);break;case 30:Vs(r);break;default:Vs(r)}t=t.sibling}}function Si(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Si(h,d,a),gl(4,d);break;case 1:if(Si(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){Ze(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)zg(I[h],b)}catch(F){Ze(l,l.return,F)}}a&&_&64&&ev(d),yl(d,d.return);break;case 27:iv(d);case 26:case 5:Si(h,d,a),a&&l===null&&_&4&&nv(d),yl(d,d.return);break;case 12:Si(h,d,a);break;case 13:Si(h,d,a),a&&_&4&&uv(h,d);break;case 22:d.memoizedState===null&&Si(h,d,a),yl(d,d.return);break;case 30:break;default:Si(h,d,a)}r=r.sibling}}function xd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Rd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t))}function mr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)fv(t,r,a,l),r=r.sibling}function fv(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:mr(t,r,a,l),h&2048&&gl(9,r);break;case 1:mr(t,r,a,l);break;case 3:mr(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){mr(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(r,r.return,I)}}else mr(t,r,a,l);break;case 13:mr(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?mr(t,r,a,l):vl(t,r):d._visibility&2?mr(t,r,a,l):(d._visibility|=2,ja(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&xd(_,r);break;case 24:mr(t,r,a,l),h&2048&&Rd(r.alternate,r);break;default:mr(t,r,a,l)}}function ja(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,b=a,I=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,b,I,h),gl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ja(d,_,b,I,h):vl(d,_):(X._visibility|=2,ja(d,_,b,I,h)),h&&F&2048&&xd(_.alternate,_);break;case 24:ja(d,_,b,I,h),h&&F&2048&&Rd(_.alternate,_);break;default:ja(d,_,b,I,h)}r=r.sibling}}function vl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:vl(a,l),h&2048&&xd(l.alternate,l);break;case 24:vl(a,l),h&2048&&Rd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var _l=8192;function za(t){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)dv(t),t=t.sibling}function dv(t){switch(t.tag){case 26:za(t),t.flags&_l&&t.memoizedState!==null&&Aw(qn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var r=qn;qn=Lc(t.stateNode.containerInfo),za(t),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=_l,_l=16777216,za(t),_l=r):za(t));break;default:za(t)}}function mv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,gv(l,t)}mv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pv(t),t=t.sibling}function pv(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&bi(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Ac(t)):El(t);break;default:El(t)}}function Ac(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,gv(l,t)}mv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:bi(8,r,r.return),Ac(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Ac(r));break;default:Ac(r)}t=t.sibling}}function gv(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:bi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(ov(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var B1={getCacheForType:function(t){var r=Kt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},q1=typeof WeakMap=="function"?WeakMap:Map,Ke=0,et=null,ke=null,Ue=0,Qe=0,gn=null,Ai=!1,Ba=!1,Id=!1,Qr=0,ct=0,xi=0,Ls=0,Cd=0,On=0,qa=0,Tl=null,on=null,Nd=!1,Dd=0,xc=1/0,Rc=null,Ri=null,zt=0,Ii=null,Ha=null,Fa=0,kd=0,Od=null,yv=null,bl=0,Md=null;function yn(){if((Ke&2)!==0&&Ue!==0)return Ue&-Ue;if(W.T!==null){var t=Da;return t!==0?t:Bd()}return ui()}function vv(){On===0&&(On=(Ue&536870912)===0||qe?Do():536870912);var t=kn.current;return t!==null&&(t.flags|=32),On}function vn(t,r,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),Ci(t,Ue,On,!1)),Ar(t,a),((Ke&2)===0||t!==et)&&(t===et&&((Ke&2)===0&&(Ls|=a),ct===4&&Ci(t,Ue,On,!1)),pr(t))}function _v(t,r,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||us(t,r),h=l?G1(t,r):Ld(t,r,!0),d=l;do{if(h===0){Ba&&!l&&Ci(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!H1(a)){h=Ld(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;h=Tl;var I=b.current.memoizedState.isDehydrated;if(I&&(Ga(b,_).flags|=256),_=Ld(b,_,!1),_!==2){if(Id&&!I){b.errorRecoveryDisabledLanes|=d,Ls|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Ci(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ci(l,r,On,!Ai);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Dd+300-bn(),10<h)){if(Ci(l,r,On,!Ai),la(l,0,!0)!==0)break e;l.timeoutHandle=Yv(Ev.bind(null,l,a,on,Rc,Nd,r,On,Ls,qa,Ai,d,2,-0,0),h);break e}Ev(l,a,on,Rc,Nd,r,On,Ls,qa,Ai,d,0,-0,0)}}break}while(!0);pr(t)}function Ev(t,r,a,l,h,d,_,b,I,F,X,J,G,K){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Cl={stylesheets:null,count:0,unsuspend:Sw},dv(r),J=xw(),J!==null)){t.cancelPendingCommit=J(Rv.bind(null,t,r,d,a,l,h,_,b,I,X,1,G,K)),Ci(t,d,_,!F);return}Rv(t,r,d,a,l,h,_,b,I)}function H1(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ci(t,r,a,l){r&=~Cd,r&=~Ls,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&er(t,a,r)}function Ic(){return(Ke&6)===0?(wl(0),!1):!0}function Pd(){if(ke!==null){if(Qe===0)var t=ke.return;else t=ke,jr=Ds=null,Zf(t),La=null,dl=0,t=ke;for(;t!==null;)Jy(t.alternate,t),t=t.return;ke=null}}function Ga(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ow(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Pd(),et=t,ke=a=Vr(t.current,null),Ue=r,Qe=0,gn=null,Ai=!1,Ba=us(t,r),Id=!1,qa=On=Cd=Ls=xi=ct=0,on=Tl=null,Nd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return Qr=r,Wu(),a}function Tv(t,r){Ie=null,W.H=pc,r===il||r===sc?(r=Ug(),Qe=3):r===Pg?(r=Ug(),Qe=4):Qe=r===jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,gn=r,ke===null&&(ct=1,Ec(t,In(r,t.current)))}function bv(){var t=W.H;return W.H=pc,t===null?pc:t}function wv(){var t=W.A;return W.A=B1,t}function Vd(){ct=4,Ai||(Ue&4194048)!==Ue&&kn.current!==null||(Ba=!0),(xi&134217727)===0&&(Ls&134217727)===0||et===null||Ci(et,Ue,On,!1)}function Ld(t,r,a){var l=Ke;Ke|=2;var h=bv(),d=wv();(et!==t||Ue!==r)&&(Rc=null,Ga(t,r)),r=!1;var _=ct;e:do try{if(Qe!==0&&ke!==null){var b=ke,I=gn;switch(Qe){case 8:Pd(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var F=Qe;if(Qe=0,gn=null,Ka(t,b,I,F),a&&Ba){_=0;break e}break;default:F=Qe,Qe=0,gn=null,Ka(t,b,I,F)}}F1(),_=ct;break}catch(X){Tv(t,X)}while(!0);return r&&t.shellSuspendCounter++,jr=Ds=null,Ke=l,W.H=h,W.A=d,ke===null&&(et=null,Ue=0,Wu()),_}function F1(){for(;ke!==null;)Sv(ke)}function G1(t,r){var a=Ke;Ke|=2;var l=bv(),h=wv();et!==t||Ue!==r?(Rc=null,xc=bn()+500,Ga(t,r)):Ba=us(t,r);e:do try{if(Qe!==0&&ke!==null){r=ke;var d=gn;t:switch(Qe){case 1:Qe=0,gn=null,Ka(t,r,d,1);break;case 2:case 9:if(Vg(d)){Qe=0,gn=null,Av(r);break}r=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),pr(t)},d.then(r,r);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Vg(d)?(Qe=0,gn=null,Av(r)):(Qe=0,gn=null,Ka(t,r,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var b=ke;if(!_||a_(_)){Qe=0,gn=null;var I=b.sibling;if(I!==null)ke=I;else{var F=b.return;F!==null?(ke=F,Cc(F)):ke=null}break t}}Qe=0,gn=null,Ka(t,r,d,5);break;case 6:Qe=0,gn=null,Ka(t,r,d,6);break;case 8:Pd(),ct=6;break e;default:throw Error(s(462))}}K1();break}catch(X){Tv(t,X)}while(!0);return jr=Ds=null,W.H=l,W.A=h,Ke=a,ke!==null?0:(et=null,Ue=0,Wu(),ct)}function K1(){for(;ke!==null&&!Ro();)Sv(ke)}function Sv(t){var r=Xy(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,r===null?Cc(t):ke=r}function Av(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Gy(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Gy(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Zf(r);default:Jy(a,r),r=ke=xg(r,Qr),r=Xy(a,r,Qr)}t.memoizedProps=t.pendingProps,r===null?Cc(t):ke=r}function Ka(t,r,a,l){jr=Ds=null,Zf(r),La=null,dl=0;var h=r.return;try{if(P1(t,h,r,a,Ue)){ct=1,Ec(t,In(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;ct=1,Ec(t,In(a,t.current)),ke=null;return}r.flags&32768?(qe||l===1?t=!0:Ba||(Ue&536870912)!==0?t=!1:(Ai=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xv(r,t)):Cc(r)}function Cc(t){var r=t;do{if((r.flags&32768)!==0){xv(r,Ai);return}t=r.return;var a=L1(r.alternate,r,Qr);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);ct===0&&(ct=5)}function xv(t,r){do{var a=U1(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);ct=6,ke=null}function Rv(t,r,a,l,h,d,_,b,I){t.cancelPendingCommit=null;do Nc();while(zt!==0);if((Ke&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Rf,Oo(t,a,d,_,b,I),t===et&&(ke=et=null,Ue=0),Ha=r,Ii=t,Fa=a,kd=d,Od=h,yv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,W1(ss,function(){return kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,h=oe.p,oe.p=2,_=Ke,Ke|=4;try{j1(t,r,a)}finally{Ke=_,oe.p=h,W.T=l}}zt=1,Iv(),Cv(),Nv()}}function Iv(){if(zt===1){zt=0;var t=Ii,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{cv(r,t);var d=$d,_=gg(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&pg(b.ownerDocument.documentElement,b)){if(I!==null&&bf(b)){var F=I.start,X=I.end;if(X===void 0&&(X=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(X,b.value.length);else{var J=b.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var K=G.getSelection(),Te=b.textContent.length,ve=Math.min(I.start,Te),Xe=I.end===void 0?ve:Math.min(I.end,Te);!K.extend&&ve>Xe&&(_=Xe,Xe=ve,ve=_);var j=mg(b,ve),M=mg(b,Xe);if(j&&M&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var q=J.createRange();q.setStart(j.node,j.offset),K.removeAllRanges(),ve>Xe?(K.addRange(q),K.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),K.addRange(q))}}}}for(J=[],K=b;K=K.parentNode;)K.nodeType===1&&J.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}qc=!!Yd,$d=Yd=null}finally{Ke=h,oe.p=l,W.T=a}}t.current=r,zt=2}}function Cv(){if(zt===2){zt=0;var t=Ii,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=oe.p;oe.p=2;var h=Ke;Ke|=4;try{av(t,r.alternate,r)}finally{Ke=h,oe.p=l,W.T=a}}zt=3}}function Nv(){if(zt===4||zt===3){zt=0,Au();var t=Ii,r=Ha,a=Fa,l=yv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?zt=5:(zt=0,Ha=Ii=null,Dv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ri=null),ua(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(lt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,h=oe.p,oe.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{W.T=r,oe.p=h}}(Fa&3)!==0&&Nc(),pr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Md?bl++:(bl=0,Md=t):bl=0,wl(0)}}function Dv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,nl(r)))}function Nc(t){return Iv(),Cv(),Nv(),kv()}function kv(){if(zt!==5)return!1;var t=Ii,r=kd;kd=0;var a=ua(Fa),l=W.T,h=oe.p;try{oe.p=32>a?32:a,W.T=null,a=Od,Od=null;var d=Ii,_=Fa;if(zt=0,Ha=Ii=null,Fa=0,(Ke&6)!==0)throw Error(s(331));var b=Ke;if(Ke|=4,pv(d.current),fv(d,d.current,_,a),Ke=b,wl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{oe.p=h,W.T=l,Dv(t,r)}}function Ov(t,r,a){r=In(a,r),r=fd(t.stateNode,r,2),t=vi(t,r,2),t!==null&&(Ar(t,2),pr(t))}function Ze(t,r,a){if(t.tag===3)Ov(t,t,a);else for(;r!==null;){if(r.tag===3){Ov(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ri===null||!Ri.has(l))){t=In(a,t),a=Ly(2),l=vi(r,a,2),l!==null&&(Uy(a,l,r,t),Ar(l,2),pr(l));break}}r=r.return}}function Ud(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new q1;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Id=!0,h.add(a),t=Q1.bind(null,t,r,a),r.then(t,t))}function Q1(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>bn()-Dd?(Ke&2)===0&&Ga(t,0):Cd|=a,qa===Ue&&(qa=0)),pr(t)}function Mv(t,r){r===0&&(r=ko()),t=Ra(t,r),t!==null&&(Ar(t,r),pr(t))}function Y1(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Mv(t,a)}function $1(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Mv(t,a)}function W1(t,r){return rs(t,r)}var Dc=null,Qa=null,jd=!1,kc=!1,zd=!1,Us=0;function pr(t){t!==Qa&&t.next===null&&(Qa===null?Dc=Qa=t:Qa=Qa.next=t),kc=!0,jd||(jd=!0,Z1())}function wl(t,r){if(!zd&&kc){zd=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Uv(l,d))}else d=Ue,d=la(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,Uv(l,d));l=l.next}while(a);zd=!1}}function X1(){Pv()}function Pv(){kc=jd=!1;var t=0;Us!==0&&(aw()&&(t=Us),Us=0);for(var r=bn(),a=null,l=Dc;l!==null;){var h=l.next,d=Vv(l,r);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}wl(t)}function Vv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Gt(d),b=1<<_,I=h[_];I===-1?((b&a)===0||(b&l)!==0)&&(h[_]=No(b,r)):I<=r&&(t.expiredLanes|=b),d&=~b}if(r=et,a=Ue,a=la(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&is(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&is(l),ua(a)){case 2:case 8:a=aa;break;case 32:a=ss;break;case 268435456:a=oa;break;default:a=ss}return l=Lv.bind(null,t),a=rs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&is(l),t.callbackPriority=2,t.callbackNode=null,2}function Lv(t,r){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=Ue;return l=la(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(_v(t,l,r),Vv(t,bn()),t.callbackNode!=null&&t.callbackNode===a?Lv.bind(null,t):null)}function Uv(t,r){if(Nc())return null;_v(t,r,!0)}function Z1(){lw(function(){(Ke&6)!==0?rs(Io,X1):Pv()})}function Bd(){return Us===0&&(Us=Do()),Us}function jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function zv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function J1(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=jv((h[gt]||null).action),_=l.submitter;_&&(r=(r=_[gt]||null)?jv(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new ga("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Us!==0){var I=_?zv(h,_):new FormData(h);od(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=_?zv(h,_):new FormData(h),od(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var qd=0;qd<xf.length;qd++){var Hd=xf[qd],ew=Hd.toLowerCase(),tw=Hd[0].toUpperCase()+Hd.slice(1);Bn(ew,"on"+tw)}Bn(_g,"onAnimationEnd"),Bn(Eg,"onAnimationIteration"),Bn(Tg,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(v1,"onTransitionRun"),Bn(_1,"onTransitionStart"),Bn(E1,"onTransitionCancel"),Bn(bg,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Bv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],I=b.instance,F=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(b=l[_],I=b.instance,F=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=F;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[Po];a===void 0&&(a=r[Po]=new Set);var l=t+"__bubble";a.has(l)||(qv(r,t,2,!1),a.add(l))}function Fd(t,r,a){var l=0;r&&(l|=4),qv(a,t,l,r)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Oc]){t[Oc]=!0,Vo.forEach(function(a){a!=="selectionchange"&&(nw.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Oc]||(r[Oc]=!0,Fd("selectionchange",!1,r))}}function qv(t,r,a,l){switch(f_(r)){case 2:var h=Cw;break;case 8:h=Nw;break;default:h=sm}a=h.bind(null,r,a,t),h=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Kd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=xr(b),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Pu(function(){var F=d,X=An(a),J=[];e:{var G=wg.get(t);if(G!==void 0){var K=ga,Te=t;switch(t){case"keypress":if(ar(a)===0)break e;case"keydown":case"keyup":K=ba;break;case"focusin":Te="focus",K=_a;break;case"focusout":Te="blur",K=_a;break;case"beforeblur":case"afterblur":K=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Hu;break;case _g:case Eg:case Tg:K=Ea;break;case bg:K=Gu;break;case"scroll":case"scrollend":K=Vu;break;case"wheel":K=wa;break;case"copy":case"cut":case"paste":K=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Yo;break;case"toggle":case"beforetoggle":K=Qu}var ve=(r&4)!==0,Xe=!ve&&(t==="scroll"||t==="scrollend"),j=ve?G!==null?G+"Capture":null:G;ve=[];for(var M=F,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=ys(M,j),Z!=null&&ve.push(Al(M,Z,q))),Xe)break;M=M.return}0<ve.length&&(G=new K(G,Te,null,a,X),J.push({event:G,listeners:ve}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&a!==Nr&&(Te=a.relatedTarget||a.fromElement)&&(xr(Te)||Te[wn]))break e;if((K||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Te=a.relatedTarget||a.toElement,K=F,Te=Te?xr(Te):null,Te!==null&&(Xe=u(Te),ve=Te.tag,Te!==Xe||ve!==5&&ve!==27&&ve!==6)&&(Te=null)):(K=null,Te=F),K!==Te)){if(ve=Rn,Z="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Yo,Z="onPointerLeave",j="onPointerEnter",M="pointer"),Xe=K==null?G:nr(K),q=Te==null?G:nr(Te),G=new ve(Z,M+"leave",K,a,X),G.target=Xe,G.relatedTarget=q,Z=null,xr(X)===F&&(ve=new ve(j,M+"enter",Te,a,X),ve.target=q,ve.relatedTarget=Xe,Z=ve),Xe=Z,K&&Te)t:{for(ve=K,j=Te,M=0,q=ve;q;q=Ya(q))M++;for(q=0,Z=j;Z;Z=Ya(Z))q++;for(;0<M-q;)ve=Ya(ve),M--;for(;0<q-M;)j=Ya(j),q--;for(;M--;){if(ve===j||j!==null&&ve===j.alternate)break t;ve=Ya(ve),j=Ya(j)}ve=null}else ve=null;K!==null&&Hv(J,G,K,ve,!1),Te!==null&&Xe!==null&&Hv(J,Xe,Te,ve,!0)}}e:{if(G=F?nr(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var he=lg;else if(St(G))if(ug)he=p1;else{he=d1;var De=f1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Bo(F.elementType)&&(he=lg):he=m1;if(he&&(he=he(t,F))){Pr(J,he,a,X);break e}De&&De(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&di(G,"number",G.value)}switch(De=F?nr(F):window,t){case"focusin":(St(De)||De.contentEditable==="true")&&(Sa=De,wf=F,Xo=null);break;case"focusout":Xo=wf=Sa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,yg(J,a,X);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":yg(J,a,X)}var de;if(ur)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?Q(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(de=Ho()):(sr=X,mi="value"in sr?sr.value:sr.textContent,Ve=!0)),De=Mc(F,_e),0<De.length&&(_e=new Ko(_e,t,null,a,X),J.push({event:_e,listeners:De}),de?_e.data=de:(de=ae(a),de!==null&&(_e.data=de)))),(de=y?wt(t,a):Le(t,a))&&(_e=Mc(F,"onBeforeInput"),0<_e.length&&(De=new Ko("onBeforeInput","beforeinput",null,a,X),J.push({event:De,listeners:_e}),De.data=de)),J1(J,t,F,a,X)}Bv(J,r)})}function Al(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Mc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(t,a),h!=null&&l.unshift(Al(t,h,d)),h=ys(t,r),h!=null&&l.push(Al(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hv(t,r,a,l,h){for(var d=r._reactName,_=[];a!==null&&a!==l;){var b=a,I=b.alternate,F=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||F===null||(I=F,h?(F=ys(a,d),F!=null&&_.unshift(Al(a,F,I))):h||(F=ys(a,d),F!=null&&_.push(Al(a,F,I)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var rw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(rw,`
`).replace(iw,"")}function Gv(t,r){return r=Fv(r),Fv(t)===r}function Pc(){}function We(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(t,""+l);break;case"className":rr(t,"class",l);break;case"tabIndex":rr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(r!=="object"){rr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),fi(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gf.get(a)||a,fi(t,a,l))}}function Qd(t,r,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fi(t,a,l)}}}function Bt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,_,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=_=h=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":I=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(t,r,l,X,a,null)}}ms(t,d,b,I,F,_,h,!1),ma(t);return;case"select":Oe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:We(t,r,h,b,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Cr(t,!!l,r,!1):a!=null&&Cr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,r,_,b,a,null)}ps(t,l,h,d),ma(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Oe(Sl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,F,l,a,null)}return;default:if(Bo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Qd(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,r,b,l,a,null))}function sw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,b=null,I=null,F=null,X=null;for(K in a){var J=a[K];if(a.hasOwnProperty(K)&&J!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(K)||We(t,r,K,null,l,J)}}for(var G in l){var K=l[G];if(J=a[G],l.hasOwnProperty(G)&&(K!=null||J!=null))switch(G){case"type":d=K;break;case"name":h=K;break;case"checked":F=K;break;case"defaultChecked":X=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==J&&We(t,r,G,K,l,J)}}hn(t,_,b,I,F,X,d,h);return;case"select":K=_=b=G=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||We(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==I&&We(t,r,h,d,l,I)}r=b,a=_,l=K,G!=null?Cr(t,!!a,G,!1):!!l!=!!a&&(r!=null?Cr(t,!!a,r,!0):Cr(t,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,r,b,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,_,h,l,d)}Ye(t,G,K);return;case"option":for(var Te in a)if(G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,r,Te,null,l,G)}for(I in l)if(G=l[I],K=a[I],l.hasOwnProperty(I)&&G!==K&&(G!=null||K!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(t,r,I,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&We(t,r,ve,null,l,G);for(F in l)if(G=l[F],K=a[F],l.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:We(t,r,F,G,l,K)}return;default:if(Bo(r)){for(var Xe in a)G=a[Xe],a.hasOwnProperty(Xe)&&G!==void 0&&!l.hasOwnProperty(Xe)&&Qd(t,r,Xe,void 0,l,G);for(X in l)G=l[X],K=a[X],!l.hasOwnProperty(X)||G===K||G===void 0&&K===void 0||Qd(t,r,X,G,l,K);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&We(t,r,j,null,l,G);for(J in l)G=l[J],K=a[J],!l.hasOwnProperty(J)||G===K||G==null&&K==null||We(t,r,J,G,l,K)}var Yd=null,$d=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function Kv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Wd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xd=null;function aw(){var t=window.event;return t&&t.type==="popstate"?t===Xd?!1:(Xd=t,!0):(Xd=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,ow=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(t){return $v.resolve(null).then(t).catch(uw)}:Yv;function uw(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function Wv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&xl(_.documentElement),a&2&&xl(_.body),a&4)for(a=_.head,xl(a),_=a.firstChild;_;){var b=_.nextSibling,I=_.nodeName;_[cs]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=b}}if(h===0){t.removeChild(d),Ml(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ml(r)}function Zd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),hi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function hw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var em=null;function Xv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Zv(t,r,a){switch(r=Vc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);hi(t)}var Mn=new Map,Jv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yr=oe.d;oe.d={f:dw,r:mw,D:pw,C:gw,L:yw,m:vw,X:Ew,S:_w,M:Tw};function dw(){var t=Yr.f(),r=Ic();return t||r}function mw(t){var r=tr(t);r!==null&&r.tag===5&&r.type==="form"?_y(r):Yr.r(t)}var $a=typeof document>"u"?null:document;function e_(t,r,a){var l=$a;if(l&&typeof r=="string"&&r){var h=yt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Jv.has(h)||(Jv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Bt(r,"link",t),ft(r),l.head.appendChild(r)))}}function pw(t){Yr.D(t),e_("dns-prefetch",t,null)}function gw(t,r){Yr.C(t,r),e_("preconnect",t,r)}function yw(t,r,a){Yr.L(t,r,a);var l=$a;if(l&&t&&r){var h='link[rel="preload"][as="'+yt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(r){case"style":d=Wa(t);break;case"script":d=Xa(t)}Mn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Mn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Rl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),Bt(r,"link",t),ft(r),l.head.appendChild(r)))}}function vw(t,r){Yr.m(t,r);var a=$a;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Mn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Bt(l,"link",t),ft(l),a.head.appendChild(l)}}}function _w(t,r,a){Yr.S(t,r,a);var l=$a;if(l&&t){var h=Zt(l).hoistableStyles,d=Wa(t);r=r||"default";var _=h.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Rl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Mn.get(d))&&tm(t,a);var I=_=l.createElement("link");ft(I),Bt(I,"link",t),I._p=new Promise(function(F,X){I.onload=F,I.onerror=X}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Uc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(d,_)}}}function Ew(t,r){Yr.X(t,r);var a=$a;if(a&&t){var l=Zt(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0},r),(r=Mn.get(h))&&nm(t,r),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tw(t,r){Yr.M(t,r);var a=$a;if(a&&t){var l=Zt(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Mn.get(h))&&nm(t,r),d=a.createElement("script"),ft(d),Bt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function t_(t,r,a,l){var h=(h=we.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wa(a.href),a=Zt(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=Zt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Rl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||bw(h,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=Zt(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+yt(t)+'"'}function Rl(t){return'link[rel="stylesheet"]['+t+"]"}function n_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function bw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Bt(r,"link",a),ft(r),t.head.appendChild(r))}function Xa(t){return'[src="'+yt(t)+'"]'}function Il(t){return"script[async]"+t}function r_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return r.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Bt(l,"style",h),Uc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Rl(h));if(d)return r.state.loading|=4,r.instance=d,ft(d),d;l=n_(a),(h=Mn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var _=d;return _._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Bt(d,"link",l),r.state.loading|=4,Uc(d,a.precedence,t),r.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Il(d)))?(r.instance=h,ft(h),h):(l=a,(h=Mn.get(d))&&(l=E({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Bt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Uc(l,a.precedence,t));return r.instance}function Uc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function tm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function nm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var jc=null;function i_(t,r,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function s_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function ww(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function a_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Cl=null;function Sw(){}function Aw(t,r,a){if(Cl===null)throw Error(s(475));var l=Cl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Wa(a.href),d=t.querySelector(Rl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=zc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ft(d);return}d=t.ownerDocument||t,a=n_(a),(h=Mn.get(h))&&tm(a,h),d=d.createElement("link"),ft(d);var _=d;_._p=new Promise(function(b,I){_.onload=b,_.onerror=I}),Bt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=zc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function xw(){if(Cl===null)throw Error(s(475));var t=Cl;return t.stylesheets&&t.count===0&&rm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&rm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)rm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function rm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,r.forEach(Rw,t),Bc=null,zc.call(t))}function Rw(t,r){if(!(r.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=r.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Iw(t,r,a,l,h,d,_,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function o_(t,r,a,l,h,d,_,b,I,F,X,J){return t=new Iw(t,r,a,_,b,I,F,J),r=1,d===!0&&(r|=24),d=dn(3,null,null,r),t.current=d,d.stateNode=t,r=Uf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},qf(d),t}function l_(t){return t?(t=Ia,t):Ia}function u_(t,r,a,l,h,d){h=l_(h),l.context===null?l.context=h:l.pendingContext=h,l=yi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=vi(t,l,r),a!==null&&(vn(a,t,r),al(a,t,r))}function c_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function im(t,r){c_(t,r),(t=t.alternate)&&c_(t,r)}function h_(t){if(t.tag===13){var r=Ra(t,67108864);r!==null&&vn(r,t,67108864),im(t,67108864)}}var qc=!0;function Cw(t,r,a,l){var h=W.T;W.T=null;var d=oe.p;try{oe.p=2,sm(t,r,a,l)}finally{oe.p=d,W.T=h}}function Nw(t,r,a,l){var h=W.T;W.T=null;var d=oe.p;try{oe.p=8,sm(t,r,a,l)}finally{oe.p=d,W.T=h}}function sm(t,r,a,l){if(qc){var h=am(l);if(h===null)Kd(t,r,l,Hc,a),d_(t,l);else if(kw(h,t,r,a,l))l.stopPropagation();else if(d_(t,l),r&4&&-1<Dw.indexOf(t)){for(;h!==null;){var d=tr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Un(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var I=1<<31-Gt(_);b.entanglements[1]|=I,_&=~I}pr(d),(Ke&6)===0&&(xc=bn()+500,wl(0))}}break;case 13:b=Ra(d,2),b!==null&&vn(b,d,2),Ic(),im(d,2)}if(d=am(l),d===null&&Kd(t,r,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,r,l,null,a)}}function am(t){return t=An(t),om(t)}var Hc=null;function om(t){if(Hc=null,t=xr(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Hc=t,null}function f_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cf()){case Io:return 2;case aa:return 8;case ss:case hf:return 32;case oa:return 268435456;default:return 32}default:return 32}}var lm=!1,Di=null,ki=null,Oi=null,Dl=new Map,kl=new Map,Mi=[],Dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(t,r){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(r.pointerId)}}function Ol(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=tr(r),r!==null&&h_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function kw(t,r,a,l,h){switch(r){case"focusin":return Di=Ol(Di,t,r,a,l,h),!0;case"dragenter":return ki=Ol(ki,t,r,a,l,h),!0;case"mouseover":return Oi=Ol(Oi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ol(Dl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ol(kl.get(d)||null,t,r,a,l,h)),!0}return!1}function m_(t){var r=xr(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Iu(t.priority,function(){if(a.tag===13){var l=yn();l=li(l);var h=Ra(a,l);h!==null&&vn(h,a,l),im(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nr=l,a.target.dispatchEvent(l),Nr=null}else return r=tr(a),r!==null&&h_(r),t.blockedOn=a,!1;r.shift()}return!0}function p_(t,r,a){Fc(t)&&a.delete(r)}function Ow(){lm=!1,Di!==null&&Fc(Di)&&(Di=null),ki!==null&&Fc(ki)&&(ki=null),Oi!==null&&Fc(Oi)&&(Oi=null),Dl.forEach(p_),kl.forEach(p_)}function Gc(t,r){t.blockedOn===r&&(t.blockedOn=null,lm||(lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ow)))}var Kc=null;function g_(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=tr(a);d!==null&&(t.splice(r,3),r-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ml(t){function r(I){return Gc(I,t)}Di!==null&&Gc(Di,t),ki!==null&&Gc(ki,t),Oi!==null&&Gc(Oi,t),Dl.forEach(r),kl.forEach(r);for(var a=0;a<Mi.length;a++){var l=Mi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)m_(a),a.blockedOn===null&&Mi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[gt]||null;if(typeof d=="function")_||g_(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[gt]||null)b=_.formAction;else if(om(h)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),g_(a)}}}function um(t){this._internalRoot=t}Qc.prototype.render=um.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=yn();u_(a,l,t,r,null,null)},Qc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;u_(t.current,2,null,t,null,null),Ic(),r[wn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=ui();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Mi.length&&r!==0&&r<Mi[a].priority;a++);Mi.splice(a,0,t),a===0&&m_(t)}};var y_=e.version;if(y_!=="19.1.0")throw Error(s(527,y_,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Mw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{lt=Yc.inject(Mw),Ge=Yc}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Oy,d=My,_=Py,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=o_(t,1,!1,null,null,a,l,h,d,_,b,null),t[wn]=r.current,Gd(t),new um(r)},Ul.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Oy,_=My,b=Py,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=o_(t,1,!0,r,a??null,l,h,d,_,b,I,F),r.context=l_(null),a=r.current,l=yn(),l=li(l),h=yi(l),h.callback=null,vi(a,h,l),a=l,r.current.lanes=a,Ar(r,a),pr(r),t[wn]=r.current,Gd(t),new Qc(r)},Ul.version="19.1.0",Ul}var lE;function Dk(){if(lE)return Rm.exports;lE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=Nk(),Rm.exports}var kk=Dk();const Ok=uE(kk),Mk=({children:i})=>{const[e,n]=U.useState(null),[s,o]=U.useState(!0);return U.useEffect(()=>{const u=r2(wu,f=>{n(f),o(!1)});return()=>u()},[]),T.jsx(SE.Provider,{value:{user:e,loading:s},children:i})};Ok.createRoot(document.getElementById("root")).render(T.jsx(L.StrictMode,{children:T.jsx(Mk,{children:T.jsx(Rk,{})})}));
